{"version":3,"sources":["components/CreditsPage/profile-placeholder.jpeg","components/backdrop-placeholder.jpg","components/SignIn/facebook-logo-png-38347.png","firebaseConfig.js","firebase.js","providers/UserProvider.js","providers/LoginModalProvider.js","ScrollToTop.js","components/apiKey.js","components/CreditsPage/createCrewList.js","components/CreditsPage/createCastList.js","components/CreditsPage/CreditsPage.js","components/DashboardPage/ChangePW.js","components/LoadingSpinner/LoadingSpinner.js","components/DashboardPage/DashboardPage.js","components/Home/TrendingChart.js","components/Home/ComingSoonChart.js","components/Home/FeaturedMovie.js","components/Home/PopularMovies.js","components/Home/Home.js","components/MoviePage/budgetCommas.js","components/MoviePage/createTechnicalInfo.js","components/MoviePage/createGenreList.js","components/MoviePage/createStarringList.js","components/MoviePage/similarMoviesDisplay.js","components/MoviePage/DiscussionTabs/Comment.js","components/MoviePage/DiscussionTabs/CommentTab.js","components/MoviePage/DiscussionTabs/Review.js","components/MoviePage/DiscussionTabs/ReviewTab.js","components/MoviePage/DiscussionTabs/DiscussionTabs.js","components/MoviePage/MoviePage.js","components/NoMatch/NoMatch.js","components/PWReset/PWReset.js","components/SearchResultsPage/queryBuilder.js","components/SearchResultsPage/paramDisplayGenerator.js","components/SearchResultsPage/SearchResultsPage.js","components/SearchBar/SearchBar.js","components/SignIn/SignIn.js","components/Signup/Signup.js","App.js","serviceWorker.js","index.js","components/poster-placeholder.jpg"],"names":["module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","auth","firestore","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","addScope","signupNewUser","username","password","email","a","usernameQuery","collection","where","emailQuery","exists","createUserWithEmailAndPassword","catch","error","errorCode","code","errorMessage","message","console","log","id","Date","getTime","toString","doc","set","privilege","userPoints","signinUser","signInWithEmailAndPassword","then","result","googleSignin","signInWithRedirect","facebookSignin","signInWithPopup","getRedirectResult","credential","token","accessToken","user","logoutUser","signOut","getUserData","get","snapshot","userObj","docs","data","updateUserPoints","authorId","userRef","userCommentsRef","userCommentsArr","newPointTotal","forEach","push","comment","points","update","updateUserProfile","arg","newVal","usersRef","currentUser","updateProfile","userId","postMovieComment","movieId","text","add","date","FieldValue","serverTimestamp","upvoters","downvoters","docRef","commentId","merge","getMovieComments","commentArr","postMovieReview","reviewData","uid","rating","reviewText","title","reviewId","getMovieReviews","reviewsArr","toggleUpvote","commentRef","removeFromUpvoters","arrayRemove","removeFromDownvoters","addToUpvoters","arrayUnion","undefined","includes","increment","toggleDownvote","addToDownvoters","deleteComment","delete","deleteReview","passwordReset","sendPasswordResetEmail","checkPassword","userPW","checkUser","UserContext","createContext","UserProvider","children","useState","setUser","pending","setPending","useEffect","onAuthStateChanged","Provider","value","LoginModalContext","ScrollToTop","pathname","useLocation","window","scrollTo","createCrewList","pageMovie","movieCrew","movieCredits","crew","deptObj","i","length","hasOwnProperty","department","Container","Row","Col","className","Object","keys","map","key","crewMember","name","job","createCastList","movieCast","cast","Table","striped","variant","castMember","cast_id","Image","src","path","profile_path","profilePlaceholder","width","height","rounded","to","character","CreditsPage","match","setPageMovie","params","axios","movieInfoRes","movieCreditsRes","movieInfo","fetchData","releaseDate","release_date","exact","original_title","slice","ChangePW","setPassword","newPassword","setNewPassword","changeConfirm","setChangeConfirm","setErrorMessage","noWhitespace","ignore_whitespace","validatePWChange","e","preventDefault","validator","isEmpty","style","textAlign","Form","Group","Label","Control","type","placeholder","onChange","target","Button","size","disabled","block","onClick","LoadingSpinner","Spinner","animation","DashboardPage","useContext","gettingData","userData","setUserData","retrieveUserData","Consumer","xs","sm","Card","Header","Subtitle","Body","Tab","defaultActiveKey","Nav","Item","Link","eventKey","Content","Pane","TrendingChart","nowTrending","setNowTrending","res","results","movie","ComingSoonChart","comingSoon","setcomingSoon","FeaturedMovie","popularMovie","setPopularMovie","history","useHistory","Jumbotron","backgroundImage","backdrop_path","PopularMovies","similarMovies","popularMovies","setPopularMovies","list","md","lg","poster_path","alt","Home","nowPlaying","setNowPlaying","index","setIndex","direction","setDirection","number","order","Carousel","activeIndex","onSelect","selectedIndex","backdropPlaceholder","Caption","margin","fontSize","href","budgetCommas","budget","replace","createTechnicalInfo","runtime","companyNames","production_companies","createProductionCompanyString","join","countryNames","production_countries","createCountriesofOriginString","createGenreList","genreList","genres","genre","indexOf","createStarringList","castLength","starringList","star","similarMoviesDisplay","simList","Comment","props","setLoginShow","loginShow","delModalShow","setDelModal","handleModalShow","handleDelModalShow","handleDelModalHide","handleDelete","setComments","comments","gettingComments","vote","setVote","pointCount","setPointCount","handleUpvote","handleDownvote","OverlayTrigger","placement","overlay","Tooltip","icon","faTimes","color","faPrayingHands","faThumbsDown","seconds","toLocaleDateString","Modal","show","onHide","centered","closeButton","Title","Footer","CommentTab","commentText","setCommentText","commentOrder","newComments","sortedComments","sort","b","x","y","waitForMovieComments","submitComment","event","changeCommentOrder","newOrder","FormControl","as","aria-label","rows","Text","Dropdown","Toggle","Menu","commentCards","paddingBottom","Review","setReviews","reviews","gettingReviews","Array","from","review","_","faStar","ReviewTab","setReviewData","reviewOrder","newReviews","sortedReviews","waitForMovieReviews","submitReview","changeReviewOrder","reviewCards","DiscussionTabs","Tabs","MoviePage","setSimilarMovies","simMoviesRes","fetchSimilar","backdropURL","backdrop","background","backgroundPosition","backgroundAttachment","backgroundSize","marginBottom","posterPlaceholder","overview","similarMovieDisplay","NoMatch","flud","PWReset","setEmail","sendingConfirm","setSendingConfirm","validatePWReset","isEmail","xl","querybuilder","queryObj","finalURL","pageCount","queryNames","urlQuery","q","pry","wc","wca","wg","paramDisplayGenerator","sentence","response","genreName","obj","SearchResultsPage","location","searchParams","queryString","parse","search","currentParams","setCurrentParams","paramDisplay","setParamDisplay","searchResults","setSearchResults","setPageCount","totalPages","setTotalPages","showMoreResults","replacementPageCount","queryBuilder","apiResults","total_pages","paramSentence","fetchResults","ListGroup","withRouter","searchQuery","setSearchQuery","suggestions","setSuggestions","isFocused","setIsFocused","fetchSuggestions","clearSearchBar","clickSearch","titleLimiter","titleCutoff","onFocus","onBlur","setTimeout","onKeyPress","InputGroup","Append","faSearch","suggestionCount","showMore","suggestionBars","SignIn","handleClose","controlId","facebookLogo","Signup","setUsername","validateSignup","isLength","max","min","App","isMobileDevice","useMediaQuery","query","mobileSearch","setMobileSearch","backgroundColor","minHeight","marginLeft","component","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a3e98b10.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/backdrop-placeholder.7ac04234.jpg\";","module.exports = __webpack_public_path__ + \"static/media/facebook-logo-png-38347.465faff2.png\";","// Kino's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC3usqlGSgcOMzxPhedMV7wlmjbuE06IcU\",\n    authDomain: \"kino-e29ae.firebaseapp.com\",\n    databaseURL: \"https://kino-e29ae.firebaseio.com\",\n    projectId: \"kino-e29ae\",\n    storageBucket: \"kino-e29ae.appspot.com\",\n    messagingSenderId: \"467026513874\",\n    appId: \"1:467026513874:web:6adab093d9b2a7b590020b\"\n};\n\nexport default firebaseConfig","import * as firebase from 'firebase';\nimport * as firebaseui from 'firebaseui'\n\nimport firebaseConfig from \"./firebaseConfig.js\"\nimport { counter } from '@fortawesome/fontawesome-svg-core';\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n// auth and firestore\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\n//google provider\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\n\n//facebook provider\nconst facebookProvider = new firebase.auth.FacebookAuthProvider();\nfacebookProvider.addScope('email');\n\n\n//add new user to site firebase.\nexport const signupNewUser = async (username, password, email) => {\n\n    const usernameQuery =  firestore.collection(\"users\").where(\"username\", \"==\", username);\n    const emailQuery = firestore.collection(\"users\").where(\"email\", \"==\", email);\n\n    if (!usernameQuery.exists && !emailQuery.exists) {\n\n\n        await auth.createUserWithEmailAndPassword(email, password).catch( error => {\n            // Handle Errors here.\n            let errorCode = error.code;\n            let errorMessage = error.message;\n            console.log(`${errorCode} ${errorMessage}`)\n            // ...\n        })\n\n        const id = new Date().getTime().toString();\n\n        firestore.collection(\"users\").doc(id).set({\n            //use unix millisecond timestamp for field id\n            id: id,\n            email: email,\n            password: password,\n            privilege: \"user\",\n            userPoints: 0,\n            username: username\n        })\n        .catch(error => {\n            console.error(\"Error adding document: \", error);\n        });\n    \n    }\n    else {\n        console.log(\"something wrong\")\n    }\n\n}\n\n//sign in user\nexport const signinUser = (email, password) => {\n\n    let userPromise = auth.signInWithEmailAndPassword(email, password);\n\n    userPromise.then((result) => {\n        return result;\n\n         // update the context\n    }).catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // ...\n        return error;\n    });\n\n}\n\n//sign in user via google with a redirect\nexport const googleSignin = () => {\n\n  auth.signInWithRedirect(googleProvider);\n\n}\n\nexport const getGoogleAuthResult = () => {\n\n    auth.getRedirectResult().then(function(result) {\n        if (result.credential) {\n          // This gives you a Google Access Token. You can use it to access the Google API.\n          var token = result.credential.accessToken;\n          // ...\n        }\n        // The signed-in user info.\n        var user = result.user;\n      }).catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        // ...\n      });\n\n}\n\n//sign in user via facebook with a redirect\nexport const facebookSignin = () => {\n\n    auth.signInWithPopup(facebookProvider).catch(error => {\n        console.log(error);\n      });\n\n    auth.getRedirectResult().then(function(result) {\n        console.log(result)\n        if (result.credential) {\n          // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n          var token = result.credential.accessToken;\n          console.log(token)\n        \n          // ...\n        }\n        // The signed-in user info.\n        var user = result.user;\n        console.log(user)\n      }).catch(function(error) {\n          console.log(error)\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        // ...\n      });\n\n}\n\n\n\n//logout User\nexport const logoutUser = () => {\n    auth.signOut();\n}\n\n//retrieve user data\nexport const getUserData = async user => {\n\n    let userObj;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", user.email).get().then(snapshot => {\n\n        userObj = snapshot.docs[0].data();\n        \n    }).catch(function(error) {\n    \n        console.log(\"Error getting user: \", error);\n    \n    });\n\n    return userObj;\n\n}\n\n//Update user points value\nexport const updateUserPoints = async (authorId) => {\n\n    const userRef = firestore.collection(\"users\").doc(authorId);\n    const userCommentsRef = firestore.collection(\"movieComments\").where(\"authorId\", \"==\", authorId);\n   \n    let userCommentsArr = [];\n    let newPointTotal = 0;\n\n    await userCommentsRef.get().then(snapshot => {\n\n        snapshot.forEach(doc => {\n            userCommentsArr.push(doc.data());\n        })\n        \n\n  \n    })\n\n    userCommentsArr.forEach(comment => (newPointTotal += comment.points))\n\n    userRef.update({userPoints: newPointTotal})\n\n}\n\n//update user profile WIP\nexport const updateUserProfile = async (arg, newVal) => {\n    \n    const usersRef =  firestore.collection(\"users\");\n    let currentUser = auth.currentUser;   \n    let userId;\n    \n    if (arg = \"password\") {\n\n        await currentUser.updateProfile({\n            password: newVal           \n        })\n\n        await usersRef.where(\"email\", \"==\", currentUser.email).get().then(snapshot => {   \n            userId = snapshot.docs[0].data().id;\n        })\n        \n        usersRef.doc(userId).update({password: newVal});\n\n    }\n\n}\n\n\n//create distributed counters for likes and dislikes for posts and reviews.\nconst createCounter = (ref, num_shards) => {\n    let batch = firestore.batch();\n\n    // Initialize the counter document\n    batch.set(ref, { num_shards: num_shards });\n\n    // Initialize each shard with count=0\n    for (let i = 0; i < num_shards; i++) {\n        let shardRef = ref.collection('shards').doc(i.toString());\n        batch.set(shardRef, { count: 0 });\n    }\n\n    // Commit the write batch\n    return batch.commit();\n}\n\n//use this function to increment the count for posts and review\nconst incrementCounter = (db, ref, num_shards) => {\n    // Select a shard of the counter at random\n    const shard_id = Math.floor(Math.random() * num_shards).toString();\n    const shard_ref = ref.collection('shards').doc(shard_id);\n\n    // Update count\n    return shard_ref.update(\"count\", firebase.firestore.FieldValue.increment(1));\n}\n\n//get the total count from a shard subcollection\nconst getCount = ref => {\n\n     // Sum the count of each shard in the subcollection\n     return ref.collection('shards').get().then(snapshot => {\n        let total_count = 0;\n        snapshot.forEach(doc => {\n            total_count += doc.data().count;\n        });\n\n        return total_count;\n    });\n\n}\n\n//post movie comment to firestore\nexport const postMovieComment = async (movieId, text, user) => {\n\n    let email = user.email;\n    let authorId;\n    let username;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", email).get().then(snapshot => {\n\n        username = snapshot.docs[0].data().username;\n        authorId = snapshot.docs[0].data().id;\n    \n    }).catch(function(error) {\n    \n        console.log(\"Error getting documents: \", error);\n\n    });\n\n    await firestore.collection(\"movieComments\").add({\n        movieId: movieId,\n        username: username,\n        authorId: authorId,\n        date: firebase.firestore.FieldValue.serverTimestamp(),\n        text: text,\n        points: 0,\n        upvoters: [],\n        downvoters: []\n        \n    }).then(function(docRef) {\n        //add UID as property\n        let freshComment = firestore.collection(\"movieComments\").doc(docRef.id);\n\n        freshComment.set({\n            commentId: docRef.id\n        }, {merge: true})\n\n    })\n    .catch(function(error) {\n        console.error(\"Error adding comment: \", error);\n    });\n\n\n}\n\n//retrieve comments for moviepage\nexport const getMovieComments = async movieId => {\n\n    let commentArr = []\n\n    await firestore.collection(\"movieComments\").where(\"movieId\", \"==\", movieId).get().then(snapshot => {\n        snapshot.forEach(doc => {\n\n            commentArr.push(doc.data());\n        })\n  \n    })\n\n    return commentArr;\n\n}\n\nexport const postMovieReview = async (movieId, reviewData, user) => {\n    \n    let email = user.email\n    let authorId = user.uid\n    let username;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", email).get().then(snapshot => {\n        username = snapshot.docs[0].data().username;\n\n    }).catch(function(error) {\n        console.log(\"Error getting document: \", error);\n    });\n    await firestore.collection(\"movieReviews\").add({\n        date: firebase.firestore.FieldValue.serverTimestamp(),\n        movieId: movieId,\n        authorId: authorId,\n        points: 0,\n        rating: reviewData.rating,\n        text: reviewData.reviewText,\n        title: reviewData.title,\n        username: username\n    }).then(function(docRef) {\n        let freshReview = firestore.collection(\"movieReviews\").doc(docRef.id);\n        freshReview.set({ reviewId: docRef.id }, {merge: true})\n    })\n    .catch(function(error) {\n        console.error(\"Error adding comment: \", error);\n    });\n\n}\n\nexport const getMovieReviews = async movieId => {\n\n    let reviewsArr = []\n\n    await firestore.collection(\"movieReviews\").where(\"movieId\", \"==\", movieId).get().then(snapshot => {\n        snapshot.forEach(doc => {\n\n            reviewsArr.push(doc.data());\n        })\n  \n    })\n\n    return reviewsArr;\n\n}\n\nexport const toggleUpvote = async (commentId, user) => {\n\n    const commentRef = firestore.collection(\"movieComments\").doc(commentId);\n\n    const removeFromUpvoters = { upvoters: firebase.firestore.FieldValue.arrayRemove(user.uid) };\n    const removeFromDownvoters = { downvoters: firebase.firestore.FieldValue.arrayRemove(user.uid) };\n    const addToUpvoters = { upvoters: firebase.firestore.FieldValue.arrayUnion(user.uid) };\n\n    let comment = undefined;\n    let pointChange;\n\n    let doc = await commentRef.get();\n\n    comment = doc.data();\n    \n    //remove the user from upvoters if they've upvoted already\n    if (comment.upvoters.includes(user.uid)) {\n        await commentRef.update(removeFromUpvoters);\n        await commentRef.update({ points: firebase.firestore.FieldValue.increment(-1)});\n        pointChange = -1;\n    \n    }\n    // add the user to upvoters if they're in downvoters, and compensate for points lost from downvoting\n    else if (comment.downvoters.includes(user.uid)) {\n        await commentRef.update(removeFromDownvoters);\n        await commentRef.update(addToUpvoters);\n        await commentRef.update({ points: firebase.firestore.FieldValue.increment(2)});\n        pointChange = 2;\n                \n    }\n    //add the user to upvoters if they haven't voted on the comment\n    else {\n        await commentRef.update(addToUpvoters);\n        await commentRef.update({ points: firebase.firestore.FieldValue.increment(1)});\n        pointChange = 1;\n            \n    }\n\n    updateUserPoints(comment.authorId)\n\n}\n\nexport const toggleDownvote = async (commentId, user) => {\n\n    const commentRef = firestore.collection(\"movieComments\").doc(commentId);\n\n    const removeFromUpvoters = { upvoters: firebase.firestore.FieldValue.arrayRemove(user.uid) };\n    const removeFromDownvoters = { downvoters: firebase.firestore.FieldValue.arrayRemove(user.uid) };\n    const addToDownvoters = { downvoters: firebase.firestore.FieldValue.arrayUnion(user.uid) };\n\n    let comment = undefined;\n    let pointChange = 0;\n\n    let doc = await commentRef.get();\n    \n    comment = doc.data();\n        \n    //remove the user from downvoters if they've downvoted already\n    if (comment.downvoters.includes(user.uid)) {\n\n        await commentRef.update(removeFromDownvoters);\n        await commentRef.update({ points: firebase.firestore.FieldValue.increment(1)});\n        pointChange = 1;\n   \n    }\n\n    // add the user to downvoters if they're in upvoters, and compensate for points gained from upvoting\n    else if (comment.upvoters.includes(user.uid)) {\n\n        await commentRef.update(removeFromUpvoters);\n        await commentRef.update(addToDownvoters);\n        await commentRef.update({ points: firebase.firestore.FieldValue.increment(-2)});\n        pointChange = -2;\n       \n    }\n    \n    //add the user to upvoters if they haven't voted on the comment\n    else {\n        \n        await commentRef.update(addToDownvoters);\n        await commentRef.update({ points: firebase.firestore.FieldValue.increment(-1)});\n        pointChange = -1;\n\n    }\n\n    updateUserPoints(comment.authorId)\n\n}\n\nexport const deleteComment = (id) => {\n\n    const commentRef = firestore.collection(\"movieComments\").doc(id);\n\n    commentRef.delete().then(function() {\n\n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n\n}\n\nexport const deleteReview = (id) => {\n\n    const commentRef = firestore.collection(\"movieReviews\").doc(id);\n\n    commentRef.delete().then(function() {\n        \n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n\n}\n\n//Reset Password\nexport const passwordReset = email => {\n    auth.sendPasswordResetEmail(email);\n}\n\n//check password\nexport const checkPassword = async password => {\n\n    const usersRef =  firestore.collection(\"users\");\n    let currentUser = auth.currentUser;  \n    console.log(currentUser) \n    let userPW;\n\n    await usersRef.where(\"email\", \"==\", currentUser.email).get().then(snapshot => {   \n        userPW = snapshot.docs[0].data().password;\n    })\n\n    return (password === userPW ? true : false);\n    \n}\n\nexport const checkUser = () => {\n    if (auth.currentUser) { return true; }\n    else { return false; }\n}","import React, { createContext, useState, useEffect } from \"react\";\nimport { auth } from \"../firebase.js\";\n\nexport const UserContext = createContext(null);\n\nconst UserProvider = ({children}) => {\n    \n  const [user, setUser] = useState(null);\n\n  //waiting for context to pass down user credentials\n  const [pending, setPending] = useState(true);\n\n  useEffect(() => {\n\n    auth.onAuthStateChanged(user => {\n      setUser(user)\n      setPending(false);\n    })\n\n  },[]) \n\n  if (pending) {\n    return <>Loading...</>\n  }\n\n  return (\n    <UserContext.Provider value={user}>\n      {children}\n    </UserContext.Provider>\n  );\n  \n}\n\nexport default UserProvider;","import React, { createContext, useState, useEffect } from \"react\";\n\nexport const LoginModalContext = createContext();\n\nexport const LoginModalProvider = ({children}) => { \n\n  const [loginShow, setLoginShow] = useState(false);\n\n  useEffect(() => {\n  }, [loginShow])\n\n  return (\n      <LoginModalContext.Provider value={{loginShow, setLoginShow}}>\n        {children}\n      </LoginModalContext.Provider>\n  );\n    \n}","import React, { useEffect} from 'react';\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\n","const apiKey = '3f1b30e6df7ae6dcf64dc94b36c9487d';\n\nexport default apiKey;","import React from 'react';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';  \nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table'\nimport ListGroup from 'react-bootstrap/ListGroup'\n\nconst createCrewList = pageMovie => {\n      \n    const movieCrew = pageMovie.movieCredits.crew;\n  \n    //object containing departments on film crew\n    let deptObj = {};\n   \n    //fill object with departments\n    for (let i = 0; i < movieCrew.length; i++) {\n        if (deptObj.hasOwnProperty(movieCrew[i].department)) {\n        }\n        else {\n            deptObj[movieCrew[i].department] = [];\n        }\n    }\n    \n    //fill departments with crew\n    for (let i = 0; i < movieCrew.length; i++) {\n        deptObj[movieCrew[i].department].push(movieCrew[i]);\n    }\n\n    //render full crew in JSX\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>\n                        <h2 className=\"movie-page-header center\">Production Crew</h2>\n                    </Col>\n                </Row>\n            {\n            Object.keys(deptObj).map(department => (\n                <Row key={department}>\n                    <Col>\n                        <h4 className=\"department-header\">{department}</h4>\n                        {\n                        deptObj[department].map(crewMember => (\n                            <Row key={crewMember.id}>\n                                <Col >{crewMember.name}</Col>\n                                <Col >{crewMember.job}</Col>\n                            </Row>\n                        ))\n                        }\n                    </Col>\n                </Row>\n            ))\n            }  \n            </Container>\n        </div>\n    )\n}\n\nexport default createCrewList;","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nimport Container from 'react-bootstrap/Container';\nimport Image from 'react-bootstrap/Image'\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';  \nimport Table from 'react-bootstrap/Table';\n\nimport profilePlaceholder from './profile-placeholder.jpeg';\n\nconst createCastList = pageMovie => {\n    \n    //array containing film cast\n    const movieCast = pageMovie.movieCredits.cast;\n\n    //check for dead profile images\n    // const imgError = event => {\n    //     const image = event.target;\n    //     image.onerror = null;\n    //     image.src = profilePlaceholder;\n    // }\n\n    const checkProfilePath = path => {\n        return path ?  `https://image.tmdb.org/t/p/w45${path}` : profilePlaceholder;\n    }\n\n    //render full crew in JSX\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>    \n                        <h2 className=\"movie-page-header center\">Cast</h2>\n                        <Table striped  variant=\"dark\">\n                            <tbody>\n                            {\n                                movieCast.map(castMember => (\n                                    <tr key={castMember.cast_id}>\n                                        <td>\n                                            <Image \n                                                src={checkProfilePath(castMember.profile_path)}\n                                                width={45}\n                                                height={67}\n                                                rounded\n                                            />\n                                        </td>\n                                        <td>\n                                            <Link to={`/search/?type=discover&wca=${castMember.id}`}>{castMember.name}</Link>\n                                        </td>\n                                        <td>\n                                            \"{castMember.character}\"\n                                        </td>\n                                    </tr>\n                                ))\n                            }\n                            </tbody>\n                        </Table>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\n\nexport default createCastList;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport apiKey from \"../apiKey\";\nimport createCrewList from './createCrewList';\nimport createCastList from './createCastList';\n//import createTechnicalInfo from './createTechnicalInfo';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image';\nimport Tabs from 'react-bootstrap/Tabs';\n\nconst CreditsPage = ({ match }) => { \n\n    const [pageMovie, setPageMovie] = useState(null);\n\n    const movieId = match.params.id;\n\n    useEffect(() => {\n        //retrieve movie data from API\n        const fetchData = async () => {\n            const { data: movieInfoRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`\n            );\n            const { data: movieCreditsRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${apiKey}&language=en-US`\n            );\n            \n            setPageMovie({ movieInfo: movieInfoRes, movieCredits: movieCreditsRes });\n        }\n        fetchData();\n    }, [movieId])\n\n    if (pageMovie) {\n\n        const releaseDate = pageMovie.movieInfo.release_date\n\n        return (   \n        <div>   \n            <Container>\n                <Row>\n                    <Col>\n                        <Link exact to={`/movie/${movieId}`} >\n                            <h1 className=\"movie-page-header\">\n                            {`${pageMovie.movieInfo.original_title} (${releaseDate.length > 0 ? releaseDate.slice(0,4) : \"N/A\"})`}                       \n                            </h1>\n                        </Link>  \n                    </Col>\n                </Row>\n                {createCastList(pageMovie)}\n                {createCrewList(pageMovie)}\n                <Row>\n                    <Col>\n                        <Link exact to={`/movie/${movieId}`} ><p className=\"return-link\">{`<< Return to Overview Page`}</p></Link>  \n                    </Col>\n                </Row>\n            </Container>        \n        </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <Container>\n                    <Row>\n                        <Col>\n                            <p>Getting Credits</p>\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )    \n    }\n}\n\nexport default CreditsPage;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport validator from 'validator';\nimport {updateUserProfile, checkPassword} from \"../../firebase.js\";\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Image from 'react-bootstrap/Image';\n\nimport { useHistory } from \"react-router-dom\";\n\nimport {signupNewUser} from \"../../firebase.js\";\n\nimport Button from 'react-bootstrap/Button';\n\nimport Form from 'react-bootstrap/Form';\n\n\nconst ChangePW = () => {\n\n    let [password, setPassword] = useState('');\n    let [newPassword, setNewPassword] = useState('');\n    let [changeConfirm, setChangeConfirm] = useState(false);\n    let [errorMessage, setErrorMessage] = useState('')\n\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    const validatePWChange = async (e) => {\n\n        e.preventDefault();\n        // console.log(\"validating signup\")\n        // console.log(username, password, password)\n        \n        if (validator.isEmpty(password, noWhitespace)) {\n            setErrorMessage('There is no password')\n            return;\n        }\n\n        if (validator.isEmpty(newPassword, noWhitespace)) {\n            setErrorMessage('There is no new password')\n            return;\n        }\n\n        if (password === newPassword) {\n            setErrorMessage('Passwords are the same');\n            return;\n        }\n\n        if (password === newPassword) {\n            setErrorMessage('Passwords are the same');\n            return;\n        }\n\n        const passwordCheck = await checkPassword(password);\n\n        if (passwordCheck) {\n            await updateUserProfile(\"password\", newPassword);\n            setChangeConfirm(true);\n        }\n        else {\n            setErrorMessage('Current Password is wrong');\n            return\n        }\n\n        \n\n        \n\n    }\n\n    return (\n\n        <Container>\n            <h3>Change Your Password</h3>\n            <Row>\n                <Col >\n                    {\n                    !changeConfirm ?\n                    \n                        <Form className=\"changepw-form\">     \n                            <Form.Group >\n                                <Form.Label>Current Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"Current password here\" value={password} onChange={ e => setPassword(e.target.value)} />\n                            </Form.Group>\n\n                            <Form.Group >\n                                <Form.Label>New Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"New password here\" value={newPassword} onChange={ e => setNewPassword(e.target.value)} />\n                            </Form.Group>\n\n                            <Button \n                                variant=\"light\" \n                                size=\"lg\" \n                                disabled={validator.isEmpty(password, noWhitespace) ? true : false} \n                                block \n                                onClick={validatePWChange}\n                            >\n                                Submit\n                            </Button>\n                            <b className=\"error-msg\">{errorMessage}</b>\n\n                        </Form>\n                    \n                    :\n\n                        <div className=\"changepw-form\">\n                            <h3>Success</h3>\n                            <p style={{textAlign: \"center\"}}>Your password has been successfully changed.</p>\n                        </div>\n\n                    }\n                </Col > \n            </Row>\n        </Container>\n    )\n\n}\n\nexport default ChangePW;","import React, { useState, useEffect } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { BrowserRouter as Link } from \"react-router-dom\";\n\nimport Spinner from 'react-bootstrap/Spinner';\n\nimport \"./LoadingSpinner.css\"\n\nconst LoadingSpinner = () => {\n\n\n\n    return (\n        <Container className=\"spinner-page\">\n            <Row >\n                <Col className=\"d-flex justify-content-center align-items-center spinner-col\">\n                    <div >  \n                        <Spinner  animation=\"border\" variant=\"light\" />\n                    </div>  \n                    \n                </Col>\n            </Row>\n            \n        </Container>\n\n    )\n}\n\nexport default LoadingSpinner;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\nimport ChangePW from \"./ChangePW.js\";\nimport \"./DashboardPage.css\";\nimport axios from 'axios';\n\nimport apiKey from \"../apiKey\";\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { getUserData } from \"../../firebase.js\";\n\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Nav from 'react-bootstrap/Nav'\nimport Tab from 'react-bootstrap/Tab';\n\n\nconst DashboardPage = () => {\n\n    const user = useContext(UserContext);\n\n    const [userData, setUserData] = useState({data: null, gettingData: true});\n\n    const retrieveUserData = async (user) => {\n        const userObj = await getUserData(user);\n        setUserData({data: userObj, gettingData: false});\n    }\n\n    useEffect(()=> {\n\n        retrieveUserData(user);\n        \n    }, []);\n\n    //is the user logged in?\n    return (\n        <UserContext.Consumer>\n        {\n            user =>\n                user ?\n                    !userData.gettingData ?\n\n                <Row>\n                    \n                <Col xs={0} sm={1}></Col>\n                \n                    <Col xs={12} sm={10}>\n                        <Card className=\"comment-card dashboard-card\">\n                            <Card.Header className=\"comment-header\">             \n                                <h4>Welcome {userData.data.username}</h4>\n                            </Card.Header>\n                            <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                            <Card.Body>\n\n                                <Tab.Container  defaultActiveKey=\"first\">\n                                    <Row>\n                                        <Col sm={2}>\n                                            <Nav id=\"dashboard-nav\" variant=\"pills\" className=\"flex-column\">\n                                                <Nav.Item>\n                                                    <Nav.Link  eventKey=\"first\">Stats</Nav.Link>\n                                                </Nav.Item>\n                                                <Nav.Item>\n                                                    <Nav.Link  eventKey=\"second\">Settings</Nav.Link>\n                                                </Nav.Item>\n                                            </Nav>\n                                        </Col>\n                                        <Col sm={9}>\n                                            <Tab.Content>\n                                                \n                                                <Tab.Pane eventKey=\"first\">\n                                                    <p>You have {userData.data.userPoints} points.</p>\n                                                </Tab.Pane>\n                                                <Tab.Pane eventKey=\"second\">\n                                                    <Tab.Container defaultActiveKey=\"third\">\n                                                        <Row>\n                                                            <Col sm={4}>\n                                                                <Nav id=\"dashboard-nav\" variant=\"pills\" className=\"flex-column\">\n                                                                    <Nav.Item>\n                                                                        <Nav.Link  eventKey=\"third\">Change Password</Nav.Link>\n                                                                    </Nav.Item>\n                                                                   \n                                                                </Nav>\n                                                            </Col>\n                                                            <Col sm={8}>\n                                                            <Tab.Pane eventKey=\"third\">\n                                                                <ChangePW />\n                                                            </Tab.Pane>\n                                                            </Col>\n                                                        </Row>                                                        \n                                                    </Tab.Container>\n                                                </Tab.Pane>\n                                            </Tab.Content>\n                                        </Col>\n                                    </Row>\n                                </Tab.Container>\n                            </Card.Body>\n                            {/* <footer className=\"comment-footer\"> </footer> */}\n                        </Card>\n                    </Col><Col xs={0} sm={1}>\n\n                </Col>\n                </Row>\n            :\n                <LoadingSpinner />\n            :\n            \n\n                <Redirect to=\"/\" />\n        }\n        </UserContext.Consumer>\n        \n        \n    )       \n    \n}\n\nexport default DashboardPage;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport apiKey from \"../apiKey\";\n\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\nlet TrendingChart = () => {\n\n    const [nowTrending, setNowTrending] = useState([])\n\n    useEffect(() => {\n        //this is having issues\n        axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`)\n            .then(res => {            \n                setNowTrending(res.data.results)\n        })\n\n    }, [])\n\n    return (\n        <div>\n\n            <h3>Trending</h3>\n                <ol>\n                {\n                nowTrending.map((movie) => \n                    <li key={movie.id}>\n                        <Link to={`/movie/${movie.id}`} key={movie.id}>{movie.title}</Link>\n                    </li> \n                )\n                } \n                </ol>\n\n        </div>\n    )\n}\n\nexport default TrendingChart;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport apiKey from \"../apiKey\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\nlet ComingSoonChart = () => {\n\n    const [comingSoon, setcomingSoon] = useState([])\n\n    useEffect(() => {\n        //this is having issues\n        axios.get(`https://api.themoviedb.org/3/movie/upcoming?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {            \n                setcomingSoon(res.data.results)\n        })\n\n    }, [])\n\n    return (\n        <div>\n            <h3>Coming Soon</h3>\n                <ul>\n                {\n                comingSoon.map((movie) => \n                    <li key={movie.id}>\n                        <Link to={`/movie/${movie.id}`} key={movie.id}>{movie.original_title}</Link>\n                    </li> \n                )\n                } \n                </ul>\n        </div>\n    )\n}\n\nexport default ComingSoonChart;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport apiKey from \"../apiKey\";\nimport { BrowserRouter as Router, Route, Link, useHistory } from \"react-router-dom\";\n\nimport Jumbotron from 'react-bootstrap/Jumbotron'\n\nlet FeaturedMovie = () => {\n\n\n\n    const [popularMovie, setPopularMovie] = useState([])\n\n    let history = useHistory();\n\n    useEffect(() => {\n\n        axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {            \n                setPopularMovie(res.data.results[0])\n        })\n\n    }, [])\n\n    return (\n        <div>\n            <Jumbotron\n                style={{backgroundImage: `linear-gradient(to bottom, rgba(0,0,0,0.3) 0%,rgba(0,0,0,0.3) 100%), url(https://image.tmdb.org/t/p/w780${popularMovie.backdrop_path})`}}\n                onClick={() => history.push(`/movie/${popularMovie.id}`)}\n           >\n                <div  className = \"imageDuller\"></div>\n                <h2>Featured Film</h2>\n                <h1>{popularMovie.title}</h1>\n                \n                \n                \n            </Jumbotron>\n\n        </div>\n    )\n}\n\nexport default FeaturedMovie;","import React, { useState, useEffect } from 'react';\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport axios from 'axios';\nimport apiKey from \"../apiKey\";\n\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image'\nimport Tabs from 'react-bootstrap/Tabs'\n\nconst PopularMovies = similarMovies => {\n\n    const displayCount = 13;\n    const [popularMovies, setPopularMovies] = useState([])\n\n\n\n    useEffect(() => {\n        \n        axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {   \n                let list = []         \n                for (let i = 1; i < displayCount; i++) {\n                    list.push(res.data.results[i]);\n                }\n                setPopularMovies(list);\n\n        })\n\n    }, [])\n\n        return (\n            <Row>\n                <Col>\n                    <Row>\n                            {\n                        popularMovies.map(movie => {\n                            return(\n                                <Col key={movie.id} xs={4} md={3} lg={2} className=\"similar-movie\">\n                                    <Link to={`/movie/${movie.id}`}>\n                                        <Image\n                                            className=\"similar-poster\"\n                                            src={`http://image.tmdb.org/t/p/w92${movie.poster_path}`}\n                                            alt={`poster for ${movie.title}`}\n                                        />\n                                    </Link>                                                                \n                                    <Link to={`/movie/${movie.id}`}>\n                                        <p>{movie.title}</p>\n                                    </Link>\n                                </Col>\n                            ) \n                        })\n                        }\n                    </Row>\n                </Col>\n            </Row>\n        )\n\n}\n\nexport default PopularMovies;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport apiKey from \"../apiKey\";\nimport TrendingChart from './TrendingChart';\nimport ComingSoonChart from './ComingSoonChart';\nimport FeaturedMovie from './FeaturedMovie';\nimport PopularMovies from './PopularMovies';\nimport TrendingGrid from './TrendingGrid';\nimport backdropPlaceholder from \"../backdrop-placeholder.jpg\"\n\nimport \"./Home.css\";\n\nimport Carousel from 'react-bootstrap/Carousel'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\n\nlet Home = () =>  {\n\n    const [nowPlaying, setNowPlaying] = useState([]);\n\n    //Carousel Logic\n    const [index, setIndex] = useState(0);\n    const [direction, setDirection] = useState(null);\n    const handleSelect = (selectedIndex, e) => {\n      setIndex(selectedIndex);\n      setDirection(e.direction);\n    };\n\n    useEffect(() => {\n        axios.get(`https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {\n                setNowPlaying(res.data.results)\n        })\n    }, [])\n\n    const checkBackdropPath = path => {\n        return path ?  `https://image.tmdb.org/t/p/w780${path}` : backdropPlaceholder;\n    }\n        \n    return (\n        <div>\n            <Row md={2} lg={3}>\n                <Col xs={0}  sm={{number: 0}} md={{number: 6}} lg={{number:3, order: 'first'}}>\n                    <TrendingChart />\n                    {/* <TrendingGrid /> */}\n            \n                </Col>   \n                <Col xs={{ number:12, order: 'first' }} sm={12} md={12} lg={6}>\n                    <Carousel activeIndex={index} direction={direction} onSelect={handleSelect} >\n                        {\n                            nowPlaying.slice(0, 20).map((movie) =>\n                                <Carousel.Item key={movie.id}  >\n                                    <Link to={`/movie/${movie.id}`}>\n                                    <div className=\"carousel-image\">\n                                        <img\n                                            className=\"d-block w-100\"\n                                            src={checkBackdropPath(movie.backdrop_path)}\n                                            alt=\"First slide\"\n                                        />\n                                    </div>\n                                    <div >\n                                        <Carousel.Caption >\n                                            <h3 className=\"carousel-title literata\">{movie.title}</h3>\n                                        </Carousel.Caption>\n                                    </div>\n                                    </Link>\n                                </Carousel.Item>\n                            )\n                        }   \n                    </Carousel>\n                    \n                    <FeaturedMovie />\n                </Col>\n                <Col xs={0} sm={0} md={6} lg={3}>\n                    \n                    <ComingSoonChart />\n                </Col> \n            </Row>\n            <Row>\n                <Col>\n                    <h3>Popular Movies</h3>\n                    <PopularMovies />\n                    <footer style={{textAlign:\"center\", margin:\"1em\", fontSize: \"11px\"}}>\n                        <i> 2020 Jacob Guss. Built with <a href=\"https://react-bootstrap.github.io/\">React Bootstrap</a> and <a href=\"https://developers.themoviedb.org/3/getting-started/introduction\">The Movie Database API</a>.</i>\n                    </footer>\n                </Col>\n            </Row>\n        </div>\n    )\n    \n}\n\nexport default Home","//add commas to movie's budget\nconst budgetCommas = (budget) => {\n    return budget.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport default budgetCommas","import React from  'react';\nimport budgetCommas from \"./budgetCommas.js\";\n\nconst createTechnicalInfo = pageMovie => {\n    let movieInfo = pageMovie.movieInfo;\n\n    const createProductionCompanyString = () => {\n        let companyNames = [];\n        for (let i = 0; i < pageMovie.movieInfo.production_companies.length; i++) {\n            companyNames.push(pageMovie.movieInfo.production_companies[i].name);\n        }\n        return companyNames;\n    }\n\n    const createCountriesofOriginString = () => {\n        let countryNames = [];\n        for (let i = 0; i < pageMovie.movieInfo.production_countries.length; i++) {\n            countryNames.push(pageMovie.movieInfo.production_countries[i].name);\n        }\n        return countryNames;\n    }\n\n    return (\n        <div>\n            <p><b>Original Title</b> {movieInfo.original_title}</p>\n            <p><b>Budget</b> {movieInfo.budget > 0 ? `$${budgetCommas(movieInfo.budget)}` : \"N/A\"}</p>\n            <p><b>Runtime</b> {movieInfo.runtime} minutes</p>\n            <p><b>Production Companies</b> {createProductionCompanyString().join(\", \")} </p>\n            <p><b>Countries of Origin</b>  {createCountriesofOriginString().join(\", \")}</p>\n        </div>\n    )\n}\n\nexport default createTechnicalInfo","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";    \n    \n//create list of genres of movie\nconst createGenreList = (movie) => {\n\n    let genreList = [];\n\n    for (let i = 0; i < movie.movieInfo.genres.length; i++) {\n        genreList.push(movie.movieInfo.genres[i]);\n    }\n\n    return (           \n        genreList.map(genre => \n            <span key={genre.id}>\n                <Link to={`/search/?type=discover&wg=${genre.id}`}>{genre.name}</Link>{genreList.indexOf(genre) == genreList.length - 1 ? ``:`, `}\n            </span>\n        )            \n    );\n}\n\nexport default createGenreList","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nconst createStarringList = (movie) => {\n\n    const cast = movie.movieCredits.cast\n\n    //maximum number of starring cast listed\n    const starringMax = 6;\n\n    //if starring cast is less than starringMax\n    const castLength = (cast.length < starringMax ? cast.length : starringMax);  \n\n    let starringList = [];\n\n    for (let i = 0; i < castLength; i++) {\n        starringList.push(movie.movieCredits.cast[i]);\n    }\n\n    //create list of headlining stars\n    return (           \n        starringList.map(star => \n            <span key={star.id}>\n                <Link to={`/search/?type=discover&wca=${star.id}`}>{star.name}</Link>{starringList.indexOf(star) == starringList.length - 1 ? ``:`, `}\n            </span>\n        )            \n    );        \n}\n\nexport default createStarringList;","import React from 'react';\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image'\nimport Tabs from 'react-bootstrap/Tabs'\n\nconst similarMoviesDisplay = similarMovies => {\n\n    //number of similar movies shown\n    const displayCount = 12;\n\n    //create short list of similar movies\n    let simList = [];\n    for (let i = 0; i < displayCount; i++) {\n        simList.push(similarMovies[i]);\n    }\n\n    //render similar movies in JSX if there are any.\n    if (simList[0] !== undefined) {\n        return (\n            <Row>\n                <Col>\n                    <Row>\n                        <Col>\n                            <h2 className=\"movie-page-header\">Similar Movies</h2>\n                        </Col> \n                    </Row>\n                    <Row>\n                            {\n                        simList.map(movie => {\n                            return(\n                                <Col key={movie.id} xs={4} sm={3} md={2} className=\"similar-movie\">\n                                    <Link to={`/movie/${movie.id}`}>\n                                        <Image\n                                            className=\"similar-poster\"\n                                            src={`http://image.tmdb.org/t/p/w92${movie.poster_path}`}\n                                            alt={`poster for ${movie.title}`}\n                                        />\n                                    </Link>                                                                \n                                    <Link to={`/movie/${movie.id}`}>\n                                        <p>{movie.title}</p>\n                                    </Link>\n                            </Col>\n                            ) \n                        })\n                        }\n                    </Row>\n                </Col>\n            </Row>\n        )\n    }\n    // else {\n    //     return (\n    //         <Row>\n    //             <Col>\n    //                 <h2>There Are No Similar Movies at This Time</h2>\n    //             </Col>\n    //         </Row>\n    //     )\n    // }\n    \n}\n\nexport default similarMoviesDisplay;","import React, {useState, useEffect, useContext } from 'react';\n\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Modal from 'react-bootstrap/Modal';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\n\nimport \"./Comment.css\"\n\nimport Tooltip from 'react-bootstrap/Tooltip';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPrayingHands, faCommentSlash } from '@fortawesome/free-solid-svg-icons';\nimport { faThumbsDown } from '@fortawesome/free-solid-svg-icons';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { LoginModalContext } from '../../../providers/LoginModalProvider';\n\nimport { toggleUpvote, toggleDownvote, updateUserPoints, deleteComment } from '../../../firebase';\n\nconst Comment = props => {\n\n    //get user information if logged in\n    const user = useContext(UserContext);\n\n    //context for login moodal\n    const {loginShow, setLoginShow} = useContext(LoginModalContext)\n\n    //hook for deletion modal\n    const [delModalShow, setDelModal] = useState(false)\n\n    //show login modal\n    const handleModalShow = () => {\n        setLoginShow(true);\n    }\n    \n    //show delete confirmation modal\n    const handleDelModalShow = () => {\n        setDelModal(true);\n    }\n\n    const handleDelModalHide = () => {\n        setDelModal(false);\n    }\n\n    //Delete Comment\n    const handleDelete = async (id) => {\n        await deleteComment(id)\n        handleDelModalHide();\n        props.setComments({...props.comments, gettingComments: true});\n        \n    }\n\n    //set visual for upvote/downvote based on if a user is logged in, and then how user has previously voted on this comment\n    const [vote, setVote] = useState(user ? props.comment.upvoters.includes(user.uid) ? \"upvoted\" : props.comment.downvoters.includes(user.uid) ? \"downvoted\" : \"\" : \"\");\n    const [pointCount, setPointCount] = useState(props.comment.points)\n\n    const handleUpvote = async (id, authorId, user) => {\n\n        //remove the user from upvoters if they've upvoted already\n        if (vote === \"upvoted\") {\n            setVote(\"\");\n            setPointCount(pointCount -1 );\n        }\n        // add the user to upvoters if they're in downvoters, and compensate for points lost from downvoting\n        else if (vote === \"downvoted\") {\n            setVote(\"upvoted\");\n            setPointCount(pointCount + 2);          \n        }\n        //add the user to upvoters if they haven't voted on the comment\n        else {\n            setVote(\"upvoted\");\n            setPointCount(pointCount + 1);\n                   \n        }\n        await toggleUpvote(id, user);\n    }\n\n    const handleDownvote = async (id, authorId, user) => {\n        //remove the user from downvoters if they've downvoted already\n        if (vote === \"downvoted\") {\n            setVote(\"\");\n            setPointCount(pointCount + 1 );\n        }\n        // add the user to downvoters if they're in upvoters, and compensate for points gained from upvoting\n        else if (vote === \"upvoted\") {\n            setVote(\"downvoted\");\n            setPointCount(pointCount -2 );     \n        }\n        //add the user to downvoters if they haven't voted on the comment\n        else {\n            setVote(\"downvoted\");\n            setPointCount(pointCount - 1);\n        }\n        await toggleDownvote(id, user);\n        \n    }\n\n    return (\n            <UserContext.Consumer>\n                {\n                    user => (\n                  \n                        <Card className=\"comment-card\" >\n                            <Card.Header className=\"comment-header\">\n                                {\n                                    \n                                }                     \n                                <h4>{props.comment.username}</h4>\n                                {   \n                                    user ?\n                                    user.uid === props.comment.authorId ?\n                                    <OverlayTrigger placement=\"left\" overlay={ <Tooltip> <strong>Delete</strong> </Tooltip>}>\n                                        <FontAwesomeIcon \n                                            className={`delete-icon`}\n                                            icon={faTimes} \n                                            size=\"2x\" \n                                            color=\"white\"\n                                            onClick={ user ? handleDelModalShow : handleModalShow}    \n                                        />\n                                    </OverlayTrigger>\n                                    :\n                                    <div></div>\n                                    :\n                                    <div></div>\n                                }\n                                \n                            </Card.Header>\n                            <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                            <Card.Body> {props.comment.text} </Card.Body>\n                            <footer className=\"comment-footer\">\n                                <div className=\"comment-vote\">\n                                    <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Patrician</strong> </Tooltip>}>\n                                        <FontAwesomeIcon \n                                            className={`patrIcon ${vote === \"upvoted\" ? vote : \"\"}`} \n                                            icon={faPrayingHands} \n                                            size=\"2x\" \n                                            color=\"white\" \n                                            onClick={ user ? e =>  handleUpvote(props.comment.commentId, props.comment.authorId, user) : handleModalShow}\n                                        />\n                                    </OverlayTrigger>\n                                    <h5 className={vote === \"upvoted\" ? \"green\" : vote === \"downvoted\" ? \"red\" : \"\"}>{pointCount}</h5>\n                                    <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Plebian</strong> </Tooltip>}>\n                                        <FontAwesomeIcon \n                                            className={`plebIcon ${vote === \"downvoted\" ? vote : \"\"}`}\n                                            icon={faThumbsDown} \n                                            size=\"2x\" \n                                            color=\"white\"\n                                            onClick={ user ? e => handleDownvote(props.comment.commentId, props.comment.authorId, user) : handleModalShow}    \n                                        />\n                                    </OverlayTrigger>\n                                </div>\n                                \n                                <i>Posted {new Date(props.comment.date.seconds * 1000).toLocaleDateString(\"en-US\")}</i>\n                            </footer>\n                            <Modal\n                                show={delModalShow}\n                                onHide={() => setDelModal(false)}\n                                size=\"sm\"\n                                centered\n                            >\n                                <Modal.Header closeButton>\n                                    <Modal.Title>\n                                    Warning!\n                                    </Modal.Title>\n                                </Modal.Header>\n                                <Modal.Body>\n                                    Are you sure you want to delete this comment?\n                                </Modal.Body>\n                                <Modal.Footer >\n                                <Button variant=\"danger\" className=\"comment-delete-button\" onClick={e => handleDelete(props.comment.commentId)}  >\n                                    Yes\n                                </Button>\n                                <Button variant=\"light\" className=\"btn-light\" onClick={handleDelModalHide}>\n                                    No\n                                </Button>\n                                </Modal.Footer>\n                            </Modal>\n                        </Card>\n                    )\n                }\n            </UserContext.Consumer>\n        \n        \n    )\n}\n\nexport default Comment","import React, {useState, useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport validator from 'validator';\n\n\nimport Container from 'react-bootstrap/Container';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image'\nimport Overlay from 'react-bootstrap/Overlay'\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\n\nimport Tab from 'react-bootstrap/Tab';\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { LoginModalContext } from '../../../providers/LoginModalProvider';\nimport { postMovieComment, getMovieComments, toggleUpvote, toggleDownvote } from '../../../firebase';\nimport Comment from \"./Comment\";\nimport LoadingSpinner from '../../LoadingSpinner/LoadingSpinner.js'\n\nconst CommentTab = props => {\n\n    //context for signin modal\n    const {loginShow, setLoginShow} = useContext(LoginModalContext)\n\n    const [commentText, setCommentText] = useState(\"\");\n    const [comments, setComments] = useState({ commentOrder: \"patrician\", commentArr: [], gettingComments: true})\n    \n\n    const handleModalShow = () => {\n        setLoginShow(true);\n    }\n\n    async function waitForMovieComments() {\n        let newComments = await getMovieComments(props.movieId);\n\n\n        let sortedComments;\n\n        //sort comments by upvotes\n        if (comments.commentOrder === \"patrician\") {\n            sortedComments = newComments.sort((a, b) => {\n              \n                return b.points - a.points;\n            })\n        }\n\n        //sort comments by downvotes\n        if (comments.commentOrder === \"plebian\") {\n            sortedComments = newComments.sort((a, b) => {\n                return a.points - b.points;\n            })\n        }\n\n        //sort comments by newest\n        if (comments.commentOrder === \"newest\") {\n            sortedComments = newComments.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x < y)\n                return 1;\n\n                if (x > y)\n                    return -1;\n                return 0;\n            })\n        }\n\n        //sort comments by oldest\n        if (comments.commentOrder === \"oldest\") {\n            sortedComments = newComments.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x > y)\n                    return 1;\n\n                if (x < y)\n                    return -1;\n                return 0;\n            })\n        }\n\n        setComments({...comments, commentArr: sortedComments, gettingComments: false});\n    }\n\n    useEffect(() => {\n\n        waitForMovieComments();\n   \n    }, [comments.gettingComments, props.movieId])\n\n\n    //submit comment, and trigger comments rerender\n    const submitComment = async (event, movieId, text, user) => {\n        event.preventDefault();\n        await postMovieComment(movieId, text, user);\n        setCommentText(\"\");\n        setComments({...comments, gettingComments: true});\n    }\n\n    const commentCards = comments => {\n        return (\n            comments.commentArr.map(comment => (\n                    <Comment comment={comment} comments={comments} setComments={setComments} key={comment.commentId} />\n            ))\n        )\n    }\n\n    //change order of comments and trigger comments rerender\n    const changeCommentOrder = newOrder => {\n        if (newOrder === comments.commentOrder) { \n            return; \n        }\n        setComments({...comments, commentOrder: newOrder, gettingComments: true});\n    }\n    \n    return (\n        <Tab.Content>\n            <Row>\n                <Col xs={1}>\n\n                </Col>\n                <Col xs={10}>\n            <UserContext.Consumer>\n            {\n                user => (\n                    user ?\n                        <Form>\n                            <Form.Group>\n                                <FormControl \n                                    as=\"textarea\" \n                                    aria-label=\"With textarea\" \n                                    rows={5} \n                                    placeholder=\"Enter comment\" \n                                    value={commentText} \n                                    onChange={ e => setCommentText(e.target.value)} \n                                />\n                            </Form.Group>\n                            <div className=\"comment-submit\">\n                                <Button\n                                    variant=\"light\" \n                                    type=\"submit\" \n                                    onClick={e => submitComment(e, props.movieId, commentText, user)}\n                                    disabled = {validator.isEmpty(commentText, { ignore_whitespace:true })? true : false}\n                                >\n                                    Submit\n                                </Button>\n                            </div>\n                            \n                        </Form>\n                    :\n                        <Card className=\"comment-card please-signin\">\n                            <Card.Text>\n                                <i><span className=\"modal-opener\" onClick={handleModalShow}>Log in</span> or <Link to={`/signup`}> sign up</Link> to leave a comment</i>\n                            </Card.Text>\n                        </Card>\n                )\n            }\n            </UserContext.Consumer>\n            \n            <div className=\"comment-stack\">\n                {/* comment order options */}\n                <Dropdown  >\n                    <Dropdown.Toggle variant=\"light\" size=\"sm\" id=\"dropdown-basic\">\n                        Sort By\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"patrician\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"patrician\")}>Most Patrician</Dropdown.Item>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"plebian\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"plebian\")}>Most Plebian</Dropdown.Item>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"newest\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"newest\")}>Newest</Dropdown.Item>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"oldest\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"oldest\")}>Oldest</Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n            {\n                comments.gettingComments ? \n                    <LoadingSpinner />\n                :\n                \n                comments.commentArr.length > 0 ?\n                    commentCards(comments)                                                                                              \n                :\n                <p style={{textAlign: \"center\", paddingBottom: \"1em\"}}>Nobody has commented on this movie yet. You could be the first!</p>\n                \n            }\n            </div>\n            </Col>\n            <Col xs={1}>\n\n                </Col>\n            </Row>\n        </Tab.Content>\n    )\n    \n\n    \n}\n\nexport default CommentTab;","import React, {useState, useEffect, useContext } from 'react';\n\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Modal from 'react-bootstrap/Modal';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\n\nimport \"./Comment.css\"\nimport \"./Review.css\"\n\nimport Tooltip from 'react-bootstrap/Tooltip';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { deleteReview } from '../../../firebase';\n\n\nconst Review = props => {\n\n    //get user information if logged in\n    const user = useContext(UserContext);\n\n    //hook for deletion modal\n    const [delModalShow, setDelModal] = useState(false)\n\n    // const starArr = new  \n\n    // show delete confirmation modal\n    const handleDelModalShow = () => {\n        setDelModal(true);\n    }\n\n    const handleDelModalHide = () => {\n        setDelModal(false);\n    }\n\n    // Delete Review\n    const handleDelete = async (id) => {\n        await deleteReview(id)\n        handleDelModalHide();\n        props.setReviews({...props.reviews, gettingReviews: true});\n        \n    }\n\n    return (\n        <UserContext.Consumer>\n            {\n                user => (            \n                    <Card className=\"comment-card review-card\" >\n                        <Card.Header className=\"comment-header\">                     \n                            \n                            <div className=\"stars\">\n                                {\n                                Array.from({ length: props.review.rating}, (_, i) => \n                                    <div key={i}>\n                                        <FontAwesomeIcon                                            \n                                            icon={faStar} \n                                            size=\"2x\" \n                                            color=\"gold\"\n                                        />\n                                        \n                                    </div>                                   \n                                    )\n                                }\n                            </div>\n                            {   \n                                user ?\n                                user.uid === props.review.authorId ?\n                                <OverlayTrigger placement=\"left\" overlay={ <Tooltip> <strong>Delete</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`delete-icon`}\n                                        icon={faTimes} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={handleDelModalShow}    \n                                    />\n                                </OverlayTrigger>\n                                :\n                                <div></div>\n                                :\n                                <div></div>\n                            }\n                            \n                        </Card.Header>\n                        <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                        <Card.Body className=\"review-body\">\n                            <div className=\"review-title\">\n                                <h2>{props.review.title}</h2>\n                                \n                            </div>\n                            \n                            <p className=\"review-text\">{props.review.text} <i>-by {props.review.username}</i> </p>\n                            </Card.Body>\n                        <footer className=\"comment-footer review-footer\">\n                            {/* <div className=\"comment-vote\">\n                                <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Patrician</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`patrIcon ${vote === \"upvoted\" ? vote : \"\"}`} \n                                        icon={faPrayingHands} \n                                        size=\"2x\" \n                                        color=\"white\" \n                                        onClick={ user ? e =>  handleUpvote(props.comment.commentId, user) : handleModalShow}\n                                    />\n                                </OverlayTrigger>\n                                <h5 className={vote === \"upvoted\" ? \"green\" : vote === \"downvoted\" ? \"red\" : \"\"}>{pointCount}</h5>\n                                <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Plebian</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`plebIcon ${vote === \"downvoted\" ? vote : \"\"}`}\n                                        icon={faThumbsDown} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={ user ? e => handleDownvote(props.comment.commentId, user) : handleModalShow}    \n                                    />\n                                </OverlayTrigger>\n                            </div> */}\n                            \n                            <i>Posted {new Date(props.review.date.seconds * 1000).toLocaleDateString(\"en-US\")}</i>\n                        </footer>\n                        {<Modal\n                            show={delModalShow}\n                            onHide={() => setDelModal(false)}\n                            size=\"sm\"\n                            centered\n                        >\n                            <Modal.Header closeButton>\n                                <Modal.Title>\n                                Warning!\n                                </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                Are you sure you want to delete this review?\n                                \n                            </Modal.Body>\n                            <Modal.Footer >\n                           <Button variant=\"danger\" className=\"comment-delete-button\" onClick={e => handleDelete(props.review.reviewId)}  >\n                                Yes\n                            </Button> \n                            <Button variant=\"light\" className=\"btn-light\" onClick={handleDelModalHide}>\n                                No\n                            </Button>\n                            </Modal.Footer>\n                        </Modal>\n                        }\n                    </Card>\n                )\n            }\n        </UserContext.Consumer>\n    )\n}\n\nexport default Review","import React, {useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport validator from 'validator';\n\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Row from 'react-bootstrap/Row';\nimport Tab from 'react-bootstrap/Tab';\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { postMovieReview, getMovieReviews } from '../../../firebase';\nimport LoadingSpinner from '../../LoadingSpinner/LoadingSpinner.js'\nimport Review from \"./Review.js\";\n\nconst ReviewTab = props => {\n\n    const [reviewData, setReviewData] = useState({title: \"\", rating: 1, reviewText: \"\"});\n    const [reviews, setReviews] = useState({reviewsArr: [], reviewOrder:\"newest\", gettingReviews: true})\n\n    async function waitForMovieReviews() {\n        let newReviews = await getMovieReviews(props.movieId);\n\n        let sortedReviews;\n\n        //sort reviews by newest\n        if (reviews.reviewOrder === \"newest\") {\n            sortedReviews = newReviews.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x < y)\n                return 1;\n\n                if (x > y)\n                    return -1;\n                return 0;\n            })\n        }\n\n        //sort reviews by oldest\n        if (reviews.reviewOrder === \"oldest\") {\n            sortedReviews = newReviews.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x > y)\n                return 1;\n\n                if (x < y)\n                    return -1;\n                return 0;\n            })\n        }\n\n        //sort reviews by rating, descending\n        if (reviews.reviewOrder === \"ratingDsc\") {\n           \n            sortedReviews = newReviews.sort((a, b) => {\n              \n                return b.rating - a.rating;\n            })\n        }\n\n        //sort reviews by rating, ascending\n        if (reviews.reviewOrder === \"ratingAsc\") {\n            sortedReviews = newReviews.sort((a, b) => {\n                return a.rating - b.rating;\n            })\n        }\n       \n        setReviews({...reviews, reviewsArr: sortedReviews, gettingReviews: false});\n    }\n\n    useEffect(() => {\n        waitForMovieReviews();\n   \n    }, [reviews.gettingReviews, props.movieId])\n\n    const submitReview = async (event, movieId, reviewData, user) => {\n        event.preventDefault();\n        await postMovieReview(movieId, reviewData, user);\n        setReviewData({title:\"\", rating: 1, reviewText: \"\"});\n        setReviews({...reviews, gettingReviews: true});\n\n    }\n\n    //change order of comments and trigger comments rerender\n    const changeReviewOrder = newOrder => {\n        if (newOrder === reviews.reviewOrder) { \n            return; \n        }\n        setReviews({...reviews, reviewOrder: newOrder, gettingReviews: true});\n    }\n\n    const reviewCards = reviews => {\n        return (\n            reviews.reviewsArr.map(review => (\n                <div key={review.reviewId}>\n                    <Review review={review} setReviews={setReviews} reviews={reviews}  />\n                </div>\n                \n            ))\n        )\n    }\n\n    return (\n        <Tab.Content>           \n                <Row>\n                    <Col xs={1}>\n                    </Col>\n\n                    <Col xs={10}>\n                    \n                <UserContext.Consumer>\n                {\n                user => (\n                    user ?\n                        <Form className=\"black review-form\">\n                            <Form.Group>\n                                <Form.Label>Review Headline</Form.Label>\n                                <Form.Control value={reviewData.title} onChange={ e => setReviewData({ ...reviewData, title: e.target.value})} />\n                            </Form.Group>\n                            <Form.Group>\n                            <Form.Label>Review Text</Form.Label>\n                                <FormControl as=\"textarea\" aria-label=\"With textarea\" rows={5} value={reviewData.reviewText} onChange={ e => setReviewData({ ...reviewData, reviewText: e.target.value})} />\n                            </Form.Group>\n                            <Form.Group>\n                                <Form.Label>Rating</Form.Label>\n                                <Form.Control className=\"rating-control\" value={reviewData.rating} onChange={ e => setReviewData({ ...reviewData, rating: e.target.value })} as=\"select\" size=\"sm\" >\n                                    <option value={1}>\n                                           |  Awful\n                                    </option>\n                                    <option value={2}>    |  Mediocore</option>\n                                    <option value={3}>    |  Good</option>\n                                    <option value={4}>    |  Great</option>\n                                    <option value={5}>    |  Amazing</option>\n                                </Form.Control>\n                            </Form.Group>\n                            <div className=\"comment-submit\">\n                                <Button  \n                                variant=\"light\" \n                                type=\"submit\" \n                                disabled = {\n                                    ((!validator.isEmpty( reviewData.title, { ignore_whitespace:true }) == true) &&\n                                    (!validator.isEmpty( reviewData.reviewText, { ignore_whitespace:true }) == true ))\n                                     ? false : true}\n                                onClick={e => submitReview(e, props.movieId, reviewData, user)}\n                                >\n                                    Submit\n                                </Button>\n                            </div>\n                            \n                        </Form>\n                    :\n                    <Card className=\"comment-card  please-signin\">\n                        <Card.Text>\n                            <i>Log in or <Link to={`/signup`}> sign up</Link> to leave a review</i>\n                        </Card.Text>\n                    </Card>\n                )\n            }\n            </UserContext.Consumer>\n            <div className=\"comment-stack\">\n                <Dropdown  >\n                        <Dropdown.Toggle variant=\"light\" size=\"sm\" id=\"dropdown-basic\">\n                            Sort By\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"newest\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"newest\")}>Newest</Dropdown.Item>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"oldest\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"oldest\")}>Oldest</Dropdown.Item>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"ratingDsc\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"ratingDsc\")}>Rating Descending</Dropdown.Item>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"ratingAsc\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"ratingAsc\")}>Rating Ascending</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                {\n                    reviews.gettingReviews ? \n                        <LoadingSpinner />\n                    :\n                        reviews.reviewsArr.length > 0 ?\n                        reviewCards(reviews)                                                                                              \n                    :\n                        <p style={{textAlign: \"center\", paddingBottom: \"1em\"}}>Nobody has reviewed this movie yet. You could be the first!</p>\n                }\n            </div>\n            </Col>\n            <Col xs={1}></Col>\n        </Row>\n        </Tab.Content>\n    )\n\n}\n\nexport default ReviewTab;","import React from 'react';\n\nimport \"./DiscussionTabs.css\"\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n\nimport CommentTab from \"./CommentTab\";\nimport ReviewTab from \"./ReviewTab\";\n\n\nconst DiscussionTabs = props => {\n\n    return (\n        <Row>\n            <Col>\n                <Row>\n                    <Col>\n                        <h2 className=\"movie-page-header\">Discussion</h2>\n                    </Col>\n                </Row>\n                    <Col>\n                        <div id=\"discussion\" className=\"black\">\n                            <Tabs defaultActiveKey=\"review\"  >\n                                <Tab eventKey=\"review\" title=\"Reviews\" className=\"disTab black\">\n                                    <ReviewTab movieId={props.movieId} />\n                                </Tab>\n                                <Tab eventKey=\"comments\" title=\"Comments\" className=\"disTab black\">\n                                    <CommentTab movieId={props.movieId} />\n                                </Tab> \n                            </Tabs>\n                        </div>\n                    </Col>\n            </Col>\n        </Row>\n    )  \n}\n\nexport default DiscussionTabs;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport apiKey from \"../apiKey\";\n\nimport createTechnicalInfo from './createTechnicalInfo';\nimport createGenreList from './createGenreList';\nimport createStarringList from './createStarringList';\nimport similarMovieDisplay from './similarMoviesDisplay';\nimport DiscussionTabs from './DiscussionTabs/DiscussionTabs.js';\nimport \"./MoviePage.css\"\n\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Image from 'react-bootstrap/Image';\n\n\nconst MoviePage = ({ match }) => {\n\n    const [pageMovie, setPageMovie] = useState(null);\n    const [similarMovies, setSimilarMovies] = useState([]);\n\n    const movieId = match.params.id;\n\n    useEffect(() => {\n        //retrieve movie data from API\n        const fetchData = async () => {\n            const { data: movieInfoRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`\n            );\n            const { data: movieCreditsRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${apiKey}&language=en-US`\n            );\n            setPageMovie({ movieInfo: movieInfoRes, movieCredits: movieCreditsRes });\n        }\n        fetchData();\n    }, [movieId])\n\n    useEffect(() => {\n        //retrieve similar movies\n        const fetchSimilar = async () => {\n            const {data: simMoviesRes} = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}/similar?api_key=${apiKey}&language=en-US&page=1`\n            );\n            setSimilarMovies(simMoviesRes.results);\n        }\n        fetchSimilar();\n    }, [movieId])\n\n    //check if component state has changed. for development only.\n    // useEffect(() => {\n    // console.log(`pageMovie state was initialized or changed`, pageMovie);\n    // }, [pageMovie]);\n\n    const checkPosterPath = path => {\n        return path ?  `http://image.tmdb.org/t/p/w300${path}` : posterPlaceholder;\n    }\n\n    //return movie page, or loading screen if api calls aren't done \n    if (pageMovie) {\n\n        const posterRow = {\n            marginBottom: \"1em\"\n        };\n\n        const backdropURL= `https://image.tmdb.org/t/p/w1280${pageMovie.movieInfo.backdrop_path}`;\n\n        const backdrop = {\n            background: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7) ), url(${backdropURL})`,\n            backgroundPosition: \"center center\",\n            backgroundAttachment: \"fixed\",\n            backgroundSize: \"cover\",\n            paddingBottom: \"1em\"\n        };\n\n        const backdropDefault = {\n            background: \"#343a40\",\n            paddingBottom: \"1em\"\n        }\n\n        //release date\n        const releaseDate = pageMovie.movieInfo.release_date\n\n        return (   \n        <div >\n            <Container style={pageMovie.movieInfo.backdrop_path ? backdrop : backdropDefault} >\n                <div >\n                    <Row>\n                        <Col>\n                            <h1 className=\"movie-page-header\">\n                                {`${pageMovie.movieInfo.title} (${releaseDate.length > 0 ? releaseDate.slice(0,4) : \"N/A\"})`}\n                            </h1>\n                        </Col>\n                    </Row>\n                    <Row style={posterRow}>\n                        <Col xs={12} md={6} className=\"poster-column\">                    \n                            <Image\n                                rounded\n                                className=\"movie-page-poster\"\n                                src={checkPosterPath(pageMovie.movieInfo.poster_path)}\n                                alt={`poster for ${pageMovie.movieInfo.original_title}`}\n                            />\n                        </Col>\n                        <Col xs={12} md={6}>\n                            <p><i id=\"movie-overview\">{pageMovie.movieInfo.overview}</i></p>\n                            <p><b>Release Date</b> {releaseDate.length > 0 ? releaseDate : \"N/A\" }</p>\n                            <p><b>Genres</b> {createGenreList(pageMovie)}</p>  \n                            <p><b>Starring</b> {pageMovie.movieCredits.cast ? createStarringList(pageMovie) : \"N/A\"}</p> \n                            {createTechnicalInfo(pageMovie)}\n                            <b><Link to={`/movie/${movieId}/credits`}>See Full Cast and Crew</Link></b>\n                        </Col>\n                    </Row>\n                    </div>\n            </Container>\n            <Container>\n                <Row>\n                    <Col xs={12}>\n                        {similarMovieDisplay(similarMovies)}\n                        <DiscussionTabs movieId={movieId} />\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <LoadingSpinner />\n            </div>\n        )    \n    }\n}\n\nexport default MoviePage","import React from 'react';\n\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';  \n\n\nconst NoMatch = () => {\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>\n                        <h1 className=\"literata\" flud=\"true\">404</h1>\n                        <h1 className=\"literata\" flud=\"true\">PAGE NOT FOUND</h1>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n    \n}\n\nexport default NoMatch;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport validator from 'validator';\nimport {passwordReset} from \"../../firebase.js\";\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nimport Button from 'react-bootstrap/Button';\n\nimport Form from 'react-bootstrap/Form';\n\nimport \"./PWReset.css\"\n\nconst PWReset = () => {\n\n    let [email, setEmail] = useState('');\n    let [sendingConfirm, setSendingConfirm] = useState(false);\n    let [errorMessage, setErrorMessage] = useState('')\n\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    const validatePWReset = async (e) => {\n\n        e.preventDefault();\n        // console.log(\"validating signup\")\n        // console.log(username, email, password)\n        \n        if (validator.isEmpty(email, noWhitespace)) {\n            setErrorMessage('There is no email')\n            return;\n        }\n\n        if (validator.isEmail(email) === false)  {\n            setErrorMessage('Invalid email');\n            return;\n        }\n\n        await passwordReset(email);\n\n        setSendingConfirm(true);\n\n    }\n\n    return (\n\n        <Container>\n            <h1>Reset Your password</h1>\n            <Row>\n\n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n                <Col xs={10} sm={8} lg={6} xl={4}>\n                    {\n                    !sendingConfirm ?\n                    \n                        <Form className=\"reset-form\">     \n                            <Form.Group >\n                                <Form.Label>To reset your password, enter the email associated with your account.</Form.Label>\n                                <Form.Control type=\"username\" placeholder=\"What's your email?\" value={email} onChange={ e => setEmail(e.target.value)} />\n                            </Form.Group>\n\n                            <Button \n                               \n                                variant=\"light\" \n                                size=\"lg\" \n                                disabled={validator.isEmpty(email, noWhitespace) ? true : false} \n                                block \n                                onClick={validatePWReset}\n                            >\n                                Submit\n                            </Button>\n                            <b className=\"error-msg\">{errorMessage}</b>\n\n                        </Form>\n                    \n                    :\n\n                        <div className=\"reset-form\">\n                            <h3>Success</h3>\n                            <p style={{textAlign: \"center\"}}>An email has been sent with further instructions to reset your password.</p>\n                        \n                            <div className=\"go-home\">\n                                <Link to={`/`} >{`<< Return Home`}</Link>\n                            </div>\n                        </div>\n\n                    }\n                </Col > \n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n            </Row>\n        </Container>\n    )\n\n}\n\nexport default PWReset;","import apiKey from \"../apiKey.js\";\n\nconst querybuilder = (queryObj, type = \"movies\", pageCount) => {\n\n    //name of each query category\n    let queryNames = Object.keys(queryObj);\n    \n    let urlQuery = \"\";\n\n    for (let i = 0; i < queryNames.length; i++) {\n\n        switch(queryNames[i]) {\n            //text query\n            case \"q\":\n               urlQuery += `&query=${queryObj.q}`;\n                break;\n            //primary release year\n            case \"pry\":\n                urlQuery += `&primary_release_year=${queryObj.pry}`;\n                break;\n            //with companies\n            case \"wc\":\n                urlQuery += `&with_companies=${queryObj.wc}`;\n                break;\n            case \"wca\":\n                urlQuery += `&with_cast=${queryObj.wca}`;\n                break;\n            //with genres\n            case \"wg\":\n                urlQuery += `&with_genres=${queryObj.wg}`;\n                break;\n            default:\n              // code block\n        }\n        //add mandatory page count\n        urlQuery += `&page=${pageCount}`;\n\n    }\n\n    //complete api route\n    let finalURL;\n\n    switch(queryObj.type) {\n\n        case \"movies\":\n            finalURL = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}` + urlQuery;          \n            break;\n\n        case \"discover\":\n            finalURL = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc` + urlQuery;\n            break;\n\n        default:\n            //search movies if Type is not included\n            finalURL = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}` + urlQuery;          \n        \n    }\n\n    return finalURL;\n\n}\n\nexport default querybuilder;","import axios from 'axios';\nimport apiKey from \"../apiKey\";\n\nconst paramDisplayGenerator = async (params) => {\n\n    let sentence = \"Returning results where: \";\n\n    if ('q' in params) {\n        sentence += `query is ${params.q}.`;\n        \n    }\n\n    if ('wg' in params) {\n\n        let response = await axios.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`)\n        \n        let genreName = \"\";\n\n        response.data.genres.forEach(obj => {\n\n            if (params.wg === obj.id.toString()) {\n                genreName = obj.name.toString();\n\n            }\n\n        })\n\n        sentence += `genre is ${genreName}.`;\n\n    }\n\n    if ('wca' in params) {\n        \n        let response = await axios.get(`https://api.themoviedb.org/3/person/${params.wca}?api_key=${apiKey}&language=en-US`);\n            \n        sentence += `actor is ${response.data.name}.`;\n        \n    }  \n\n    return sentence;\n\n}\n\nexport default paramDisplayGenerator;","import React, { useState, useEffect } from 'react';\n\nimport { BrowserRouter as Router, Route, Link, useLocation } from \"react-router-dom\";\n\n//import apiKey from \"../apiKey\";\nimport queryBuilder from \"./queryBuilder\";\nimport paramDisplayGenerator from \"./paramDisplayGenerator\";\nimport axios from 'axios';\n\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Image from 'react-bootstrap/Image';\n\nimport \"./SearchResultsPage.css\"\n\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\n// const queryString = require('query-string');\nimport queryString from \"query-string\";\n\nconst SearchResultsPage = () => {\n\n    //useLocation() listens for a change to the URL\n    const location = useLocation();\n\n    //The user's url search query parameters\n    const searchParams = queryString.parse(window.location.search);\n\n    const [currentParams, setCurrentParams] = useState(searchParams);\n    const [paramDisplay, setParamDisplay] = useState(\"\");\n    const [searchResults, setSearchResults] = useState([]);\n    const [pageCount, setPageCount] = useState(1);\n    const [totalPages, setTotalPages] = useState(null);\n\n    //get placeholder poster if official poster is not available.\n    const checkPosterPath = path => {\n        return path ?  `http://image.tmdb.org/t/p/w92${path}` : posterPlaceholder;\n    }\n\n    const showMoreResults = async () => {\n\n        const replacementPageCount = pageCount + 1;\n        \n        const apiResults = await axios.get(queryBuilder(currentParams, currentParams.type, replacementPageCount));\n        setPageCount(replacementPageCount);\n        setSearchResults([...searchResults, ...apiResults.data.results]);\n        \n        setTotalPages(apiResults.data.total_pages);\n          \n    }\n\n    useEffect(() => {\n\n        const fetchResults = async () => {\n\n            //results from api based on url built by queryBuilder function\n            const apiResults = await axios.get(queryBuilder(searchParams, searchParams.type, 1));\n            \n            //show what the parameters are for the search results\n            const paramSentence = await paramDisplayGenerator(searchParams);\n\n            //update component state\n            setParamDisplay(paramSentence);\n            setCurrentParams(searchParams);\n            setPageCount(1);\n            setSearchResults([...apiResults.data.results]);\n            setTotalPages(apiResults.data.total_pages);\n\n        }\n\n        fetchResults();\n        \n    }, [location])\n\n    const MoreResultsButton = () => (\n        <Button onClick={showMoreResults} id=\"more-results-button\" variant=\"light\" size=\"lg\" block>\n            Show More Results\n        </Button>\n    )\n\n   \n        \n    if (searchResults) {\n        return (          \n            <div>\n                <Container>\n                    <Row>\n                        <Col xs={12}>\n                            <h1>Search Results</h1>\n                            <b>{paramDisplay}</b>\n                            <ListGroup >\n                                {searchResults.map(result => (\n                                    <ListGroup.Item key={result.id} className=\"results-item\">\n                                        <Row>\n                                            <Col xs={12} md={2} className=\"d-none d-md-block\">\n                                                <Image \n                                                    className=\"search-result-poster\"\n                                                    src={checkPosterPath(result.poster_path)} \n                                                    rounded \n                                                />\n                                            </Col>\n                                            <Col xs={12} md={10}>\n                                                <Row>\n                                                    <Link to={`/movie/${result.id}`}><b>{result.title} ({result.release_date ? result.release_date.slice(0, 4) : \"N/A\"})</b></Link>\n                                                </Row>\n                                                <Row>\n                                                    <i className=\"result-overview\">{result.overview}</i>\n                                                </Row>\n                                            </Col>\n                                        </Row>\n                                    </ListGroup.Item>\n                                ))}\n                            </ListGroup>\n                            {\n                                pageCount < totalPages ? <MoreResultsButton /> : <div></div>\n                            }\n                        </Col>                       \n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <Container>\n                    <Row>\n                        <Col>\n                        Loading Results\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default SearchResultsPage;","import React, { useEffect, useState } from 'react';\n\nimport apiKey from \"../apiKey\";\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\n\nimport axios from 'axios';\n\nimport Button from 'react-bootstrap/Button'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Image from 'react-bootstrap/Image';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport \"./SearchBar.css\";\n\n\n// import Button from 'react-bootstrap/Button'\n\nconst SearchBar = (props) => {\n\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [suggestions, setSuggestions] = useState([]);\n    const [isFocused, setIsFocused] = useState(false);\n\n    // let history = useHistory();\n\n    useEffect(() => {\n        \n        const fetchSuggestions = async () => {\n            const apiResults = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${searchQuery}&page=1&include_adult=false`);\n            setSuggestions(apiResults.data.results)\n        }\n        \n        if (searchQuery.length >= 4) { \n            fetchSuggestions();\n        } \n\n    }, [searchQuery]);\n\n    const clearSearchBar = () => { setSearchQuery(\"\"); }\n\n    const submitSearch = event => {\n        if (event.key === \"Enter\") {\n            event.preventDefault();\n\n            //This causes shenanigans when using the search navbar on the search result page\n            props.history.push(`/search?q=${searchQuery}`);\n           \n            clearSearchBar();\n        }\n\n    }\n\n    const clickSearch = event => {\n        event.preventDefault()\n        \n        //This causes shenanigans when using the search navbar on the search result page\n        props.history.push(`/search?q=${searchQuery}`);\n           \n        clearSearchBar();\n    }\n\n    //limit the length of titles in the suggestion box that would cause text wrapping\n    const titleLimiter = (title, titleCutoff) => {     \n        return (title.length > titleCutoff) ?  `${title.slice(0, titleCutoff + 1)}...` : title;    \n    }\n\n    const releaseDateChecker = (date) => {\n        return date ? date.slice(0, 4) : \"N/A\"\n    }\n\n    const handleOnBlur = () => {\n        setTimeout(() => {  setIsFocused(false) }, 300)\n    }\n\n\n    //JSX\n    const showMore = () => {\n        if (suggestions.length > 6) {\n            return (\n                <ListGroup.Item  variant=\"warning\" className=\"suggestion-item\" onClick={clickSearch} >\n                    <Link to={`/search?type=movies&q=${searchQuery}`} onClick={clearSearchBar}>{`see more results for \"${titleLimiter(searchQuery, 26)}\"`}</Link> \n                </ListGroup.Item>\n            )\n        }\n    }\n\n    const suggestionBars = () => {\n        if (suggestions && isFocused && searchQuery.length >= 3) {\n            const suggestionCount = suggestions.slice(0, 6);\n            return(\n                <div id=\"search-suggestions\" >\n                    <div className=\"suggestion-group\">\n                    {\n                        suggestionCount.map(movie => {\n                            return (\n                                <div\n                                    variant=\"warning\" \n                                    key={movie.id}\n                                    onClick={() => { props.history.push(`/movie/${movie.id}`); clearSearchBar(); }}\n                                    className=\"suggestion-item\"\n                                >\n                                    <Image\n                                        rounded\n                                        className=\"suggestion-poster\"\n                                        src={movie.poster_path ? `http://image.tmdb.org/t/p/w300${movie.poster_path}` : posterPlaceholder}\n                                        alt={`poster for ${movie.title}`}\n                                    />\n                                    <Link to={`/movie/${movie.id}`} onClick={clickSearch} className=\"suggestion-font\">\n                                        {titleLimiter(movie.title, 40)}\n                                         {/* ({releaseDateChecker(movie.release_date)}) */}\n                                    </Link> \n                                </div>\n                            )\n                        })                    \n                    }\n                    {   \n                        showMore() \n                    }\n                    </div>\n                </div>              \n            )\n        }\n    }\n\n    return (\n        <div>\n            <div id=\"searchbar\" >\n                <input \n                    type=\"text\" \n                    value={searchQuery} \n                    className=\"searchbar-input\"\n                    onChange={e => setSearchQuery(e.target.value)}\n                    onFocus={() => setIsFocused(true)}\n                    onBlur={handleOnBlur}\n                    onKeyPress={submitSearch}\n                    placeholder=\"Search for films\" \n                />\n                <InputGroup.Append>\n                    <Button  variant=\"outline-secondary\" onClick={clickSearch} >\n                        <FontAwesomeIcon icon={faSearch} color=\"white\" />\n                    </Button>\n                </InputGroup.Append>\n            </div>    \n            {suggestionBars()}\n        </div>\n    )\n}\n\nexport default withRouter(SearchBar)","import React, { useState, useEffect, useContext } from 'react';\n\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\n\nimport { facebookSignin, googleSignin, signinUser, checkUser } from \"../../firebase.js\";\nimport facebookLogo from'./facebook-logo-png-38347.png';\nimport { LoginModalContext } from \"../../providers/LoginModalProvider\";\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\n\nimport '../../App.css'\n\n\nconst SignIn = () => {\n\n    const {loginShow, setLoginShow} = useContext(LoginModalContext);\n\n    let [email, setEmail] = useState(\"\");\n    let [password, setPassword] = useState(\"\");\n    let [errorMessage, setErrorMessage] = useState(\"\");\n\n    async function handleSignin(event) {\n        event.preventDefault();\n\n        await signinUser(email, password)\n\n        const signedIn = await checkUser();\n        \n        if (signedIn) {\n            setLoginShow(false);\n        }\n        else {\n            setErrorMessage(\"Incorrect username and/or password\")\n            return;\n        }\n\n    }\n\n    const handleClose = () => {\n        setLoginShow(false);\n\n    }\n\n    return (\n        <Modal show={loginShow} onHide={handleClose} className=\"login-modal\">\n            <Modal.Header closeButton>\n                <Modal.Title>Sign In</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email address</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Email\" value={email} onChange={ e => setEmail(e.target.value)} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={ e => setPassword(e.target.value)} />\n                    </Form.Group>\n\n                    {/* Submit Button */}\n                    <Button variant=\"success\" className=\"emailSignin\" onClick={handleSignin} block>Submit</Button>\n                    <div style={{height: \"3em\" }}>\n                        <b style={{textAlign: \"center\"}} className=\"error-msg\">{errorMessage}</b>\n                    </div>\n                    \n                    <Link  to={`/pwreset`} onClick={handleClose} className=\"pwResetLink\"><p>Forgot your password?</p></Link>\n\n                </Form>\n            </Modal.Body>\n            <Modal.Footer className=\"login-modal-footer\">\n                <Container>\n                    <Row>\n                        {/* Google signin button */}\n                        <Col className=\"justify-content-center\">\n                            <button className=\"googleBtn\" type=\"button\" onClick={googleSignin}>\n                                <img\n                                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n                                alt=\"google logo\"\n                                />\n                                Sign In With Google\n                            </button>    \n                        </Col>\n                        {/* Facebook signin button */}\n                        <Col className=\"justify-content-center\">\n                            <button className=\"facebookBtn\" onClick={facebookSignin}>\n                                <img\n                                    src={facebookLogo}\n                                    alt=\"facebook logo\"\n                                />\n                                Sign in with Facebook\n                            </button>\n                        </Col>\n                    </Row>\n                    <Row className=\"justify-content-center\">\n                        \n                        <Link  to={`/signup`} onClick={handleClose}><p>Don't have an account? Sign up here!</p></Link>\n                     \n                    </Row>\n                </Container> \n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default SignIn;","import React, { useState, useEffect } from 'react';\nimport validator from 'validator';\n\n// import { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\n// import { useLocation } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {signupNewUser} from \"../../firebase.js\";\n\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\n\nimport \"./Signup.css\";\n\nconst Signup = () => {\n\n    let [username, setUsername] = useState('')\n    let [email, setEmail] = useState('');\n    let [password, setPassword] = useState('');\n    let [errorMessage, setErrorMessage] = useState('')\n\n    let history = useHistory();\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    //validate the signup\n    const validateSignup = async (e) => {\n        e.preventDefault();\n        // console.log(\"validating signup\")\n        // console.log(username, email, password)\n        \n        if (validator.isEmpty(username, noWhitespace)) {\n            setErrorMessage('There is no username')\n            return;\n        }\n\n        if (validator.isLength(username, {max: 16 }) === false) {\n            setErrorMessage(\"Your username can't be longer than 16 characters\")\n            return;;\n        }\n\n        if (validator.isEmail(email) === false)  {\n            setErrorMessage('Invalid email');\n            return;\n        }\n\n        if (validator.isLength(password, {min: 6, max: 100 }) === false) {\n            setErrorMessage('Your Password must be at least 6 characters')\n            return;\n        }\n        await signupNewUser(username, password, email);\n\n        history.push(\"/\")\n\n    }\n\n    return (\n        <Container>\n            <h1>Sign up</h1>\n            <Row className=\"signup\">\n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n                <Col xs={10} sm={8} lg={6} xl={4}>\n                    <Form className=\"signup-form\">                       \n                        <Form.Group controlId=\"formBasicUsername\">\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control type=\"username\" placeholder=\"What's your name?\" value={username} onChange={ e => setUsername(e.target.value)} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email Address</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={ e => setEmail(e.target.value)} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={ e => setPassword(e.target.value)} />\n                        </Form.Group>\n\n                        <Button \n                        variant=\"light\" \n                        size=\"lg\" \n                        disabled={validator.isEmpty(username, noWhitespace) || validator.isEmpty(email, noWhitespace) || validator.isEmpty(password, noWhitespace) ? true : false} \n                        block \n                        onClick={validateSignup}\n                        >\n                            Submit\n                        </Button>\n                        <b className=\"error-msg\">{errorMessage}</b>\n\n                    </Form>\n                </Col > \n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n            </Row>\n        </Container>\n    )\n    \n}\n\nexport default Signup;","import React, { useState, useContext, useEffect } from 'react';\n\n//NPM packages\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { useMediaQuery } from 'react-responsive';\n\nimport ScrollToTop from \"./ScrollToTop\";\nimport {logoutUser} from \"./firebase.js\";\nimport { UserContext } from \"./providers/UserProvider\";\nimport { LoginModalContext } from \"./providers/LoginModalProvider\";\n\n//components\nimport CreditsPage from './components/CreditsPage/CreditsPage.js';\nimport DashboardPage from './components/DashboardPage/DashboardPage.js';\nimport Home from './components/Home/Home';\nimport MoviePage from './components/MoviePage/MoviePage.js';\nimport NoMatch from './components/NoMatch/NoMatch.js';\nimport PWReset from './components/PWReset/PWReset.js';\nimport SearchResultsPage from './components/SearchResultsPage/SearchResultsPage.js';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport SignIn from './components/SignIn/SignIn.js';\nimport Signup from './components/Signup/Signup.js';\n\n//CSS\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport './App.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nconst App = () => {\n\n  let history = useHistory();\n\n  const {loginShow, setLoginShow} = useContext(LoginModalContext)\n\n  //hide certain elements based on screen width\n  const isMobileDevice = useMediaQuery({ query: '(max-width: 767px)' });\n\n  const handleModalShow = () => {\n    setLoginShow(true);\n  }\n\n  //show mobile search.\n  const [mobileSearch, setMobileSearch] = useState(false);\n\n  //styling for all pages with router\n  const containerStyle = {\n    backgroundColor: \"#343a40\",\n    minHeight:\"100vh\"\n  };\n\n  return (\n    <div>\n      <ScrollToTop />\n      <div id=\"app-overwrites\" className=\"App\">\n        \n          <Container >\n          <div style={containerStyle}>\n            {/* Navigation bar */}\n            \n            <div id=\"kino-nav\">\n              {\n                !mobileSearch && \n                <div className=\"bar-item\"  >\n                  <Link className=\"app-logo\" to={`/`}>KINO</Link>\n                </div>\n                \n              }\n\n              { \n                (isMobileDevice && !mobileSearch) ?\n                    null\n                  :\n                    (isMobileDevice && mobileSearch) ?\n                \n                      <div className=\"searchbar-div\" >\n                        <SearchBar mobileSearch={mobileSearch} />\n\n                        \n                      </div>\n      \n                    :\n                      <div className=\"searchbar-div\" >\n                        <SearchBar mobileSearch={mobileSearch} />\n                      </div>\n              }\n\n\n                {/* show or hide searchbars on mobile display */}\n\n              {\n                (isMobileDevice || mobileSearch) &&\n                  <UserContext.Consumer>\n                        {\n                          user => (\n                            <Button \n                              variant=\"outline-secondary\" \n                              style={!mobileSearch ? {marginLeft: \"50%\"} : null} \n                              onClick={!mobileSearch ?  () => setMobileSearch(true) : () => setMobileSearch(false)} \n                            >\n                                <FontAwesomeIcon icon={!mobileSearch ? faSearch : faTimes} color=\"white\" />\n                            </Button>\n                          )\n                        }                     \n                    </UserContext.Consumer>\n              }\n\n              {\n                !mobileSearch &&\n                  <UserContext.Consumer>\n                    {\n\n                user => (\n                  //is the user logged in?\n                    user ?                                          \n                        <div className=\"bar-item\">\n                          <Dropdown  >\n                            <Dropdown.Toggle variant=\"light\">\n                              User\n                            </Dropdown.Toggle>\n                            <Dropdown.Menu>\n                              <Dropdown.Item className=\"black-text\" onClick={() => {history.push(\"/dashboard\")}}>Dashboard</Dropdown.Item>\n                              <Dropdown.Item className=\"black-text\" onClick={logoutUser}>Log Out</Dropdown.Item>                       \n                            </Dropdown.Menu>\n                          </Dropdown>\n                        </div>\n                    :\n                      <div className=\"bar-item\" \n                      // style={ mobileSearch ? {display: \"none\"} : {display: \"show\"}}\n                      style={{textAlign: \"right\"}}\n                      >\n                        <Button variant=\"light\" onClick={handleModalShow} >Log In</Button>\n                      </div>\n                  )      \n              \n                  }\n                </UserContext.Consumer>\n                \n              }  \n            </div>\n\n            <div className=\"wrapper\">\n              \n              {/* React Router */}\n              <Switch >\n                <Route path=\"/\"                   exact component={Home} />\n                <Route path=\"/movie/:id/credits\"  component={CreditsPage} />\n                <Route path=\"/movie/:id\"          component={MoviePage} />\n                <Route path=\"/dashboard\"          component={DashboardPage} />\n                <Route path=\"/search\"             component={SearchResultsPage} />\n                <Route path=\"/signup\"             component={Signup} />\n                <Route path=\"/pwreset\"            component={PWReset} />\n                {/* 404 page */}\n                <Route component={NoMatch} />\n              </Switch>\n              \n            </div>\n            {/* Signin Modal */}\n            <SignIn />\n            </div>\n          </Container>\n          \n      </div>\n  \n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { BrowserRouter as Router} from \"react-router-dom\";\n\n// import ScrollToTop from './ScrollToTop.js';\nimport UserProvider from \"./providers/UserProvider.js\"\nimport {LoginModalProvider} from \"./providers/LoginModalProvider.js\"\n\n\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Router>\n        <UserProvider>\n            <LoginModalProvider>\n                <App />\n            </LoginModalProvider>\n        </UserProvider>\n    </Router>\n        \n  \n, \ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/poster-placeholder.e0e2ac0d.jpg\";"],"sourceRoot":""}