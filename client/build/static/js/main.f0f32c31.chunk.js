(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{186:function(e,t,a){},206:function(e,t,a){},216:function(e,t){e.exports="data:image/jpeg;base64,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"},219:function(e,t,a){e.exports=a.p+"static/media/backdrop-placeholder.7ac04234.jpg"},223:function(e,t,a){e.exports=a.p+"static/media/facebook-logo-png-38347.465faff2.png"},225:function(e,t,a){e.exports=a(514)},238:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},444:function(e,t){},473:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a(6),o=a(2),i=a.n(o),u=a(10),s=a(52),m=a.n(s),p=(a(228),a(230),{apiKey:"AIzaSyC3usqlGSgcOMzxPhedMV7wlmjbuE06IcU",authDomain:"kino-e29ae.firebaseapp.com",databaseURL:"https://kino-e29ae.firebaseio.com",projectId:"kino-e29ae",storageBucket:"kino-e29ae.appspot.com",messagingSenderId:"467026513874",appId:"1:467026513874:web:6adab093d9b2a7b590020b"});a(88);m.a.initializeApp(p);var d=m.a.auth(),f=m.a.firestore(),E=m.a.firestore.FieldValue.serverTimestamp,v=m.a.firestore.FieldValue,g=new m.a.auth.GoogleAuthProvider,h=new m.a.auth.FacebookAuthProvider;h.addScope("email");var b=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.collection("users").where("username","==",t),c=f.collection("users").where("email","==",n),r.exists||c.exists){e.next=9;break}return e.next=5,d.createUserWithEmailAndPassword(n,a).catch((function(e){var t=e.code,a=e.message;console.log("".concat(t," ").concat(a))}));case 5:l=(new Date).getTime().toString(),f.collection("users").doc(l).set({id:l,email:n,password:a,privilege:"user",userPoints:0,username:t}).catch((function(e){console.error("Error adding document: ",e)})),e.next=10;break;case 9:console.log("something is wrong");case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),A=function(e,t){return d.signInWithEmailAndPassword(e,t).then((function(e){})).catch((function(e){e.code,e.message;return e}))},w=function(){d.signInWithRedirect(g)},y=function(){d.signInWithPopup(h).catch((function(e){console.log(e)})),d.getRedirectResult().then((function(e){if(e.credential)e.credential.accessToken;e.user})).catch((function(e){console.log(e);e.code,e.message,e.email,e.credential}))},O=function(){d.signOut()},x=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("users").where("email","==",t.email).get().then((function(e){a=e.docs[0].data()})).catch((function(e){console.log("Error getting user: ",e)}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.collection("users"),r=d.currentUser,!"password"){e.next=8;break}return e.next=5,r.updateProfile({password:a});case 5:return e.next=7,n.where("email","==",r.email).get().then((function(e){c=e.docs[0].data().id}));case 7:n.doc(c).update({password:a});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(e){f.collection("movieReviews").doc(e).delete().then((function(){})).catch((function(e){console.error("Error removing document: ",e)}))},S=function(e){d.sendPasswordResetEmail(e)},C=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("users"),n=d.currentUser,e.next=4,a.where("email","==",n.email).get().then((function(e){r=e.docs[0].data().password}));case 4:return e.abrupt("return",t===r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(n.createContext)(null),P=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(!0),s=Object(l.a)(u,2),m=s[0],p=s[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){i(e),p(!1)}))}),[]),m?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(N.Provider,{value:o},t)},D=Object(n.createContext)(),I=a(24),U=a.n(I),L=(a(238),a(55)),R=a(207);function B(){var e=Object(L.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var T=a(32),K=a(17),G=a.n(K),V=a(89),q=a.n(V),z=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,e.next=3,f.collection("users").where("email","==",n).get().then((function(e){c=e.docs[0].data().username,r=a.uid})).catch((function(e){console.log("Error getting documents: ",e)}));case 3:return e.abrupt("return",f.collection("articles").add({username:c,authorId:r,date:v.serverTimestamp(),title:t.title,text:t.text,tags:t.tags,points:0,upvoters:[],downvoters:[],urlString:t.title.toLowerCase().split(" ").join("-")}).then((function(e){f.collection("articles").doc(e.id).set({articleId:e.id},{merge:!0})})).catch((function(e){console.error("Error adding comment: ",e)})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),W=a(66),F=(a(343),a(30)),X=a(22);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],i=e.articleData.tags.map((function(t){return r.a.createElement("div",{onClick:function(){return function(t){var a=e.articleData.tags.filter((function(e){return e!==t}));e.setArticleData((function(e){return _({},e,{tags:a})}))}(t)},className:"article-tag",key:t.toString()},r.a.createElement("div",{className:"delete-tag"},r.a.createElement(F.a,{icon:X.f,size:"1x",color:"white"})),t)}));return r.a.createElement("div",{id:"tag-style"},r.a.createElement("div",{className:"chosen-tags"},i),r.a.createElement("input",{type:"text",placeholder:"Tag your article",value:c,onChange:function(e){return o(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.setArticleData((function(e){return _({},e,{tags:[].concat(Object(W.a)(e.tags),[c])})})),o(""))}}))},H=(a(344),a(15)),Q=a(5),J=a(16),Z=a(8),$=a(11);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=function(){var e=Object(n.useState)({title:"",text:"",tags:[]}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(L.g)(),s={ignore_whitespace:!0},m=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,z(a,n);case 3:o.push("/article/".concat(a.title.toLowerCase().split(" ").join("-")));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(N.Consumer,null,(function(e){return e?r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h1",null,"Write Your Article"),r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Article Title"),r.a.createElement(Z.a.Control,{type:"text",value:a.title,onChange:function(e){return c(te({},a,{title:e.target.value}))},placeholder:"What is the name of the article?"})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Article Content"),r.a.createElement(q.a,{className:"ql-style",value:a.text||"",onChange:function(e){return c(te({},a,{text:e}))}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Tags"),r.a.createElement(M,{articleData:a,setArticleData:c})),r.a.createElement(H.a,{disabled:!(!G.a.isEmpty(a.title,s)&&!G.a.isEmpty(a.text,s)),variant:"success",size:"lg",block:!0,type:"submit",onClick:function(t){return m(t,e)}},"Submit"))))):r.a.createElement(L.a,{to:"/"})}))},ne=a(91),re=a.n(ne),ce=a(26),le=a(18),oe=a(44),ie=a(31),ue=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,r){var c,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.email,e.next=3,f.collection("users").where("email","==",c).get().then((function(e){var t=e.docs[0].data();l=t.username,t.id})).catch((function(e){console.log("Error getting documents: ",e)}));case 3:return"movie"==(o={type:t,movieId:a,username:l,authorId:r.uid,date:E(),text:n,points:0,upvoters:[],downvoters:[]}).type&&(o.movieId=a),"article"==o.type&&(o.articleId=a),e.abrupt("return",f.collection("comments").add(o).then((function(e){return f.collection("comments").doc(e.id).set({commentId:e.id},{merge:!0})})).catch((function(e){console.error("Error adding comment: ",e)})));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),se=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],"movie"!==t){e.next=7;break}return e.next=4,f.collection("comments").where("movieId","==",a).get().then((function(e){e.forEach((function(e){n.push(e.data())}))}));case 4:return e.abrupt("return",n);case 7:if("article"!==t){e.next=13;break}return e.next=10,f.collection("comments").where("articleId","==",a).get().then((function(e){e.forEach((function(e){console.log(e.data()),n.push(e.data())}))}));case 10:case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=a(23),pe=a(137),de=(a(186),a(136)),fe=function(e,t){f.collection("comments").doc(e).update({text:t,lastEdited:v.serverTimestamp()}).then((function(){})).catch((function(e){console.error("Error updating document: ",e)}))},Ee=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("users").doc(t),n=f.collection("comments").where("authorId","==",t),r=[],c=0,e.next=6,n.get().then((function(e){e.forEach((function(e){r.push(e.data())}))}));case 6:r.forEach((function(e){return c+=e.points})),a.update({userPoints:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c,l,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("comments").doc(t),r={upvoters:v.arrayRemove(a.uid)},c={downvoters:v.arrayRemove(a.uid)},l={upvoters:v.arrayUnion(a.uid)},o=void 0,e.next=7,n.get();case 7:if(u=e.sent,!(o=u.data()).upvoters.includes(a.uid)){e.next=17;break}return e.next=12,n.update(r);case 12:return e.next=14,n.update({points:v.increment(-1)});case 14:-1,e.next=32;break;case 17:if(!o.downvoters.includes(a.uid)){e.next=27;break}return e.next=20,n.update(c);case 20:return e.next=22,n.update(l);case 22:return e.next=24,n.update({points:v.increment(2)});case 24:2,e.next=32;break;case 27:return e.next=29,n.update(l);case 29:return e.next=31,n.update({points:v.increment(1)});case 31:1;case 32:Ee(o.authorId);case 33:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r,c,l,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("comments").doc(t),r={upvoters:v.arrayRemove(a.uid)},c={downvoters:v.arrayRemove(a.uid)},l={downvoters:v.arrayUnion(a.uid)},o=void 0,0,e.next=8,n.get();case 8:if(u=e.sent,!(o=u.data()).downvoters.includes(a.uid)){e.next=18;break}return e.next=13,n.update(c);case 13:return e.next=15,n.update({points:v.increment(1)});case 15:1,e.next=33;break;case 18:if(!o.upvoters.includes(a.uid)){e.next=28;break}return e.next=21,n.update(r);case 21:return e.next=23,n.update(l);case 23:return e.next=25,n.update({points:v.increment(-2)});case 25:-2,e.next=33;break;case 28:return e.next=30,n.update(l);case 30:return e.next=32,n.update({points:v.increment(-1)});case 32:-1;case 33:Ee(o.authorId);case 34:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),he=function(e){f.collection("comments").doc(e).delete().then((function(){})).catch((function(e){console.error("Error removing document: ",e)}))};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var we=function(e){var t=Object(n.useContext)(N),a=Object(n.useContext)(D),o=(a.loginShow,a.setLoginShow),s=Object(n.useState)(!1),m=Object(l.a)(s,2),p=m[0],d=m[1],f={text:e.comment.text,show:!1},E=Object(n.useState)(f),v=Object(l.a)(E,2),g=v[0],h=v[1],b=function(){o(!0)},A=function(){g.show?h(f):h(Ae({},g,{show:!0}))},w=function(){d(!0)},y=function(){d(!1)},O=function(){var t=Object(u.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(a,n);case 2:A(),e.setComments(Ae({},e.comments,{gettingComments:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he(a);case 2:y(),e.setComments(Ae({},e.comments,{gettingComments:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=Object(n.useState)(t?e.comment.upvoters.includes(t.uid)?"upvoted":e.comment.downvoters.includes(t.uid)?"downvoted":"":""),k=Object(l.a)(j,2),S=k[0],C=k[1],P=Object(n.useState)(e.comment.points),I=Object(l.a)(P,2),U=I[0],L=I[1],R=function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"upvoted"===S?(C(""),L(U-1)):"downvoted"===S?(C("upvoted"),L(U+2)):(C("upvoted"),L(U+1)),e.next=3,ve(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"downvoted"===S?(C(""),L(U+1)):"upvoted"===S?(C("downvoted"),L(U-2)):(C("downvoted"),L(U-1)),e.next=3,ge(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(N.Consumer,null,(function(t){return r.a.createElement(le.a,{className:"comment-card"},r.a.createElement(le.a.Header,{className:"comment-header"},r.a.createElement("h4",{className:"comment-username"},r.a.createElement(c.b,{to:"/user/".concat(e.comment.username)},e.comment.username)),t&&t.uid===e.comment.authorId?r.a.createElement("div",null,r.a.createElement(F.a,{className:"edit-icon",icon:X.a,size:"2x",color:"white",onClick:t?A:null}),r.a.createElement(F.a,{className:"delete-icon",icon:X.f,size:"2x",color:"white",onClick:t?w:b})):r.a.createElement("div",null)),r.a.createElement(le.a.Subtitle,{className:"mb-2 text-muted"}),g.show?r.a.createElement(le.a.Body,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(oe.a,{as:"textarea","aria-label":"With textarea",rows:5,placeholder:"Enter comment",value:g.text,onChange:function(e){return h(Ae({},g,{text:e.target.value}))}})),r.a.createElement("div",{className:"comment-submit"},r.a.createElement(H.a,{variant:"light",type:"submit",style:{marginRight:"1em"},onClick:function(){return O(e.comment.commentId,g.text)},disabled:!!G.a.isEmpty(g.text,{ignore_whitespace:!0})},"Save Changes"),r.a.createElement(H.a,{variant:"danger",onClick:function(){return A()}},"Cancel")))):r.a.createElement(le.a.Body,null,e.comment.text),r.a.createElement("footer",{className:"comment-footer"},r.a.createElement("div",{className:"comment-vote"},r.a.createElement(pe.a,{placement:"top",overlay:r.a.createElement(de.a,null," ",r.a.createElement("strong",null,"Patrician")," ")},r.a.createElement(F.a,{className:"patrIcon ".concat("upvoted"===S?S:""),icon:X.b,size:"2x",color:"white",onClick:t?function(a){return R(e.comment.commentId,t)}:b})),r.a.createElement("h5",{className:"upvoted"===S?"green":"downvoted"===S?"red":""},U),r.a.createElement(pe.a,{placement:"top",overlay:r.a.createElement(de.a,null," ",r.a.createElement("strong",null,"Plebian")," ")},r.a.createElement(F.a,{className:"plebIcon ".concat("downvoted"===S?S:""),icon:X.e,size:"2x",color:"white",onClick:t?function(a){return B(e.comment.commentId,t)}:b}))),r.a.createElement("i",null,"Posted ".concat(new Date(1e3*e.comment.date.seconds).toLocaleDateString("en-US")).concat(e.comment.lastEdited?", last edited ".concat(new Date(1e3*e.comment.lastEdited.seconds).toLocaleDateString("en-US")):""))),r.a.createElement(me.a,{show:p,onHide:function(){return d(!1)},size:"sm",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,null,"Warning!")),r.a.createElement(me.a.Body,null,"Are you sure you want to delete this comment?"),r.a.createElement(me.a.Footer,null,r.a.createElement(H.a,{variant:"danger",className:"comment-delete-button",onClick:function(t){return x(e.comment.commentId)}},"Yes"),r.a.createElement(H.a,{variant:"light",className:"btn-light",onClick:y},"No"))))}))},ye=a(214),Oe=(a(473),function(){return r.a.createElement(J.a,{className:"spinner-page"},r.a.createElement($.a,null,r.a.createElement(Q.a,{className:"d-flex justify-content-center align-items-center spinner-col"},r.a.createElement("div",null,r.a.createElement(ye.a,{animation:"border",variant:"light"})))))}),xe=function(e,t){var a;return"patrician"===t&&(a=e.sort((function(e,t){return t.points-e.points}))),"plebian"===t&&(a=e.sort((function(e,t){return e.points-t.points}))),"newest"===t&&(a=e.sort((function(e,t){var a=e.date.seconds,n=t.date.seconds;return a<n?1:a>n?-1:0}))),"oldest"===t&&(a=e.sort((function(e,t){var a=e.date.seconds,n=t.date.seconds;return a>n?1:a<n?-1:0}))),a};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se=function(e){var t=Object(n.useContext)(D),a=(t.loginShow,t.setLoginShow),o=Object(n.useState)(""),s=Object(l.a)(o,2),m=s[0],p=s[1],d=Object(n.useState)({commentOrder:"patrician",commentArr:[],gettingComments:!0}),f=Object(l.a)(d,2),E=f[0],v=f[1],g=function(){a(!0)};function h(){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e.type,e.id);case 2:a=t.sent,n=xe(a,E.commentOrder),v(ke({},E,{commentArr:n,gettingComments:!1}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){h()}),[E.gettingComments]);var A=function(){var t=Object(u.a)(i.a.mark((function t(a,n,r,c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,ue(e.type,n,r,c);case 3:p(""),v(ke({},E,{gettingComments:!0})),h();case 6:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),w=function(e){e!==E.commentOrder&&v(ke({},E,{commentOrder:e,gettingComments:!0}))};return r.a.createElement(ie.a.Content,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:1}),r.a.createElement(Q.a,{xs:10},r.a.createElement(N.Consumer,null,(function(t){return t?r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(oe.a,{as:"textarea","aria-label":"With textarea",rows:5,placeholder:"Enter comment",value:m,onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",{className:"comment-submit"},r.a.createElement(H.a,{variant:"light",type:"submit",onClick:function(a){return A(a,e.id,m,t)},disabled:!!G.a.isEmpty(m,{ignore_whitespace:!0})},"Submit"))):r.a.createElement(le.a,{className:"comment-card please-signin"},r.a.createElement(le.a.Text,null,r.a.createElement("i",null,r.a.createElement("span",{className:"modal-opener",onClick:g},"Log in")," or ",r.a.createElement(c.b,{to:"/signup"}," sign up")," to leave a comment")))})),r.a.createElement("div",{className:"comment-stack"},r.a.createElement(ce.a,null,r.a.createElement(ce.a.Toggle,{variant:"light",size:"sm",id:"dropdown-basic"},"Sort By"),r.a.createElement(ce.a.Menu,null,r.a.createElement(ce.a.Item,{className:"black-text ".concat("patrician"===E.commentOrder?"bold":""),onClick:function(){return w("patrician")}},"Most Patrician"),r.a.createElement(ce.a.Item,{className:"black-text ".concat("plebian"===E.commentOrder?"bold":""),onClick:function(){return w("plebian")}},"Most Plebian"),r.a.createElement(ce.a.Item,{className:"black-text ".concat("newest"===E.commentOrder?"bold":""),onClick:function(){return w("newest")}},"Newest"),r.a.createElement(ce.a.Item,{className:"black-text ".concat("oldest"===E.commentOrder?"bold":""),onClick:function(){return w("oldest")}},"Oldest"))),E.gettingComments?r.a.createElement(Oe,null):E.commentArr.length>0?function(e){return e.commentArr.map((function(t){return r.a.createElement(we,{comment:t,comments:e,setComments:v,waitForComments:h,key:t.commentId})}))}(E):r.a.createElement("p",{style:{textAlign:"center",paddingBottom:"1em"}},"Nobody has commented on this ".concat(e.type," yet. You could be the first!")))),r.a.createElement(Q.a,{xs:1})))},Ce=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.collection("articles").where("urlString","==",t).get().then((function(e){return e.docs[0].data()})).catch((function(e){return console.log("Error getting article: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("articles").doc(t),e.next=3,n.update({tags:a.tags,text:a.text,title:a.title,urlString:a.title.toLowerCase().split(" ").join("-"),lastEdited:v.serverTimestamp()}).then((function(){})).catch((function(e){console.error("Error updating document: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("articles").doc(t),e.next=3,a.delete().then((function(){})).catch((function(e){console.error("Error removing document: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ue=function(e){var t=e.match,a=Object(L.g)(),o=t.params.urlString,s=Object(n.useState)(null),m=Object(l.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),v=E[0],g=E[1],h=Object(n.useState)({title:"",text:"",tags:[],show:!1}),b=Object(l.a)(h,2),A=b[0],w=b[1],y=function(){g(!0)},O=function(){g(!1)},x=function(){A.show?w({title:p.title,text:p.text,tags:p.tags,show:!1}):w(Ie({},A,{show:!0}))},j=function(){var e=Object(u.a)(i.a.mark((function e(t,n,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Ne(n,r);case 3:return x(),e.next=6,Ce(o);case 6:c=e.sent,r.title!==p.title?a.push("/article/".concat(A.title.toLowerCase().split(" ").join("-"))):d(c);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t);case 2:O(),a.push("/user/".concat(p.username));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S={color:"lightgrey",fontSize:"14px"},C={backgroundColor:"black",paddingTop:"1em",marginBottom:"1em",borderRadius:".25rem"},P={alignItems:"center",height:"32px",backgroundColor:"#6c757d",color:"white",padding:"5px 10px",marginRight:".5em",borderRadius:".25rem"},D={display:"flex",flexDirection:"row"};Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(o);case 2:t=e.sent,d(t),t?w({title:t.title,text:t.text,tags:t.tags,show:!1}):a.push("/nomatch");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]);var I={ignore_whitespace:!0};return p?r.a.createElement(N.Consumer,null,(function(e){return r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:10},r.a.createElement("h1",null,p.title)),r.a.createElement(Q.a,{xs:2},e&&e.uid===p.authorId?r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(F.a,{className:"edit-icon",icon:X.a,size:"2x",color:"white",onClick:e?x:null}),r.a.createElement(F.a,{className:"delete-icon",icon:X.f,size:"2x",color:"white",onClick:y})):r.a.createElement("div",null))),A.show?r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Article Title"),r.a.createElement(Z.a.Control,{type:"text",value:A.title,onChange:function(e){return w(Ie({},A,{title:e.target.value}))},placeholder:"What is the name of the article?"})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Article Content"),r.a.createElement(q.a,{className:"ql-style",value:A.text||"",onChange:function(e){return w(Ie({},A,{text:e}))}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Tags"),r.a.createElement(M,{articleData:A,setArticleData:w})),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(H.a,{disabled:!(!G.a.isEmpty(A.title,I)&&!G.a.isEmpty(A.text,I)),variant:"light",style:{marginRight:"1em"},type:"submit",onClick:function(e){return j(e,p.articleId,A)}},"Save Changes"),r.a.createElement(H.a,{variant:"danger",onClick:function(){return x()}},"Cancel"))):r.a.createElement("div",null,r.a.createElement("p",{style:S},r.a.createElement("i",null,"By ",r.a.createElement(c.b,{to:"/user/".concat(p.username)},p.username),", published ",new Date(1e3*p.date.seconds).toLocaleDateString("en-US"),p.lastEdited?", last edited ".concat(new Date(1e3*p.lastEdited.seconds).toLocaleDateString("en-US")):"")),r.a.createElement("div",null,re()(p.text)),r.a.createElement("div",{style:D},(t=p.tags).map((function(e){return r.a.createElement("p",{style:P,key:t.indexOf(e)},e)}))),r.a.createElement(c.b,{to:"/user/".concat(p.username)},r.a.createElement("p",{className:"return-link"},"<< See more from ".concat(p.username)))),r.a.createElement("h2",{className:"movie-page-header"},"Comments"),r.a.createElement("div",{style:C},r.a.createElement(Se,{type:"article",id:p.articleId})))),r.a.createElement(me.a,{show:v,onHide:function(){return g(!1)},size:"sm",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,null,"Warning!")),r.a.createElement(me.a.Body,null,"Are you sure you want to delete this article?"),r.a.createElement(me.a.Footer,null,r.a.createElement(H.a,{variant:"danger",className:"comment-delete-button",onClick:function(){return k(p.articleId)}},"Yes"),r.a.createElement(H.a,{variant:"light",className:"btn-light",onClick:O},"No"))));var t})):r.a.createElement("div",null,r.a.createElement(Oe,null))},Le=a(20),Re=a.n(Le),Be="3f1b30e6df7ae6dcf64dc94b36c9487d",Te=function(e){for(var t=e.movieCredits.crew,a={},n=0;n<t.length;n++)a.hasOwnProperty(t[n].department)||(a[t[n].department]=[]);for(var c=0;c<t.length;c++)a[t[c].department].push(t[c]);return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h2",{className:"movie-page-header center"},"Production Crew"))),Object.keys(a).map((function(e){return r.a.createElement($.a,{key:e},r.a.createElement(Q.a,null,r.a.createElement("h4",{className:"department-header"},e),a[e].map((function(e){return r.a.createElement($.a,{key:e.id},r.a.createElement(Q.a,null,e.name),r.a.createElement(Q.a,null,e.job))}))))}))))},Ke=a(34),Ge=a(217),Ve=a(216),qe=a.n(Ve),ze=function(e){var t=e.movieCredits.cast;return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h2",{className:"movie-page-header center"},"Cast"),r.a.createElement(Ge.a,{striped:!0,variant:"dark"},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.cast_id},r.a.createElement("td",null,r.a.createElement(Ke.a,{src:(t=e.profile_path,t?"https://image.tmdb.org/t/p/w45".concat(t):qe.a),width:45,height:67,rounded:!0})),r.a.createElement("td",null,r.a.createElement(c.b,{to:"/search/?type=discover&wca=".concat(e.id)},e.name)),r.a.createElement("td",null,'"',e.character,'"'));var t}))))))))},We=function(e){var t=e.match,a=Object(n.useState)(null),o=Object(l.a)(a,2),s=o[0],m=o[1],p=t.params.id;if(Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://api.themoviedb.org/3/movie/".concat(p,"?api_key=").concat(Be,"&language=en-US"));case 2:return t=e.sent,a=t.data,e.next=6,Re.a.get("https://api.themoviedb.org/3/movie/".concat(p,"/credits?api_key=").concat(Be,"&language=en-US"));case 6:n=e.sent,r=n.data,m({movieInfo:a,movieCredits:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p]),s){var d=s.movieInfo.release_date;return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement(c.b,{exact:!0,to:"/movie/".concat(p)},r.a.createElement("h1",{className:"movie-page-header"},"".concat(s.movieInfo.original_title," (").concat(d.length>0?d.slice(0,4):"N/A",")"))))),ze(s),Te(s),r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement(c.b,{exact:!0,to:"/movie/".concat(p)},r.a.createElement("p",{className:"return-link"},"<< Return to Overview Page"))))))}return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("p",null,"Getting Credits")))))},Fe=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),m=s[0],p=s[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),E=f[0],v=f[1],g=Object(n.useState)(""),h=Object(l.a)(g,2),b=h[0],A=h[1],w={ignore_whitespace:!0},y=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!G.a.isEmpty(a,w)){e.next=4;break}return A("There is no password"),e.abrupt("return");case 4:if(!G.a.isEmpty(m,w)){e.next=7;break}return A("There is no new password"),e.abrupt("return");case 7:if(a!==m){e.next=10;break}return A("Passwords are the same"),e.abrupt("return");case 10:if(a!==m){e.next=13;break}return A("Passwords are the same"),e.abrupt("return");case 13:return e.next=15,C(a);case 15:if(!e.sent){e.next=22;break}return e.next=19,j("password",m);case 19:v(!0),e.next=24;break;case 22:return A("Current Password is wrong"),e.abrupt("return");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(J.a,null,r.a.createElement("h3",null,"Change Your Password"),r.a.createElement($.a,null,r.a.createElement(Q.a,null,E?r.a.createElement("div",{className:"changepw-form"},r.a.createElement("h3",null,"Success"),r.a.createElement("p",{style:{textAlign:"center"}},"Your password has been successfully changed.")):r.a.createElement(Z.a,{className:"changepw-form"},r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Current Password"),r.a.createElement(Z.a.Control,{type:"password",placeholder:"Current password here",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"New Password"),r.a.createElement(Z.a.Control,{type:"password",placeholder:"New password here",value:m,onChange:function(e){return p(e.target.value)}})),r.a.createElement(H.a,{variant:"light",size:"lg",disabled:!!G.a.isEmpty(a,w),block:!0,onClick:y},"Submit"),r.a.createElement("b",{className:"error-msg"},b)))))},Xe=(a(492),function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.abrupt("return",f.collection("articles").where("username","==",t).get().then((function(e){return e.docs.forEach((function(e){a.push(e.data())})),a})).catch((function(e){return console.log("Error getting articles: ",e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ye=(a(493),a(50)),_e=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],s=a[1],m=Object(L.g)();return Object(n.useEffect)((function(){(function(){var t=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe(e.username);case 2:a=t.sent,n=a.sort((function(e,t){var a=e.date.seconds,n=t.date.seconds;return a<n?1:a>n?-1:0})),s(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),o?r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement(H.a,{variant:"light",size:"lg",block:!0,onClick:function(){return m.push("/articleform")}},"Create New Article"),r.a.createElement("div",{style:{marginTop:"1em"}}),o.length>0?r.a.createElement(Ye.a,{variant:"flush"},o.map((function(e){return r.a.createElement(Ye.a.Item,null,r.a.createElement(c.b,{to:"/article/".concat(e.urlString)},e.title))}))):r.a.createElement("p",null,"You haven't published any articles.")))):r.a.createElement("div",null,r.a.createElement(Oe,null))},Me=a(37),He=function(){var e=Object(n.useContext)(N),t=Object(n.useState)({data:null,gettingData:!0}),a=Object(l.a)(t,2),c=a[0],o=a[1],s=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:a=e.sent,o({data:a,gettingData:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s(e)}),[]),r.a.createElement(N.Consumer,null,(function(e){return e?c.gettingData?r.a.createElement(Oe,null):r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:0,sm:1}),r.a.createElement(Q.a,{xs:12,sm:10},r.a.createElement(le.a,{className:"comment-card dashboard-card"},r.a.createElement(le.a.Header,{className:"comment-header"},r.a.createElement("h4",null,"Welcome ",c.data.username)),r.a.createElement(le.a.Subtitle,{className:"mb-2 text-muted"}),r.a.createElement(le.a.Body,null,r.a.createElement(ie.a.Container,{defaultActiveKey:"first"},r.a.createElement($.a,null,r.a.createElement(Q.a,{sm:2},r.a.createElement(Me.a,{id:"dashboard-nav",variant:"pills",className:"flex-column"},r.a.createElement(Me.a.Item,null,r.a.createElement(Me.a.Link,{eventKey:"first"},"Stats")),r.a.createElement(Me.a.Item,null,r.a.createElement(Me.a.Link,{eventKey:"second"},"Settings")),r.a.createElement(Me.a.Item,null,r.a.createElement(Me.a.Link,{eventKey:"third"},"My Articles")))),r.a.createElement(Q.a,{sm:9},r.a.createElement(ie.a.Content,null,r.a.createElement(ie.a.Pane,{eventKey:"first"},r.a.createElement("p",null,"You have ",c.data.userPoints," points.")),r.a.createElement(ie.a.Pane,{eventKey:"second"},r.a.createElement(ie.a.Container,{defaultActiveKey:"third"},r.a.createElement($.a,null,r.a.createElement(Q.a,{sm:4},r.a.createElement(Me.a,{id:"dashboard-nav",variant:"pills",className:"flex-column"},r.a.createElement(Me.a.Item,null,r.a.createElement(Me.a.Link,{eventKey:"third"},"Change Password")))),r.a.createElement(Q.a,{sm:8},r.a.createElement(ie.a.Pane,{eventKey:"third"},r.a.createElement(Fe,null)))))),r.a.createElement(ie.a.Pane,{eventKey:"third"},r.a.createElement(_e,{username:c.data.username}))))))))),r.a.createElement(Q.a,{xs:0,sm:1})):r.a.createElement(L.a,{to:"/"})}))},Qe=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){Re.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(Be)).then((function(e){o(e.data.results)}))}),[]),r.a.createElement("div",null,r.a.createElement("h3",null,"Trending"),r.a.createElement("ol",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(c.b,{to:"/movie/".concat(e.id),key:e.id},e.title))}))))},Je=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){Re.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat(Be,"&language=en-US&page=1&region=US")).then((function(e){o(e.data.results)}))}),[]),r.a.createElement("div",null,r.a.createElement("h3",null,"Coming Soon"),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(c.b,{to:"/movie/".concat(e.id),key:e.id},e.original_title))}))))},Ze=a(218),$e=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(L.g)();return Object(n.useEffect)((function(){Re.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat(Be,"&language=en-US&page=1&region=US")).then((function(e){c(e.data.results[0])}))}),[]),r.a.createElement("div",null,r.a.createElement(Ze.a,{style:{backgroundImage:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%,rgba(0,0,0,0.3) 100%), url(https://image.tmdb.org/t/p/w780".concat(a.backdrop_path,")")},onClick:function(){return o.push("/movie/".concat(a.id))}},r.a.createElement("div",{className:"imageDuller"}),r.a.createElement("h2",null,"Featured Film"),r.a.createElement("h1",null,a.title)))},et=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){Re.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat(Be,"&language=en-US&page=1&region=US")).then((function(e){for(var t=[],a=1;a<13;a++)t.push(e.data.results[a]);i(t)}))}),[]),r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement($.a,null,o.map((function(e){return r.a.createElement(Q.a,{key:e.id,xs:4,md:3,lg:2,className:"similar-movie"},r.a.createElement(c.b,{to:"/movie/".concat(e.id)},r.a.createElement(Ke.a,{className:"similar-poster",src:"https://image.tmdb.org/t/p/w92".concat(e.poster_path),alt:"poster for ".concat(e.title)})),r.a.createElement(c.b,{to:"/movie/".concat(e.id)},r.a.createElement("p",null,e.title)))})))))},tt=a(219),at=a.n(tt),nt=(a(494),a(103)),rt=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(0),u=Object(l.a)(i,2),s=u[0],m=u[1],p=Object(n.useState)(null),d=Object(l.a)(p,2),f=d[0],E=d[1];Object(n.useEffect)((function(){Re.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat(Be,"&language=en-US&page=1&region=US")).then((function(e){o(e.data.results)}))}),[]);return r.a.createElement("div",null,r.a.createElement($.a,{md:2,lg:3},r.a.createElement(Q.a,{xs:0,sm:{number:0},md:{number:6},lg:{number:3,order:"first"}},r.a.createElement(Qe,null)),r.a.createElement(Q.a,{xs:{number:12,order:"first"},sm:12,md:12,lg:6},r.a.createElement(nt.a,{activeIndex:s,direction:f,onSelect:function(e,t){m(e),E(t.direction)}},a.slice(0,20).map((function(e){return r.a.createElement(nt.a.Item,{key:e.id},r.a.createElement(c.b,{to:"/movie/".concat(e.id)},r.a.createElement("div",{className:"carousel-image"},r.a.createElement("img",{className:"d-block w-100",src:(t=e.backdrop_path,t?"https://image.tmdb.org/t/p/w780".concat(t):at.a),alt:"First slide"})),r.a.createElement("div",null,r.a.createElement(nt.a.Caption,null,r.a.createElement("h3",{className:"carousel-title literata"},e.title)))));var t}))),r.a.createElement($e,null)),r.a.createElement(Q.a,{xs:0,sm:0,md:6,lg:3},r.a.createElement(Je,null))),r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h3",null,"Popular Movies"),r.a.createElement(et,null),r.a.createElement("footer",{style:{textAlign:"center",margin:"1em",fontSize:"11px"}},r.a.createElement("i",null,"\xa9 2020 Jacob Guss. Built with ",r.a.createElement("a",{href:"https://react-bootstrap.github.io/"},"React Bootstrap")," and ",r.a.createElement("a",{href:"https://developers.themoviedb.org/3/getting-started/introduction"},"The Movie Database API"),".")))))},ct=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},lt=function(e){var t=e.movieInfo;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Original Title")," ",t.original_title),r.a.createElement("p",null,r.a.createElement("b",null,"Budget")," ",t.budget>0?"$".concat(ct(t.budget)):"N/A"),r.a.createElement("p",null,r.a.createElement("b",null,"Runtime")," ",t.runtime," minutes"),r.a.createElement("p",null,r.a.createElement("b",null,"Production Companies")," ",function(){for(var t=[],a=0;a<e.movieInfo.production_companies.length;a++)t.push(e.movieInfo.production_companies[a].name);return t}().join(", ")," "),r.a.createElement("p",null,r.a.createElement("b",null,"Countries of Origin"),"  ",function(){for(var t=[],a=0;a<e.movieInfo.production_countries.length;a++)t.push(e.movieInfo.production_countries[a].name);return t}().join(", ")))},ot=function(e){for(var t=[],a=0;a<e.movieInfo.genres.length;a++)t.push(e.movieInfo.genres[a]);return t.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(c.b,{to:"/search/?type=discover&wg=".concat(e.id)},e.name),t.indexOf(e)==t.length-1?"":", ")}))},it=function(e){for(var t=e.movieCredits.cast,a=t.length<6?t.length:6,n=[],l=0;l<a;l++)n.push(e.movieCredits.cast[l]);return n.map((function(e){return r.a.createElement("span",{key:e.id},r.a.createElement(c.b,{to:"/search/?type=discover&wca=".concat(e.id)},e.name),n.indexOf(e)==n.length-1?"":", ")}))},ut=function(e){for(var t=[],a=0;a<12;a++)t.push(e[a]);if(void 0!==t[0])return r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h2",{className:"movie-page-header"},"Similar Movies"))),r.a.createElement($.a,null,t.map((function(e){return r.a.createElement(Q.a,{key:e.id,xs:4,sm:3,md:2,className:"similar-movie"},r.a.createElement(c.b,{to:"/movie/".concat(e.id)},r.a.createElement(Ke.a,{className:"similar-poster",src:"https://image.tmdb.org/t/p/w92".concat(e.poster_path),alt:"poster for ".concat(e.title)})),r.a.createElement(c.b,{to:"/movie/".concat(e.id)},r.a.createElement("p",null,e.title)))})))))},st=(a(495),a(87)),mt=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.email,c=n.uid,e.next=4,f.collection("users").where("email","==",r).get().then((function(e){l=e.docs[0].data().username})).catch((function(e){console.log("Error getting document: ",e)}));case 4:return e.next=6,f.collection("movieReviews").add({date:v.serverTimestamp(),movieId:t,authorId:c,points:0,rating:a.rating,text:a.reviewText,title:a.title,username:l}).then((function(e){return f.collection("movieReviews").doc(e.id).set({reviewId:e.id},{merge:!0})})).catch((function(e){console.error("Error adding comment: ",e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),pt=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,f.collection("movieReviews").where("movieId","==",t).get().then((function(e){e.forEach((function(e){a.push(e.data())}))}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(e,t){f.collection("movieReviews").doc(e).update({rating:t.rating,text:t.text,title:t.title,lastEdited:v.serverTimestamp()}).then((function(){})).catch((function(e){console.error("Error updating document: ",e)}))};a(496);function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vt=function(e){Object(n.useContext)(N);var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],s=a[1],m={rating:e.review.rating,title:e.review.title,text:e.review.text,show:!1},p=Object(n.useState)(m),d=Object(l.a)(p,2),f=d[0],E=d[1],v=function(){s(!0)},g=function(){s(!1)},h=function(){f.show?E(m):E(Et({},f,{show:!0}))},b=function(){var t=Object(u.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt(a,n);case 2:h(),e.setReviews(Et({},e.reviews,{gettingReviews:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(a);case 2:g(),e.setReviews(Et({},e.reviews,{gettingReviews:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(N.Consumer,null,(function(t){return r.a.createElement(le.a,{className:"comment-card review-card"},r.a.createElement(le.a.Header,{className:"comment-header"},r.a.createElement("div",{className:"stars"},Array.from({length:e.review.rating},(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(F.a,{icon:X.d,size:"2x",color:"gold"}))}))),t&&t.uid===e.review.authorId?r.a.createElement("div",null,r.a.createElement(F.a,{className:"edit-icon",icon:X.a,size:"2x",color:"white",onClick:t?h:null}),r.a.createElement(F.a,{className:"delete-icon",icon:X.f,size:"2x",color:"white",onClick:v})):r.a.createElement("div",null)),r.a.createElement(le.a.Subtitle,{className:"mb-2 text-muted"}),f.show?r.a.createElement(le.a.Body,null,r.a.createElement(Z.a,{className:"review-form"},r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Review Headline"),r.a.createElement(Z.a.Control,{value:f.title,onChange:function(e){return E(Et({},f,{title:e.target.value}))}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Review Text"),r.a.createElement(oe.a,{as:"textarea","aria-label":"With textarea",rows:5,value:f.text,onChange:function(e){return E(Et({},f,{text:e.target.value}))}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Rating"),r.a.createElement(Z.a.Control,{className:"rating-control",value:f.rating,onChange:function(e){return E(Et({},f,{rating:e.target.value}))},as:"select",size:"sm"},r.a.createElement("option",{value:1},"\u2b50   |  Awful"),r.a.createElement("option",{value:2},"\u2b50\u2b50    |  Mediocore"),r.a.createElement("option",{value:3},"\u2b50\u2b50\u2b50    |  Good"),r.a.createElement("option",{value:4},"\u2b50\u2b50\u2b50\u2b50    |  Great"),r.a.createElement("option",{value:5},"\u2b50\u2b50\u2b50\u2b50\u2b50    |  Amazing"))),r.a.createElement("div",{className:"comment-submit"},r.a.createElement(H.a,{variant:"light",type:"submit",style:{marginRight:"1em"},disabled:!0!==!G.a.isEmpty(f.title,{ignore_whitespace:!0})||!0!==!G.a.isEmpty(f.text,{ignore_whitespace:!0}),onClick:function(){return b(e.review.reviewId,f)}},"Save Changes"),r.a.createElement(H.a,{variant:"danger",onClick:function(){return h()}},"Cancel")))):r.a.createElement(le.a.Body,{className:"review-body"},r.a.createElement("div",{className:"review-title"},r.a.createElement("h2",null,e.review.title)),r.a.createElement("p",{className:"review-text"},e.review.text," ",r.a.createElement("i",null,"-by ",r.a.createElement(c.b,{to:"/user/".concat(e.review.username)},e.review.username))," ")),r.a.createElement("footer",{className:"comment-footer review-footer"},r.a.createElement("i",null,"Posted ".concat(new Date(1e3*e.review.date.seconds).toLocaleDateString("en-US")).concat(e.review.lastEdited?", last edited ".concat(new Date(1e3*e.review.lastEdited.seconds).toLocaleDateString("en-US")):""))),r.a.createElement(me.a,{show:o,onHide:function(){return s(!1)},size:"sm",centered:!0},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,null,"Warning!")),r.a.createElement(me.a.Body,null,"Are you sure you want to delete this review?"),r.a.createElement(me.a.Footer,null,r.a.createElement(H.a,{variant:"danger",className:"comment-delete-button",onClick:function(t){return A(e.review.reviewId)}},"Yes"),r.a.createElement(H.a,{variant:"light",className:"btn-light",onClick:g},"No"))))}))};function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(a,!0).forEach((function(t){Object(T.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var bt=function(e){var t=Object(n.useState)({title:"",rating:1,reviewText:""}),a=Object(l.a)(t,2),o=a[0],s=a[1],m=Object(n.useState)({reviewsArr:[],reviewOrder:"newest",gettingReviews:!0}),p=Object(l.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)({userReviewExists:!1,gettingForm:!0}),v=Object(l.a)(E,2);v[0],v[1];function g(){return(g=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt(e.movieId);case 2:a=t.sent,"newest"===d.reviewOrder&&(n=a.sort((function(e,t){var a=e.date.seconds,n=t.date.seconds;return a<n?1:a>n?-1:0}))),"oldest"===d.reviewOrder&&(n=a.sort((function(e,t){var a=e.date.seconds,n=t.date.seconds;return a>n?1:a<n?-1:0}))),"ratingDsc"===d.reviewOrder&&(n=a.sort((function(e,t){return t.rating-e.rating}))),"ratingAsc"===d.reviewOrder&&(n=a.sort((function(e,t){return e.rating-t.rating}))),f(ht({},d,{reviewsArr:n,gettingReviews:!1}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[d.gettingReviews,e.movieId]);var h=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,mt(a,n,r);case 3:s({title:"",rating:1,reviewText:""}),f(ht({},d,{gettingReviews:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),b=function(e){e!==d.reviewOrder&&f(ht({},d,{reviewOrder:e,gettingReviews:!0}))};return r.a.createElement(ie.a.Content,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:1}),r.a.createElement(Q.a,{xs:10},r.a.createElement(N.Consumer,null,(function(t){return d.gettingReviews?r.a.createElement(Oe,null):t?(a=t.uid,d.reviewsArr.filter((function(e){return e.authorId===a})).length>0?r.a.createElement("p",null,"You have already posted a review for this movie."):r.a.createElement(Z.a,{className:"black review-form"},r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Review Headline"),r.a.createElement(Z.a.Control,{value:o.title,onChange:function(e){return s(ht({},o,{title:e.target.value}))}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Review Text"),r.a.createElement(oe.a,{as:"textarea","aria-label":"With textarea",rows:5,value:o.reviewText,onChange:function(e){return s(ht({},o,{reviewText:e.target.value}))}})),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"Rating"),r.a.createElement(Z.a.Control,{className:"rating-control",value:o.rating,onChange:function(e){return s(ht({},o,{rating:e.target.value}))},as:"select",size:"sm"},r.a.createElement("option",{value:1},"\u2b50   |  Awful"),r.a.createElement("option",{value:2},"\u2b50\u2b50    |  Mediocore"),r.a.createElement("option",{value:3},"\u2b50\u2b50\u2b50    |  Good"),r.a.createElement("option",{value:4},"\u2b50\u2b50\u2b50\u2b50    |  Great"),r.a.createElement("option",{value:5},"\u2b50\u2b50\u2b50\u2b50\u2b50    |  Amazing"))),r.a.createElement("div",{className:"comment-submit"},r.a.createElement(H.a,{variant:"light",type:"submit",disabled:1!=!G.a.isEmpty(o.title,{ignore_whitespace:!0})||1!=!G.a.isEmpty(o.reviewText,{ignore_whitespace:!0}),onClick:function(a){return h(a,e.movieId,o,t)}},"Submit")))):r.a.createElement(le.a,{className:"comment-card  please-signin"},r.a.createElement(le.a.Text,null,r.a.createElement("i",null,"Log in or ",r.a.createElement(c.b,{to:"/signup"}," sign up")," to leave a review")));var a})),r.a.createElement("div",{className:"comment-stack"},r.a.createElement(ce.a,null,r.a.createElement(ce.a.Toggle,{variant:"light",size:"sm",id:"dropdown-basic"},"Sort By"),r.a.createElement(ce.a.Menu,null,r.a.createElement(ce.a.Item,{className:"black-text ".concat("newest"===d.reviewOrder?"bold":""),onClick:function(){return b("newest")}},"Newest"),r.a.createElement(ce.a.Item,{className:"black-text ".concat("oldest"===d.reviewOrder?"bold":""),onClick:function(){return b("oldest")}},"Oldest"),r.a.createElement(ce.a.Item,{className:"black-text ".concat("ratingDsc"===d.reviewOrder?"bold":""),onClick:function(){return b("ratingDsc")}},"Rating Descending"),r.a.createElement(ce.a.Item,{className:"black-text ".concat("ratingAsc"===d.reviewOrder?"bold":""),onClick:function(){return b("ratingAsc")}},"Rating Ascending"))),d.gettingReviews?r.a.createElement(Oe,null):d.reviewsArr.length>0?function(e){return e.reviewsArr.map((function(t){return r.a.createElement("div",{key:t.reviewId},r.a.createElement(vt,{review:t,setReviews:f,reviews:e}))}))}(d):r.a.createElement("p",{style:{textAlign:"center",paddingBottom:"1em"}},"Nobody has reviewed this movie yet. You could be the first!"))),r.a.createElement(Q.a,{xs:1})))},At=function(e){return r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h2",{className:"movie-page-header"},"Discussion"))),r.a.createElement(Q.a,null,r.a.createElement("div",{id:"discussion",className:"black"},r.a.createElement(st.a,{defaultActiveKey:"review"},r.a.createElement(ie.a,{eventKey:"review",title:"Reviews",className:"disTab black"},r.a.createElement(bt,{movieId:e.movieId})),r.a.createElement(ie.a,{eventKey:"comments",title:"Comments",className:"disTab black"},r.a.createElement(Se,{id:e.movieId,type:"movie"})))))))},wt=(a(497),a(65)),yt=a.n(wt),Ot=function(e){var t=e.match,a=Object(n.useState)(null),o=Object(l.a)(a,2),s=o[0],m=o[1],p=Object(n.useState)([]),d=Object(l.a)(p,2),f=d[0],E=d[1],v=t.params.id;Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://api.themoviedb.org/3/movie/".concat(v,"?api_key=").concat(Be,"&language=en-US"));case 2:return t=e.sent,a=t.data,e.next=6,Re.a.get("https://api.themoviedb.org/3/movie/".concat(v,"/credits?api_key=").concat(Be,"&language=en-US"));case 6:n=e.sent,r=n.data,m({movieInfo:a,movieCredits:r});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://api.themoviedb.org/3/movie/".concat(v,"/similar?api_key=").concat(Be,"&language=en-US&page=1"));case 2:t=e.sent,a=t.data,E(a.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[v]);var g;if(s){var h="https://image.tmdb.org/t/p/w1280".concat(s.movieInfo.backdrop_path),b={background:"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7) ), url(".concat(h,")"),backgroundPosition:"center center",backgroundAttachment:"fixed",backgroundSize:"cover",paddingBottom:"1em"},A=s.movieInfo.release_date;return r.a.createElement("div",null,r.a.createElement(J.a,{style:s.movieInfo.backdrop_path?b:{background:"#343a40",paddingBottom:"1em"}},r.a.createElement("div",null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h1",{className:"movie-page-header"},"".concat(s.movieInfo.title," (").concat(A.length>0?A.slice(0,4):"N/A",")")))),r.a.createElement($.a,{style:{marginBottom:"1em"}},r.a.createElement(Q.a,{xs:12,md:6,className:"poster-column"},r.a.createElement(Ke.a,{rounded:!0,className:"movie-page-poster",src:(g=s.movieInfo.poster_path,g?"https://image.tmdb.org/t/p/w300".concat(g):yt.a),alt:"poster for ".concat(s.movieInfo.original_title)})),r.a.createElement(Q.a,{xs:12,md:6},r.a.createElement("p",null,r.a.createElement("i",{id:"movie-overview"},s.movieInfo.overview)),r.a.createElement("p",null,r.a.createElement("b",null,"Release Date")," ",A.length>0?A:"N/A"),r.a.createElement("p",null,r.a.createElement("b",null,"Genres")," ",ot(s)),r.a.createElement("p",null,r.a.createElement("b",null,"Starring")," ",s.movieCredits.cast?it(s):"N/A"),lt(s),r.a.createElement("b",null,r.a.createElement(c.b,{to:"/movie/".concat(v,"/credits")},"See Full Cast and Crew")))))),r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:12},ut(f),r.a.createElement(At,{movieId:v})))))}return r.a.createElement("div",null,r.a.createElement(Oe,null))},xt=function(){return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,r.a.createElement("h1",{className:"literata",flud:"true"},"404"),r.a.createElement("h1",{className:"literata",flud:"true"},"PAGE NOT FOUND")))))},jt=(a(498),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(!1),m=Object(l.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),v=E[0],g=E[1],h={ignore_whitespace:!0},b=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!G.a.isEmpty(a,h)){e.next=4;break}return g("There is no email"),e.abrupt("return");case 4:if(!1!==G.a.isEmail(a)){e.next=7;break}return g("Invalid email"),e.abrupt("return");case 7:return e.next=9,S(a);case 9:d(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(J.a,null,r.a.createElement("h1",null,"Reset Your password"),r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:1,sm:2,lg:3,xl:4}),r.a.createElement(Q.a,{xs:10,sm:8,lg:6,xl:4},p?r.a.createElement("div",{className:"reset-form"},r.a.createElement("h3",null,"Success"),r.a.createElement("p",{style:{textAlign:"center"}},"An email has been sent with further instructions to reset your password."),r.a.createElement("div",{className:"go-home"},r.a.createElement(c.b,{to:"/"},"<< Return Home"))):r.a.createElement(Z.a,{className:"reset-form"},r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a.Label,null,"To reset your password, enter the email associated with your account."),r.a.createElement(Z.a.Control,{type:"username",placeholder:"What's your email?",value:a,onChange:function(e){return o(e.target.value)}})),r.a.createElement(H.a,{variant:"light",size:"lg",disabled:!!G.a.isEmpty(a,h),block:!0,onClick:b},"Submit"),r.a.createElement("b",{className:"error-msg"},v))),r.a.createElement(Q.a,{xs:1,sm:2,lg:3,xl:4})))}),kt=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t,a=arguments.length>2?arguments[2]:void 0,n=Object.keys(e),r="",c=0;c<n.length;c++){switch(n[c]){case"q":r+="&query=".concat(e.q);break;case"pry":r+="&primary_release_year=".concat(e.pry);break;case"wc":r+="&with_companies=".concat(e.wc);break;case"wca":r+="&with_cast=".concat(e.wca);break;case"wg":r+="&with_genres=".concat(e.wg)}r+="&page=".concat(a)}switch(e.type){case"movies":t="https://api.themoviedb.org/3/search/movie?api_key=".concat(Be)+r;break;case"discover":t="https://api.themoviedb.org/3/discover/movie?api_key=".concat(Be,"&language=en-US&sort_by=popularity.desc")+r;break;default:t="https://api.themoviedb.org/3/search/movie?api_key=".concat(Be)+r}return t},St=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="Returning results where: ","q"in t&&(a+="query is ".concat(t.q,".")),!("wg"in t)){e.next=9;break}return e.next=5,Re.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(Be,"&language=en-US"));case 5:n=e.sent,r="",n.data.genres.forEach((function(e){t.wg===e.id.toString()&&(r=e.name.toString())})),a+="genre is ".concat(r,".");case 9:if(!("wca"in t)){e.next=14;break}return e.next=12,Re.a.get("https://api.themoviedb.org/3/person/".concat(t.wca,"?api_key=").concat(Be,"&language=en-US"));case 12:c=e.sent,a+="actor is ".concat(c.data.name,".");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=(a(499),a(221)),Nt=a.n(Ct),Pt=function(){var e=Object(L.h)(),t=Nt.a.parse(window.location.search),a=Object(n.useState)(t),o=Object(l.a)(a,2),s=o[0],m=o[1],p=Object(n.useState)(""),d=Object(l.a)(p,2),f=d[0],E=d[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),h=g[0],b=g[1],A=Object(n.useState)(1),w=Object(l.a)(A,2),y=w[0],O=w[1],x=Object(n.useState)(null),j=Object(l.a)(x,2),k=j[0],S=j[1],C=function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y+1,e.next=3,Re.a.get(kt(s,s.type,t));case 3:a=e.sent,O(t),b([].concat(Object(W.a)(h),Object(W.a)(a.data.results))),S(a.data.total_pages);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get(kt(t,t.type,1));case 2:return a=e.sent,e.next=5,St(t);case 5:n=e.sent,E(n),m(t),O(1),b(Object(W.a)(a.data.results)),S(a.data.total_pages);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[e]);return h?r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:12},r.a.createElement("h1",null,"Search Results"),r.a.createElement("b",null,f),r.a.createElement(Ye.a,null,h.map((function(e){return r.a.createElement(Ye.a.Item,{key:e.id,className:"results-item"},r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:12,md:2,className:"d-none d-md-block"},r.a.createElement(Ke.a,{className:"search-result-poster",src:(t=e.poster_path,t?"https://image.tmdb.org/t/p/w92".concat(t):yt.a),rounded:!0})),r.a.createElement(Q.a,{xs:12,md:10},r.a.createElement($.a,null,r.a.createElement(c.b,{to:"/movie/".concat(e.id)},r.a.createElement("b",null,e.title," (",e.release_date?e.release_date.slice(0,4):"N/A",")"))),r.a.createElement($.a,null,r.a.createElement("i",{className:"result-overview"},e.overview)))));var t}))),y<k?r.a.createElement((function(){return r.a.createElement(H.a,{onClick:C,id:"more-results-button",variant:"light",size:"lg",block:!0},"Show More Results")}),null):r.a.createElement("div",null))))):r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,"Loading Results"))))},Dt=a(222),It=(a(511),Object(L.i)((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),o=a[0],s=a[1],m=Object(n.useState)([]),p=Object(l.a)(m,2),d=p[0],f=p[1],E=Object(n.useState)(!1),v=Object(l.a)(E,2),g=v[0],h=v[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(Be,"&language=en-US&query=").concat(o,"&page=1&include_adult=false"));case 2:t=e.sent,f(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.length>=4&&e()}),[o]);var b=function(){s("")},A=function(t){t.preventDefault(),e.history.push("/search?q=".concat(o)),b()},w=function(e,t){return e.length>t?"".concat(e.slice(0,t+1),"..."):e};return r.a.createElement("div",null,r.a.createElement("div",{id:"searchbar"},r.a.createElement("input",{type:"text",value:o,className:"searchbar-input",onChange:function(e){return s(e.target.value)},onFocus:function(){return h(!0)},onBlur:function(){setTimeout((function(){h(!1)}),300)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.history.push("/search?q=".concat(o)),b())},placeholder:"Search for films"}),r.a.createElement(Dt.a.Append,null,r.a.createElement(H.a,{variant:"outline-secondary",onClick:A},r.a.createElement(F.a,{icon:X.c,color:"white"})))),function(){if(d&&g&&o.length>=3){var t=d.slice(0,6);return r.a.createElement("div",{id:"search-suggestions"},r.a.createElement("div",{className:"suggestion-group"},t.map((function(t){return r.a.createElement("div",{variant:"warning",key:t.id,onClick:function(){e.history.push("/movie/".concat(t.id)),b()},className:"suggestion-item"},r.a.createElement(Ke.a,{rounded:!0,className:"suggestion-poster",src:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):yt.a,alt:"poster for ".concat(t.title)}),r.a.createElement(c.b,{to:"/movie/".concat(t.id),onClick:A,className:"suggestion-font"},w(t.title,40)))})),function(){if(d.length>6)return r.a.createElement(Ye.a.Item,{variant:"warning",className:"suggestion-item",onClick:A},r.a.createElement(c.b,{to:"/search?type=movies&q=".concat(o),onClick:b},'see more results for "'.concat(w(o,26),'"')))}()))}}())}))),Ut=a(223),Lt=a.n(Ut),Rt=(a(206),function(){var e=Object(n.useContext)(D),t=e.loginShow,a=e.setLoginShow,o=Object(n.useState)(""),s=Object(l.a)(o,2),m=s[0],p=s[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),v=E[0],g=E[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),O=b[0],x=b[1],j=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,A(m,v);case 3:return e.next=5,!!d.currentUser;case 5:if(!e.sent){e.next=13;break}p(""),g(""),x(""),a(!1),e.next=15;break;case 13:return x("Incorrect username and/or password"),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){a(!1)};return r.a.createElement(me.a,{show:t,onHide:k,className:"login-modal"},r.a.createElement(me.a.Header,{closeButton:!0},r.a.createElement(me.a.Title,null,"Sign In")),r.a.createElement(me.a.Body,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Z.a.Label,null,"Email address"),r.a.createElement(Z.a.Control,{type:"email",placeholder:"Email",value:m,onChange:function(e){return p(e.target.value)}})),r.a.createElement(Z.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Z.a.Label,null,"Password"),r.a.createElement(Z.a.Control,{type:"password",placeholder:"Password",value:v,onChange:function(e){return g(e.target.value)}})),r.a.createElement(H.a,{variant:"success",className:"emailSignin",onClick:j,block:!0},"Submit"),r.a.createElement("div",{style:{height:"3em"}},r.a.createElement("b",{style:{textAlign:"center"},className:"error-msg"},O)),r.a.createElement(c.b,{to:"/pwreset",onClick:k,className:"pwResetLink"},r.a.createElement("p",null,"Forgot your password?")))),r.a.createElement(me.a.Footer,{className:"login-modal-footer"},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{className:"justify-content-center"},r.a.createElement("button",{className:"googleBtn",type:"button",onClick:w},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google logo"}),"Sign In With Google")),r.a.createElement(Q.a,{className:"justify-content-center"},r.a.createElement("button",{className:"facebookBtn",onClick:y},r.a.createElement("img",{src:Lt.a,alt:"facebook logo"}),"Sign in with Facebook"))),r.a.createElement($.a,{className:"justify-content-center"},r.a.createElement(c.b,{to:"/signup",onClick:k},r.a.createElement("p",null,"Don't have an account? Sign up here!"))))))}),Bt=(a(512),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),m=s[0],p=s[1],d=Object(n.useState)(""),f=Object(l.a)(d,2),E=f[0],v=f[1],g=Object(n.useState)(""),h=Object(l.a)(g,2),A=h[0],w=h[1],y=Object(L.g)(),O={ignore_whitespace:!0},x=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!G.a.isEmpty(a,O)){e.next=4;break}return w("There is no username"),e.abrupt("return");case 4:if(!1!==G.a.isLength(a,{max:16})){e.next=8;break}return w("Your username can't be longer than 16 characters"),e.abrupt("return");case 8:if(!1!==G.a.isEmail(m)){e.next=11;break}return w("Invalid email"),e.abrupt("return");case 11:if(!1!==G.a.isLength(E,{min:6,max:100})){e.next=14;break}return w("Your Password must be at least 6 characters"),e.abrupt("return");case 14:return e.next=16,b(a,E,m);case 16:y.push("/");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(J.a,null,r.a.createElement("h1",null,"Sign up"),r.a.createElement($.a,{className:"signup"},r.a.createElement(Q.a,{xs:1,sm:2,lg:3,xl:4}),r.a.createElement(Q.a,{xs:10,sm:8,lg:6,xl:4},r.a.createElement(Z.a,{className:"signup-form"},r.a.createElement(Z.a.Group,{controlId:"formBasicUsername"},r.a.createElement(Z.a.Label,null,"Username"),r.a.createElement(Z.a.Control,{type:"username",placeholder:"What's your name?",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement(Z.a.Group,{controlId:"formBasicEmail"},r.a.createElement(Z.a.Label,null,"Email Address"),r.a.createElement(Z.a.Control,{type:"email",placeholder:"Enter email",value:m,onChange:function(e){return p(e.target.value)}})),r.a.createElement(Z.a.Group,{controlId:"formBasicPassword"},r.a.createElement(Z.a.Label,null,"Password"),r.a.createElement(Z.a.Control,{type:"password",placeholder:"Password",value:E,onChange:function(e){return v(e.target.value)}})),r.a.createElement(H.a,{variant:"light",size:"lg",disabled:!!(G.a.isEmpty(a,O)||G.a.isEmpty(m,O)||G.a.isEmpty(E,O)),block:!0,onClick:x},"Submit"),r.a.createElement("b",{className:"error-msg"},A))),r.a.createElement(Q.a,{xs:1,sm:2,lg:3,xl:4})))}),Tt=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("users").where("username","==",t).get().then((function(e){a=e.docs[0].data()})).catch((function(e){console.log("Error getting user: ",e)}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=(a(513),function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],s=a[1],m=Object(L.g)();Object(n.useEffect)((function(){(function(){var t=Object(u.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe(e.username);case 2:a=t.sent,n=a.sort((function(e,t){var a=e.date.seconds,n=t.date.seconds;return a<n?1:a>n?-1:0})),s(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);return o?r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,null,o.length>0?o.map((function(e){return r.a.createElement("div",{className:"article-preview",key:o.indexOf(e)},r.a.createElement("p",null,r.a.createElement("i",null,new Date(1e3*e.date.seconds).toLocaleDateString("en-US"))),r.a.createElement("h2",{onClick:function(){return m.push("/article/".concat(e.urlString))}},e.title),r.a.createElement("div",null,re()(function(e){var t=e.split("><").slice(0,1);return t.push(">"),t.join("")}(e.text))),r.a.createElement("div",{className:"read-more"},r.a.createElement(c.b,{to:"/article/".concat(e.urlString)},"Read more")))})):r.a.createElement("div",null,r.a.createElement("p",null,"This user hasn't published any articles."))))):r.a.createElement("div",null,r.a.createElement(Oe,null))}),Gt=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(l.a)(a,2),o=c[0],s=c[1],m=t.params.username;return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt(m);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o?r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{xs:12,lg:4},r.a.createElement(le.a,{className:"comment-card"},r.a.createElement(le.a.Header,null,r.a.createElement("h1",null,o.username)),r.a.createElement(le.a.Subtitle,{className:"mb-2 text-muted"}),r.a.createElement(le.a.Body,null," ",r.a.createElement("b",null,o.userPoints," points ")," "))),r.a.createElement(Q.a,{xs:12,lg:8},r.a.createElement("h1",{style:{textAlign:"center",marginTop:".8em"}},"Articles"),r.a.createElement(Kt,{username:m})))):r.a.createElement("div",null,r.a.createElement(Oe,null))},Vt=function(){var e=Object(L.g)(),t=Object(n.useContext)(D),a=(t.loginShow,t.setLoginShow),o=Object(R.useMediaQuery)({query:"(max-width: 767px)"}),i=function(){a(!0)},u=Object(n.useState)(!1),s=Object(l.a)(u,2),m=s[0],p=s[1];return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement("div",{id:"app-overwrites",className:"App"},r.a.createElement(J.a,null,r.a.createElement("div",{style:{backgroundColor:"#343a40",minHeight:"100vh"}},r.a.createElement("div",{id:"kino-nav"},!m&&r.a.createElement("div",{className:"bar-item"},r.a.createElement(c.b,{className:"app-logo",to:"/"},"KINO")),o&&!m?null:r.a.createElement("div",{className:"searchbar-div"},r.a.createElement(It,{mobileSearch:m})),(o||m)&&r.a.createElement(N.Consumer,null,(function(e){return r.a.createElement(H.a,{variant:"outline-secondary",style:m?null:{marginLeft:"50%"},onClick:m?function(){return p(!1)}:function(){return p(!0)}},r.a.createElement(F.a,{icon:m?X.f:X.c,color:"white"}))})),!m&&r.a.createElement(N.Consumer,null,(function(t){return t?r.a.createElement("div",{className:"bar-item"},r.a.createElement(ce.a,null,r.a.createElement(ce.a.Toggle,{variant:"light"},"User"),r.a.createElement(ce.a.Menu,null,r.a.createElement(ce.a.Item,{className:"black-text",onClick:function(){e.push("/dashboard")}},"Dashboard"),r.a.createElement(ce.a.Item,{className:"black-text",onClick:O},"Log Out")))):r.a.createElement("div",{className:"bar-item",style:{textAlign:"right"}},r.a.createElement(H.a,{variant:"light",onClick:i},"Log In"))}))),r.a.createElement("div",{className:"wrapper"},r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/",exact:!0,component:rt}),r.a.createElement(L.b,{path:"/movie/:id/credits",component:We}),r.a.createElement(L.b,{path:"/movie/:id",component:Ot}),r.a.createElement(L.b,{path:"/dashboard",component:He}),r.a.createElement(L.b,{path:"/search",component:Pt}),r.a.createElement(L.b,{path:"/signup",component:Bt}),r.a.createElement(L.b,{path:"/pwreset",component:jt}),r.a.createElement(L.b,{path:"/articleform",component:ae}),r.a.createElement(L.b,{path:"/article/:urlString",component:Ue}),r.a.createElement(L.b,{path:"/user/:username",component:Gt}),r.a.createElement(L.b,{component:xt}))),r.a.createElement(Rt,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));U.a.render(r.a.createElement(c.a,null,r.a.createElement(P,null,r.a.createElement((function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){}),[o]),r.a.createElement(D.Provider,{value:{loginShow:o,setLoginShow:i}},t)}),null,r.a.createElement(Vt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e,t,a){e.exports=a.p+"static/media/poster-placeholder.e0e2ac0d.jpg"}},[[225,1,2]]]);
//# sourceMappingURL=main.f0f32c31.chunk.js.map