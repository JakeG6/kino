{"version":3,"sources":["components/CreditsPage/profile-placeholder.jpeg","components/backdrop-placeholder.jpg","components/SignIn/facebook-logo-png-38347.png","firebaseConfig.js","firebase.js","providers/UserProvider.js","providers/LoginModalProvider.js","ScrollToTop.js","components/ArticleForm/ArticleForm-fb.js","components/ArticleForm/TagInput.js","components/ArticleForm/ArticleForm.js","components/MoviePage/DiscussionTabs/CommentTab-fb.js","components/MoviePage/DiscussionTabs/Comment-fb.js","components/MoviePage/DiscussionTabs/Comment.js","components/LoadingSpinner/LoadingSpinner.js","components/MoviePage/DiscussionTabs/sortComments.js","components/MoviePage/DiscussionTabs/CommentTab.js","components/ArticlePage/ArticlePage-fb.js","components/ArticlePage/ArticlePage.js","components/apiKey.js","components/CreditsPage/createCrewList.js","components/CreditsPage/createCastList.js","components/CreditsPage/CreditsPage.js","components/DashboardPage/ChangePW.js","components/UserPage/ArticleList-FB.js","components/DashboardPage/DashboardArticles.js","components/DashboardPage/DashboardPage.js","components/Home/TrendingChart.js","components/Home/ComingSoonChart.js","components/Home/FeaturedMovie.js","components/Home/PopularMovies.js","components/Home/Home.js","components/MoviePage/budgetCommas.js","components/MoviePage/createTechnicalInfo.js","components/MoviePage/createGenreList.js","components/MoviePage/createStarringList.js","components/MoviePage/similarMoviesDisplay.js","components/MoviePage/DiscussionTabs/ReviewTab-fb.js","components/MoviePage/DiscussionTabs/Review-fb.js","components/MoviePage/DiscussionTabs/Review.js","components/MoviePage/DiscussionTabs/ReviewTab.js","components/MoviePage/DiscussionTabs/DiscussionTabs.js","components/MoviePage/MoviePage.js","components/NoMatch/NoMatch.js","components/PWReset/PWReset.js","components/SearchResultsPage/queryBuilder.js","components/SearchResultsPage/paramDisplayGenerator.js","components/SearchResultsPage/SearchResultsPage.js","components/SearchBar/SearchBar.js","components/SignIn/SignIn.js","components/Signup/Signup.js","components/UserPage/UserPage-FB.js","components/UserPage/ArticleList.js","components/UserPage/UserPage.js","App.js","serviceWorker.js","index.js","components/poster-placeholder.jpg"],"names":["module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","auth","firestore","serverTimestamp","FieldValue","fieldValue","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","addScope","signupNewUser","username","password","email","a","usernameQuery","collection","where","emailQuery","exists","createUserWithEmailAndPassword","catch","error","errorCode","code","errorMessage","message","console","log","id","Date","getTime","toString","doc","set","privilege","userPoints","signinUser","signInWithEmailAndPassword","then","result","googleSignin","signInWithRedirect","facebookSignin","signInWithPopup","getRedirectResult","credential","accessToken","user","logoutUser","signOut","getUserData","get","snapshot","userObj","docs","data","updateUserProfile","arg","newVal","usersRef","currentUser","updateProfile","userId","update","deleteReview","delete","passwordReset","sendPasswordResetEmail","checkPassword","userPW","UserContext","createContext","UserProvider","children","useState","setUser","pending","setPending","useEffect","onAuthStateChanged","Provider","value","LoginModalContext","ScrollToTop","pathname","useLocation","window","scrollTo","postArticle","articleData","authorId","uid","add","date","title","text","tags","points","upvoters","downvoters","urlString","toLowerCase","split","join","docRef","articleId","merge","TagInput","props","tagInput","setTagInput","tagItems","map","tag","onClick","newTags","filter","item","setArticleData","prevArticleData","deleteTag","className","key","icon","faTimes","size","color","type","placeholder","onChange","e","target","onKeyPress","event","preventDefault","ArticleForm","history","useHistory","noWhitespace","ignore_whitespace","submitArticle","push","Consumer","Container","Row","Col","Form","Group","Label","Control","Button","disabled","validator","isEmpty","variant","block","to","postComment","userData","commentObj","movieId","commentId","getComments","commentArr","forEach","updateComment","editedText","lastEdited","updateUserPoints","userRef","userCommentsRef","userCommentsArr","newPointTotal","comment","toggleUpvote","commentRef","removeFromUpvoters","arrayRemove","removeFromDownvoters","addToUpvoters","arrayUnion","undefined","includes","increment","toggleDownvote","addToDownvoters","deleteComment","Comment","useContext","setLoginShow","loginShow","delModalShow","setDelModal","editModeDefault","show","editMode","setEditMode","handleModalShow","handleEditModeShow","handleDelModalShow","handleDelModalHide","handleUpdate","setComments","comments","gettingComments","handleDelete","vote","setVote","pointCount","setPointCount","handleUpvote","handleDownvote","Card","Header","faEdit","Subtitle","Body","FormControl","as","aria-label","rows","style","marginRight","OverlayTrigger","placement","overlay","Tooltip","faPrayingHands","faThumbsDown","seconds","toLocaleDateString","Modal","onHide","centered","closeButton","Title","Footer","LoadingSpinner","Spinner","animation","sortComments","order","sortedComments","sort","b","x","y","CommentTab","commentText","setCommentText","commentOrder","waitForComments","newComments","submitComment","changeCommentOrder","newOrder","Tab","Content","xs","Text","Dropdown","Toggle","Menu","Item","length","commentCards","textAlign","paddingBottom","getArticle","updateArticle","editedArticle","articleRef","deleteArticle","ArticlePage","match","articleTitle","params","article","setArticle","artToBe","attributionStyle","fontSize","commentStyle","backgroundColor","paddingTop","marginBottom","borderRadius","articleTagStyle","alignItems","height","padding","tagDisplay","display","flexDirection","fetchArticle","marginTop","ReactHtmlParser","indexOf","createCrewList","pageMovie","movieCrew","movieCredits","crew","deptObj","i","hasOwnProperty","department","Object","keys","crewMember","name","job","createCastList","movieCast","cast","Table","striped","castMember","cast_id","Image","src","path","profile_path","profilePlaceholder","width","rounded","character","CreditsPage","setPageMovie","axios","movieInfoRes","movieCreditsRes","movieInfo","fetchData","releaseDate","release_date","exact","original_title","slice","ChangePW","setPassword","newPassword","setNewPassword","changeConfirm","setChangeConfirm","setErrorMessage","validatePWChange","getArticles","artArr","DashboardArticles","articles","setArticles","artsToBe","sortedArticles","fetchArticles","ListGroup","DashboardPage","gettingData","setUserData","retrieveUserData","sm","defaultActiveKey","Nav","Link","eventKey","Pane","TrendingChart","nowTrending","setNowTrending","res","results","movie","ComingSoonChart","comingSoon","setcomingSoon","FeaturedMovie","popularMovie","setPopularMovie","Jumbotron","backgroundImage","backdrop_path","PopularMovies","similarMovies","popularMovies","setPopularMovies","list","md","lg","poster_path","alt","Home","nowPlaying","setNowPlaying","index","setIndex","direction","setDirection","number","Carousel","activeIndex","onSelect","selectedIndex","backdropPlaceholder","Caption","margin","href","budgetCommas","budget","replace","createTechnicalInfo","runtime","companyNames","production_companies","createProductionCompanyString","countryNames","production_countries","createCountriesofOriginString","createGenreList","genreList","genres","genre","createStarringList","castLength","starringList","star","similarMoviesDisplay","simList","postMovieReview","reviewData","rating","reviewText","reviewId","getMovieReviews","reviewsArr","updateReview","editedReview","Review","review","setReviews","reviews","gettingReviews","Array","from","_","faStar","ReviewTab","setReviewData","reviewOrder","userReviewExists","gettingForm","newReviews","sortedReviews","waitForMovieReviews","submitReview","changeReviewOrder","reviewCards","DiscussionTabs","Tabs","MoviePage","setSimilarMovies","simMoviesRes","fetchSimilar","backdropURL","backdrop","background","backgroundPosition","backgroundAttachment","backgroundSize","posterPlaceholder","overview","similarMovieDisplay","NoMatch","flud","PWReset","setEmail","sendingConfirm","setSendingConfirm","validatePWReset","isEmail","xl","querybuilder","queryObj","finalURL","pageCount","queryNames","urlQuery","q","pry","wc","wca","wg","paramDisplayGenerator","sentence","response","genreName","obj","SearchResultsPage","location","searchParams","queryString","parse","search","currentParams","setCurrentParams","paramDisplay","setParamDisplay","searchResults","setSearchResults","setPageCount","totalPages","setTotalPages","showMoreResults","replacementPageCount","queryBuilder","apiResults","total_pages","paramSentence","fetchResults","withRouter","searchQuery","setSearchQuery","suggestions","setSuggestions","isFocused","setIsFocused","fetchSuggestions","clearSearchBar","clickSearch","titleLimiter","titleCutoff","onFocus","onBlur","setTimeout","InputGroup","Append","faSearch","suggestionCount","showMore","suggestionBars","SignIn","handleSignin","handleClose","controlId","facebookLogo","Signup","setUsername","validateSignup","isLength","max","min","getUser","ArticleList","str","arr","createPreviewElement","UserPage","userPageData","setUserPageData","usernameUrl","userToBe","fetchUser","App","isMobileDevice","useMediaQuery","query","mobileSearch","setMobileSearch","minHeight","marginLeft","component","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f0f32c31.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/backdrop-placeholder.7ac04234.jpg\";","module.exports = __webpack_public_path__ + \"static/media/facebook-logo-png-38347.465faff2.png\";","// Kino's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC3usqlGSgcOMzxPhedMV7wlmjbuE06IcU\",\n    authDomain: \"kino-e29ae.firebaseapp.com\",\n    databaseURL: \"https://kino-e29ae.firebaseio.com\",\n    projectId: \"kino-e29ae\",\n    storageBucket: \"kino-e29ae.appspot.com\",\n    messagingSenderId: \"467026513874\",\n    appId: \"1:467026513874:web:6adab093d9b2a7b590020b\"\n};\n\nexport default firebaseConfig","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport firebaseConfig from \"./firebaseConfig.js\"\nimport { counter } from '@fortawesome/fontawesome-svg-core';\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n// auth and firestore\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();\n\n// server Timestamp\nexport const serverTimestamp = firebase.firestore.FieldValue.serverTimestamp;\n\n//fieldvalue\nexport const fieldValue = firebase.firestore.FieldValue;\n\n//google provider\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\n\n//facebook provider\nconst facebookProvider = new firebase.auth.FacebookAuthProvider();\nfacebookProvider.addScope('email');\n\n\n//add new user to site firebase.\nexport const signupNewUser = async (username, password, email) => {\n\n    const usernameQuery =  firestore.collection(\"users\").where(\"username\", \"==\", username);\n    const emailQuery = firestore.collection(\"users\").where(\"email\", \"==\", email);\n\n    if (!usernameQuery.exists && !emailQuery.exists) {\n\n\n        await auth.createUserWithEmailAndPassword(email, password).catch( error => {\n            // Handle Errors here.\n            let errorCode = error.code;\n            let errorMessage = error.message;\n            console.log(`${errorCode} ${errorMessage}`)\n            // ...\n        })\n\n        const id = new Date().getTime().toString();\n\n        firestore.collection(\"users\").doc(id).set({\n            //use unix millisecond timestamp for field id\n            id: id,\n            email: email,\n            password: password,\n            privilege: \"user\",\n            userPoints: 0,\n            username: username\n        })\n        .catch(error => {\n            console.error(\"Error adding document: \", error);\n        });\n    \n    }\n    else {\n        console.log(\"something is wrong\")\n    }\n\n}\n\n//sign in user\nexport const signinUser = (email, password) => {\n\n    return auth.signInWithEmailAndPassword(email, password).then((result) => {\n        // return result;\n\n         // update the context\n    }).catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // ...\n        return error;\n    });\n\n}\n\n//sign in user via google with a redirect\nexport const googleSignin = () => {\n\n  auth.signInWithRedirect(googleProvider);\n\n}\n\nexport const getGoogleAuthResult = () => {\n\n    auth.getRedirectResult().then(function(result) {\n        if (result.credential) {\n          // This gives you a Google Access Token. You can use it to access the Google API.\n          var token = result.credential.accessToken;\n          // ...\n        }\n        // The signed-in user info.\n        var user = result.user;\n      }).catch(function(error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        // ...\n        console.log(error.code, error.message);\n      });\n\n}\n\n//sign in user via facebook with a redirect\nexport const facebookSignin = () => {\n\n    auth.signInWithPopup(facebookProvider).catch(error => {\n        console.log(error);\n      });\n\n    auth.getRedirectResult().then(function(result) {\n        // console.log(result)\n        if (result.credential) {\n          // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n          var token = result.credential.accessToken;\n        \n          // ...\n        }\n        // The signed-in user info.\n        var user = result.user;\n        // console.log(user)\n      }).catch(function(error) {\n          console.log(error)\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        // ...\n      });\n\n}\n\n//logout User\nexport const logoutUser = () => {\n    auth.signOut();\n}\n\n//retrieve user data\nexport const getUserData = async user => {\n\n    let userObj;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", user.email).get().then(snapshot => {\n\n        userObj = snapshot.docs[0].data();    \n        \n    }).catch(function(error) {\n    \n        console.log(\"Error getting user: \", error);\n    \n    });\n\n    return userObj;\n\n}\n\n//update user profile WIP\nexport const updateUserProfile = async (arg, newVal) => {\n    \n    const usersRef =  firestore.collection(\"users\");\n    let currentUser = auth.currentUser;   \n    let userId;\n    \n    if (arg = \"password\") {\n\n        await currentUser.updateProfile({\n            password: newVal           \n        })\n\n        await usersRef.where(\"email\", \"==\", currentUser.email).get().then(snapshot => {   \n            userId = snapshot.docs[0].data().id;\n        })\n        \n        usersRef.doc(userId).update({password: newVal});\n\n    }\n\n}\n\n//create distributed counters for likes and dislikes for posts and reviews.\nconst createCounter = (ref, num_shards) => {\n    let batch = firestore.batch();\n\n    // Initialize the counter document\n    batch.set(ref, { num_shards: num_shards });\n\n    // Initialize each shard with count=0\n    for (let i = 0; i < num_shards; i++) {\n        let shardRef = ref.collection('shards').doc(i.toString());\n        batch.set(shardRef, { count: 0 });\n    }\n\n    // Commit the write batch\n    return batch.commit();\n}\n\n//use this function to increment the count for posts and review\nconst incrementCounter = (db, ref, num_shards) => {\n    // Select a shard of the counter at random\n    const shard_id = Math.floor(Math.random() * num_shards).toString();\n    const shard_ref = ref.collection('shards').doc(shard_id);\n\n    // Update count\n    return shard_ref.update(\"count\", firebase.firestore.FieldValue.increment(1));\n}\n\n//get the total count from a shard subcollection\nconst getCount = ref => {\n\n     // Sum the count of each shard in the subcollection\n     return ref.collection('shards').get().then(snapshot => {\n        let total_count = 0;\n        snapshot.forEach(doc => {\n            total_count += doc.data().count;\n        });\n\n        return total_count;\n    });\n\n}\n\nexport const deleteReview = (id) => {\n\n    const commentRef = firestore.collection(\"movieReviews\").doc(id);\n\n    commentRef.delete().then(function() {\n        \n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n\n}\n\n//Reset Password\nexport const passwordReset = email => {\n    auth.sendPasswordResetEmail(email);\n}\n\n//check password\nexport const checkPassword = async password => {\n\n    const usersRef =  firestore.collection(\"users\");\n    let currentUser = auth.currentUser;  \n\n    let userPW;\n\n    await usersRef.where(\"email\", \"==\", currentUser.email).get().then(snapshot => {   \n        userPW = snapshot.docs[0].data().password;\n    })\n\n    return (password === userPW ? true : false);\n    \n}\n\nexport const checkUser = () => {\n    // console.log(\"check user: \", auth.currentUser)\n    if (auth.currentUser) { return true; }\n    else { return false; }\n}","import React, { createContext, useState, useEffect } from \"react\";\nimport { auth } from \"../firebase.js\";\n\nexport const UserContext = createContext(null);\n\nconst UserProvider = ({children}) => {\n    \n  const [user, setUser] = useState(null);\n\n  //waiting for context to pass down user credentials\n  const [pending, setPending] = useState(true);\n\n  useEffect(() => {\n\n    auth.onAuthStateChanged(user => {\n      setUser(user)\n      setPending(false);\n    })\n\n  }, []) \n\n  if (pending) {\n    return <>Loading...</>\n  }\n\n  return (\n    <UserContext.Provider value={user}>\n      {children}\n    </UserContext.Provider>\n  );\n  \n}\n\nexport default UserProvider;","import React, { createContext, useState, useEffect } from \"react\";\n\nexport const LoginModalContext = createContext();\n\nexport const LoginModalProvider = ({children}) => { \n\n  const [loginShow, setLoginShow] = useState(false);\n\n  useEffect(() => {\n  }, [loginShow])\n\n  return (\n      <LoginModalContext.Provider value={{loginShow, setLoginShow}}>\n        {children}\n      </LoginModalContext.Provider>\n  );\n    \n}","import React, { useEffect} from 'react';\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\n","import { firestore, fieldValue } from '../../firebase.js';\n\n//post article to firestore\nconst postArticle = async (articleData, user) => {\n\n    let email = user.email;\n    let authorId;\n    let username;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", email).get().then(snapshot => {\n\n        username = snapshot.docs[0].data().username;\n        authorId = user.uid;\n    \n    }).catch(function(error) {\n    \n        console.log(\"Error getting documents: \", error);\n\n    });\n\n    return firestore.collection(\"articles\").add({\n        username: username,\n        authorId: authorId,\n        date: fieldValue.serverTimestamp(),\n        title: articleData.title,\n        text: articleData.text,\n        tags: articleData.tags,\n        points: 0,\n        upvoters: [],\n        downvoters: [],\n        urlString: articleData.title.toLowerCase().split(\" \").join(\"-\")\n        \n    }).then(function(docRef) {\n\n        //add UID as property\n        let freshArticle = firestore.collection(\"articles\").doc(docRef.id);\n\n        freshArticle.set({\n            articleId: docRef.id\n        }, {merge: true})\n\n    })\n    .catch(function(error) {\n        console.error(\"Error adding comment: \", error);\n    });\n\n}\n\nexport default postArticle;","import React, { useState } from 'react';\nimport \"./TagInput.css\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\n\nconst TagInput = (props) => {\n\n    // let [tags, setTags] = useState([]);\n    let [tagInput, setTagInput] = useState(\"\")\n\n    //add tag\n    const handleKeyPress = (event) => {\n        if (event.key === 'Enter'){\n            event.preventDefault();\n            props.setArticleData(prevArticleData => ({\n                ...prevArticleData, \n                tags: [...prevArticleData.tags, tagInput] }) \n            )\n            setTagInput(\"\");\n        }\n    }\n\n    //delete tag\n    const deleteTag = (tag) => {\n        let newTags = props.articleData.tags.filter(item => item !== tag);\n\n        props.setArticleData( prevArticleData => ({ ...prevArticleData,  tags: newTags }) )\n    }\n    \n    const tagItems = props.articleData.tags.map((tag) => {\n        return (\n            <div onClick={() => deleteTag(tag)} className=\"article-tag\" key={tag.toString()}>\n                <div  className=\"delete-tag\">\n                    <FontAwesomeIcon icon={faTimes}  size=\"1x\"  color=\"white\" />\n                </div>\n                \n                {tag}\n            </div>\n        )\n    })\n\n    const tagStyle = {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n\n    return (\n        <div id=\"tag-style\">\n            <div className=\"chosen-tags\">          \n                { tagItems }   \n            </div>\n            <input \n                type=\"text\" \n                placeholder=\"Tag your article\"\n                value={tagInput} \n                onChange={e => setTagInput(e.target.value)} \n                onKeyPress={handleKeyPress} \n            />\n        </div>\n    )\n    \n}\n\nexport default TagInput","import React, { useState } from 'react';\n\n// import { UserContext } from '../../../providers/UserProvider';\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { getUserData } from \"../../firebase.js\";\n\nimport { BrowserRouter as Router, Route, Link, Redirect, Switch } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport validator from 'validator';\n\nimport ReactQuill from 'react-quill'; // ES6\nimport postArticle from './ArticleForm-fb.js';\nimport TagInput from './TagInput.js';\n\nimport \"./ArticleForm.css\";\n\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form'\nimport Row from 'react-bootstrap/Row';\n\nconst ArticleForm = () => {\n\n    const [articleData, setArticleData] = useState( { title: \"\", text: \"\", tags: [] } );\n\n    let history = useHistory();\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    const submitArticle = async (e, user) => {\n\n        e.preventDefault();\n        await postArticle(articleData, user)\n\n        history.push(`/article/${articleData.title.toLowerCase().split(\" \").join(\"-\")}`);\n\n    }\n\n    return (\n\n        <UserContext.Consumer>\n        {\n            user => \n                user?\n                    <Container>\n                        <Row>\n                            <Col>\n                            <h1>Write Your Article</h1>\n                                <Form>\n                                    <Form.Group >\n                                        <Form.Label>Article Title</Form.Label>\n                                        <Form.Control \n                                            type=\"text\" \n                                            value={articleData.title} \n                                            onChange={e => setArticleData({...articleData, title: e.target.value})} \n                                            placeholder=\"What is the name of the article?\" \n                                        />\n                                    </Form.Group>\n                                    <Form.Group>\n                                        <Form.Label>Article Content</Form.Label>                                    \n                                            <ReactQuill className=\"ql-style\" value={articleData.text || \"\"} onChange={text => setArticleData({...articleData, text})} />                                \n                                    </Form.Group>\n                                    <Form.Group >\n                                        <Form.Label>Tags</Form.Label>\n                                        {/* tags entered here */}\n                                        <TagInput articleData={articleData} setArticleData={setArticleData} />\n                                    </Form.Group>\n                                    <Button \n                                        disabled={\n                                            validator.isEmpty(articleData.title, noWhitespace) ||\n                                            validator.isEmpty(articleData.text, noWhitespace)  ? true : false} variant=\"success\" size=\"lg\" block type=\"submit\" onClick={e => submitArticle(e, user)}>\n                                        Submit\n                                    </Button>\n                                </Form>\n                            </Col>\n                        </Row>\n                    </Container>\n                :\n                \n                <Redirect to=\"/\" />           \n        }\n        </UserContext.Consumer>\n    )\n}\n\nexport default ArticleForm;","import { firestore, serverTimestamp } from '../../../firebase.js';\n\n\n//post movie comment to firestore\nexport const postComment = async (type, id, text, user) => {\n\n    let email = user.email;\n    let authorId;\n    let username;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", email).get().then(snapshot => {\n\n        let userData = snapshot.docs[0].data();\n\n        username = userData.username;\n        authorId = userData.id;\n    \n    }).catch(function(error) {\n    \n        console.log(\"Error getting documents: \", error);\n\n    });\n\n    let commentObj = {\n        type: type,\n        movieId: id,\n        username: username,\n        authorId: user.uid,\n        date: serverTimestamp(),\n        text: text,\n        points: 0,\n        upvoters: [],\n        downvoters: []\n    }\n\n    //add the article id or movie id depending on the comment type\n    if (commentObj.type == \"movie\") {\n        commentObj.movieId = id;\n    }\n\n    if (commentObj.type == \"article\") {\n        commentObj.articleId = id;\n    }\n\n    return firestore.collection(\"comments\").add(commentObj).then(function(docRef) {\n        //add UID as property\n        let freshComment = firestore.collection(\"comments\").doc(docRef.id);\n            \n        return freshComment.set({\n            commentId: docRef.id\n        }, {merge: true})\n\n    })\n    .catch(function(error) {\n        console.error(\"Error adding comment: \", error);\n    });\n\n}\n\n//retrieve comments for movie or article page's comment tab\nexport const getComments = async (type, id) => {\n\n    let commentArr = [];\n\n    if (type === \"movie\") {\n\n        await firestore.collection(\"comments\").where(\"movieId\", \"==\", id).get().then(snapshot => {\n            snapshot.forEach(doc => {\n    \n                commentArr.push(doc.data());\n            })\n\n            \n      \n        })\n\n        return commentArr;\n\n    }\n    else if (type === \"article\") {\n        await firestore.collection(\"comments\").where(\"articleId\", \"==\", id).get().then(snapshot => {\n            snapshot.forEach(doc => {\n                console.log(doc.data());\n                commentArr.push(doc.data());\n            })\n\n            \n      \n        })\n\n        return commentArr;\n        \n    }\n    else {\n        return commentArr;\n    }\n\n}","import { firestore, fieldValue } from '../../../firebase.js';\n\n//update movie comment\nexport const updateComment = (id, editedText) => {\n\n    const commentRef = firestore.collection(\"comments\").doc(id);\n\n    commentRef.update({\n        text: editedText,\n        lastEdited: fieldValue.serverTimestamp()\n    }).then(function() {\n        // console.log(\"Comment text successfully updated!\");\n\n    }).catch(function(error) {\n        console.error(\"Error updating document: \", error);\n    });\n\n}\n\n//Update user points value\nexport const updateUserPoints = async (authorId) => {\n\n    const userRef = firestore.collection(\"users\").doc(authorId);\n    const userCommentsRef = firestore.collection(\"comments\").where(\"authorId\", \"==\", authorId);\n   \n    let userCommentsArr = [];\n    let newPointTotal = 0;\n\n    await userCommentsRef.get().then(snapshot => {\n\n        snapshot.forEach(doc => {\n            userCommentsArr.push(doc.data());\n        })\n        \n    })\n\n    userCommentsArr.forEach(comment => (newPointTotal += comment.points))\n\n    userRef.update({userPoints: newPointTotal})\n\n}\n\nexport const toggleUpvote = async (commentId, user) => {\n\n    const commentRef = firestore.collection(\"comments\").doc(commentId);\n\n    const removeFromUpvoters = { upvoters: fieldValue.arrayRemove(user.uid) };\n    const removeFromDownvoters = { downvoters: fieldValue.arrayRemove(user.uid) };\n    const addToUpvoters = { upvoters: fieldValue.arrayUnion(user.uid) };\n\n    let comment = undefined;\n    let pointChange;\n\n    let doc = await commentRef.get();\n\n    comment = doc.data();\n    \n    //remove the user from upvoters if they've upvoted already\n    if (comment.upvoters.includes(user.uid)) {\n        await commentRef.update(removeFromUpvoters);\n        await commentRef.update({ points: fieldValue.increment(-1)});\n        pointChange = -1;\n    \n    }\n    // add the user to upvoters if they're in downvoters, and compensate for points lost from downvoting\n    else if (comment.downvoters.includes(user.uid)) {\n        await commentRef.update(removeFromDownvoters);\n        await commentRef.update(addToUpvoters);\n        await commentRef.update({ points: fieldValue.increment(2)});\n        pointChange = 2;\n                \n    }\n    //add the user to upvoters if they haven't voted on the comment\n    else {\n        await commentRef.update(addToUpvoters);\n        await commentRef.update({ points: fieldValue.increment(1)});\n        pointChange = 1;\n            \n    }\n\n    updateUserPoints(comment.authorId)\n\n}\n\nexport const toggleDownvote = async (commentId, user) => {\n\n    const commentRef = firestore.collection(\"comments\").doc(commentId);\n\n    const removeFromUpvoters = { upvoters: fieldValue.arrayRemove(user.uid) };\n    const removeFromDownvoters = { downvoters: fieldValue.arrayRemove(user.uid) };\n    const addToDownvoters = { downvoters: fieldValue.arrayUnion(user.uid) };\n\n    let comment = undefined;\n    let pointChange = 0;\n\n    let doc = await commentRef.get();\n    \n    comment = doc.data();\n        \n    //remove the user from downvoters if they've downvoted already\n    if (comment.downvoters.includes(user.uid)) {\n\n        await commentRef.update(removeFromDownvoters);\n        await commentRef.update({ points: fieldValue.increment(1)});\n        pointChange = 1;\n   \n    }\n\n    // add the user to downvoters if they're in upvoters, and compensate for points gained from upvoting\n    else if (comment.upvoters.includes(user.uid)) {\n\n        await commentRef.update(removeFromUpvoters);\n        await commentRef.update(addToDownvoters);\n        await commentRef.update({ points: fieldValue.increment(-2)});\n        pointChange = -2;\n       \n    }\n    \n    //add the user to upvoters if they haven't voted on the comment\n    else {\n        \n        await commentRef.update(addToDownvoters);\n        await commentRef.update({ points: fieldValue.increment(-1)});\n        pointChange = -1;\n\n    }\n\n    updateUserPoints(comment.authorId)\n\n}\n\nexport const deleteComment = (id) => {\n\n    const commentRef = firestore.collection(\"comments\").doc(id);\n\n    commentRef.delete().then(function() {\n\n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n\n}","import React, {useState, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport validator from 'validator';\n\n\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Modal from 'react-bootstrap/Modal';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\n\nimport \"./Comment.css\"\n\nimport Tooltip from 'react-bootstrap/Tooltip';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPrayingHands } from '@fortawesome/free-solid-svg-icons';\nimport { faThumbsDown } from '@fortawesome/free-solid-svg-icons';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { LoginModalContext } from '../../../providers/LoginModalProvider';\n\nimport { updateComment, toggleUpvote, toggleDownvote, deleteComment } from './Comment-fb.js';\n\nconst Comment = props => {\n\n    //get user information if logged in\n    const user = useContext(UserContext);\n\n    //context for login moodal\n    const {loginShow, setLoginShow} = useContext(LoginModalContext)\n\n    //hook for deletion modal\n    const [delModalShow, setDelModal] = useState(false)\n\n\n    let editModeDefault = {text: props.comment.text, show: false};\n    //hook for edit mode\n    const [editMode, setEditMode] = useState(editModeDefault);\n\n    //show login modal\n    const handleModalShow = () => {\n        setLoginShow(true);\n    }\n\n    //show edit mode\n    const handleEditModeShow = () => {\n        editMode.show ? setEditMode(editModeDefault) : setEditMode({...editMode, show: true}) ;\n    }\n    \n    //show delete confirmation modal\n    const handleDelModalShow = () => {\n        setDelModal(true);\n    }\n\n    const handleDelModalHide = () => {\n        setDelModal(false);\n    }\n\n    //Update edited comment\n    const handleUpdate = async (id, editedText) => {\n        await updateComment(id, editedText);\n        handleEditModeShow();\n\n        props.setComments({...props.comments, gettingComments: true});\n\n    }\n\n    //Delete Comment\n    const handleDelete = async (id) => {\n        await deleteComment(id);\n        handleDelModalHide();\n\n        props.setComments({...props.comments, gettingComments: true});\n        \n    }\n\n    //set visual for upvote/downvote based on if a user is logged in, and then how user has previously voted on this comment\n    const [vote, setVote] = useState(user ? props.comment.upvoters.includes(user.uid) ? \"upvoted\" : props.comment.downvoters.includes(user.uid) ? \"downvoted\" : \"\" : \"\");\n    const [pointCount, setPointCount] = useState(props.comment.points)\n\n    const handleUpvote = async (id, user) => {\n\n        //remove the user from upvoters if they've upvoted already\n        if (vote === \"upvoted\") {\n            setVote(\"\");\n            setPointCount(pointCount -1 );\n        }\n        // add the user to upvoters if they're in downvoters, and compensate for points lost from downvoting\n        else if (vote === \"downvoted\") {\n            setVote(\"upvoted\");\n            setPointCount(pointCount + 2);          \n        }\n        //add the user to upvoters if they haven't voted on the comment\n        else {\n            setVote(\"upvoted\");\n            setPointCount(pointCount + 1);\n                   \n        }\n        await toggleUpvote(id, user);\n    }\n\n    const handleDownvote = async (id, user) => {\n        //remove the user from downvoters if they've downvoted already\n        if (vote === \"downvoted\") {\n            setVote(\"\");\n            setPointCount(pointCount + 1 );\n        }\n        // add the user to downvoters if they're in upvoters, and compensate for points gained from upvoting\n        else if (vote === \"upvoted\") {\n            setVote(\"downvoted\");\n            setPointCount(pointCount -2 );     \n        }\n        //add the user to downvoters if they haven't voted on the comment\n        else {\n            setVote(\"downvoted\");\n            setPointCount(pointCount - 1);\n        }\n        await toggleDownvote(id, user);\n        \n    }\n\n    //check if comment has been edited since initially posted\n    const isEdited = lastEdited => {return lastEdited ? `, last edited ${new Date(props.comment.lastEdited.seconds * 1000).toLocaleDateString(\"en-US\")}` : \"\" }\n\n    return (\n        <UserContext.Consumer>\n            {\n                user => (\n                \n                    <Card className=\"comment-card\" >\n                        <Card.Header className=\"comment-header\">\n                                            \n                            <h4 className=\"comment-username\"><Link to={`/user/${props.comment.username}`}>{props.comment.username}</Link></h4>\n                            {   \n                                user ?\n                                user.uid === props.comment.authorId ?\n                                <div>\n                                    <FontAwesomeIcon \n                                        className={`edit-icon`}\n                                        icon={faEdit} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={ user ? handleEditModeShow : null}    \n                                    />\n                                    <FontAwesomeIcon \n                                        className={`delete-icon`}\n                                        icon={faTimes} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={ user ? handleDelModalShow : handleModalShow}    \n                                    />\n\n                                </div>\n\n                                :\n                                <div></div>\n                                :\n                                <div></div>\n                            }\n                            \n                        </Card.Header>\n                        <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                        \n                        {editMode.show ?\n                        <Card.Body>\n                            <Form>\n                                <Form.Group>\n                                    <FormControl \n                                        as=\"textarea\" \n                                        aria-label=\"With textarea\" \n                                        rows={5} \n                                        placeholder=\"Enter comment\" \n                                        value={editMode.text} \n                                        onChange={ e => setEditMode({...editMode, text: e.target.value})} \n                                    />\n                                </Form.Group>\n                                <div className=\"comment-submit\">\n                                    <Button\n                                        variant=\"light\" \n                                        type=\"submit\" \n                                        style={{marginRight: \"1em\"}}\n                                        onClick={() => handleUpdate(props.comment.commentId, editMode.text)}\n                                        disabled = {validator.isEmpty(editMode.text, { ignore_whitespace:true })? true : false}\n                                    >\n                                        Save Changes\n                                    </Button>\n                                    <Button\n                                        variant=\"danger\" \n                                        onClick={() => handleEditModeShow()}\n                                    >\n                                        Cancel\n                                    </Button>\n                                </div>\n                            </Form>\n                        </Card.Body>\n                        :\n                        <Card.Body>{props.comment.text}</Card.Body>\n                        \n                        }\n                        \n                        <footer className=\"comment-footer\">\n                            <div className=\"comment-vote\">\n                                <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Patrician</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`patrIcon ${vote === \"upvoted\" ? vote : \"\"}`} \n                                        icon={faPrayingHands} \n                                        size=\"2x\" \n                                        color=\"white\" \n                                        onClick={ user ? e =>  handleUpvote(props.comment.commentId, user) : handleModalShow}\n                                    />\n                                </OverlayTrigger>\n                                <h5 className={vote === \"upvoted\" ? \"green\" : vote === \"downvoted\" ? \"red\" : \"\"}>{pointCount}</h5>\n                                <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Plebian</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`plebIcon ${vote === \"downvoted\" ? vote : \"\"}`}\n                                        icon={faThumbsDown} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={ user ? e => handleDownvote(props.comment.commentId, user) : handleModalShow}    \n                                    />\n                                </OverlayTrigger>\n                            </div>\n                            \n                            <i>{`Posted ${new Date(props.comment.date.seconds * 1000).toLocaleDateString(\"en-US\")}${isEdited(props.comment.lastEdited)}`}</i>\n                        </footer>\n                        <Modal\n                            show={delModalShow}\n                            onHide={() => setDelModal(false)}\n                            size=\"sm\"\n                            centered\n                        >\n                            <Modal.Header closeButton>\n                                <Modal.Title>\n                                Warning!\n                                </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                Are you sure you want to delete this comment?\n                            </Modal.Body>\n                            <Modal.Footer >\n                            <Button variant=\"danger\" className=\"comment-delete-button\" onClick={e => handleDelete(props.comment.commentId)}  >\n                                Yes\n                            </Button>\n                            <Button variant=\"light\" className=\"btn-light\" onClick={handleDelModalHide}>\n                                No\n                            </Button>\n                            </Modal.Footer>\n                        </Modal>\n                    </Card>\n                )\n            }\n        </UserContext.Consumer>\n\n    )\n}\n\nexport default Comment","import React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport Spinner from 'react-bootstrap/Spinner';\n\nimport \"./LoadingSpinner.css\"\n\nconst LoadingSpinner = () => {\n\n    return (\n        <Container className=\"spinner-page\">\n            <Row >\n                <Col className=\"d-flex justify-content-center align-items-center spinner-col\">\n                    <div >  \n                        <Spinner  animation=\"border\" variant=\"light\" />\n                    </div>  \n                    \n                </Col>\n            </Row>\n            \n        </Container>\n\n    )\n}\n\nexport default LoadingSpinner;\n","const sortComments = (comments, order) => {\n\n    let sortedComments;\n\n    //sort comments by upvotes\n    if (order === \"patrician\") {\n        sortedComments = comments.sort((a, b) => {\n        \n            return b.points - a.points;\n        })\n    }\n\n    //sort comments by downvotes\n    if (order === \"plebian\") {\n        sortedComments = comments.sort((a, b) => {\n            return a.points - b.points;\n        })\n    }\n\n    //sort comments by newest\n    if (order === \"newest\") {\n        sortedComments = comments.sort((a, b) => {\n            let x = a.date.seconds, y = b.date.seconds\n            \n            if (x < y)\n            return 1;\n\n            if (x > y)\n                return -1;\n            return 0;\n        })\n    }\n\n    //sort comments by oldest\n    if (order === \"oldest\") {\n        sortedComments = comments.sort((a, b) => {\n            let x = a.date.seconds, y = b.date.seconds\n            \n            if (x > y)\n                return 1;\n\n            if (x < y)\n                return -1;\n            return 0;\n        })\n    }\n\n    return sortedComments\n\n}\n\nexport default sortComments;","import React, {useState, useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport validator from 'validator';\n\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\n\nimport Tab from 'react-bootstrap/Tab';\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { LoginModalContext } from '../../../providers/LoginModalProvider';\nimport { postComment, getComments } from './CommentTab-fb.js';\nimport Comment from \"./Comment\";\nimport LoadingSpinner from '../../LoadingSpinner/LoadingSpinner.js';\nimport sortComments from './sortComments.js';\n\nconst CommentTab = props => {\n\n    //context for signin modal\n    const {loginShow, setLoginShow} = useContext(LoginModalContext)\n\n    const [commentText, setCommentText] = useState(\"\");\n    const [comments, setComments] = useState({ commentOrder: \"patrician\", commentArr: [], gettingComments: true})\n    \n    const handleModalShow = () => {\n\n        setLoginShow(true);\n    \n    }\n\n    async function waitForComments() {\n\n        let newComments = await getComments(props.type, props.id);\n                \n        let sortedComments = sortComments(newComments, comments.commentOrder);\n\n        setComments({...comments, commentArr: sortedComments, gettingComments: false});\n\n    }\n\n    useEffect(() => {\n\n        waitForComments();\n   \n    }, [comments.gettingComments])\n\n    //submit comment, and trigger comments rerender\n    const submitComment = async (event, id, text, user) => {\n        event.preventDefault();\n        await postComment(props.type, id, text, user);\n        setCommentText(\"\");\n        setComments({...comments, gettingComments: true});\n        waitForComments();\n    }\n\n    const commentCards = comments => {\n        return (\n            comments.commentArr.map(comment => (\n                    <Comment comment={comment} comments={comments} setComments={setComments} waitForComments={waitForComments} key={comment.commentId} />\n            ))\n        )\n    }\n\n    //change order of comments and trigger comments rerender\n    const changeCommentOrder = newOrder => {\n        if (newOrder === comments.commentOrder) { \n            return; \n        }\n        setComments({...comments, commentOrder: newOrder, gettingComments: true});\n    }\n    \n    return (\n        <Tab.Content>\n            <Row>\n                <Col xs={1}>\n\n                </Col>\n                <Col xs={10}>\n            <UserContext.Consumer>\n            {\n                user => (\n                    user ?\n                        <Form>\n                            <Form.Group>\n                                <FormControl \n                                    as=\"textarea\" \n                                    aria-label=\"With textarea\" \n                                    rows={5} \n                                    placeholder=\"Enter comment\" \n                                    value={commentText} \n                                    onChange={ e => setCommentText(e.target.value)} \n                                />\n                            </Form.Group>\n                            <div className=\"comment-submit\">\n                                <Button\n                                    variant=\"light\" \n                                    type=\"submit\" \n                                    onClick={e => submitComment(e, props.id, commentText, user)}\n                                    disabled = {validator.isEmpty(commentText, { ignore_whitespace:true })? true : false}\n                                >\n                                    Submit\n                                </Button>\n                           \n                            </div>\n                            \n                        </Form>\n                    :\n                        <Card className=\"comment-card please-signin\">\n                            <Card.Text>\n                                <i><span className=\"modal-opener\" onClick={handleModalShow}>Log in</span> or <Link to={`/signup`}> sign up</Link> to leave a comment</i>\n                            </Card.Text>\n                        </Card>\n                )\n            }\n            </UserContext.Consumer>\n            \n            <div className=\"comment-stack\">\n                {/* comment order options */}\n                <Dropdown  >\n                    <Dropdown.Toggle variant=\"light\" size=\"sm\" id=\"dropdown-basic\">\n                        Sort By\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"patrician\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"patrician\")}>Most Patrician</Dropdown.Item>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"plebian\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"plebian\")}>Most Plebian</Dropdown.Item>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"newest\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"newest\")}>Newest</Dropdown.Item>\n                        <Dropdown.Item className={`black-text ${comments.commentOrder===\"oldest\" ? \"bold\" : \"\"}`} onClick={() => changeCommentOrder(\"oldest\")}>Oldest</Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n            {\n                comments.gettingComments ? \n                    <LoadingSpinner />\n                :\n                \n                comments.commentArr.length > 0 ?\n                    commentCards(comments)                                                                                              \n                :\n                <p style={{textAlign: \"center\", paddingBottom: \"1em\"}}>{`Nobody has commented on this ${props.type} yet. You could be the first!`}</p>\n                \n            }\n            </div>\n            </Col>\n            <Col xs={1}></Col>\n            </Row>\n        </Tab.Content>\n    )\n    \n}\n\nexport default CommentTab;","import { firestore, fieldValue } from '../../firebase.js';\n\nexport const getArticle = async (urlString) => {\n\n    return firestore.collection(\"articles\").where(\"urlString\", \"==\", urlString).get().then(snapshot => {\n\n        let article = snapshot.docs[0].data();\n\n        return article;\n        \n    }).catch(function(error) {\n    \n        return console.log(\"Error getting article: \", error);\n    \n    });\n\n}\n\nexport const updateArticle = async (id, editedArticle) => {\n\n    const articleRef = firestore.collection(\"articles\").doc(id);\n\n    await articleRef.update({\n        tags: editedArticle.tags,\n        text: editedArticle.text,\n        title: editedArticle.title,\n        urlString: editedArticle.title.toLowerCase().split(\" \").join(\"-\"),\n        lastEdited: fieldValue.serverTimestamp()\n    }).then(function() {\n        // console.log(\"Article successfully updated!\");\n\n    }).catch(function(error) {\n        console.error(\"Error updating document: \", error);\n    });\n\n}\n\nexport const deleteArticle = async (id) => {\n    const articleRef = firestore.collection(\"articles\").doc(id);\n\n    await articleRef.delete().then(function() {\n\n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n}\n\nexport default getArticle;","import React, { useState, useContext, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link, useHistory } from \"react-router-dom\";\nimport { UserContext } from '../../providers/UserProvider';\n\nimport ReactQuill from 'react-quill'; // ES6\nimport ReactHtmlParser from 'react-html-parser';\nimport validator from 'validator';\n\nimport TagInput from '../ArticleForm/TagInput.js';\nimport CommentTab from \"../MoviePage/DiscussionTabs/CommentTab.js\";\nimport {getArticle, updateArticle, deleteArticle} from \"./ArticlePage-fb.js\"\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\n\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\n\nimport Modal from 'react-bootstrap/Modal';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nconst ArticlePage = ({ match }) => {\n\n    let history = useHistory();\n\n    const articleTitle = match.params.urlString;\n\n    const [article, setArticle] = useState(null);\n\n    //hook for deletion modal\n    const [delModalShow, setDelModal] = useState(false)\n    \n    let editModeDefault = {title: \"\", text: \"\", tags: [], show: false}\n    //hook for edit mode\n    const [editMode, setEditMode] = useState(editModeDefault);\n\n    // show delete confirmation modal\n    const handleDelModalShow = () => {\n        setDelModal(true);\n    }\n\n    // hide confirmation modal\n    const handleDelModalHide = () => {\n        setDelModal(false);\n    }\n\n    //show/hide edit mode\n    const handleEditModeShow = () => {\n        editMode.show ? setEditMode({title: article.title, text: article.text, tags: article.tags, show: false}) : setEditMode({...editMode, show: true}) ;\n    }\n\n\n    //Update edited review\n    const handleUpdate = async (e, id, editedText) => {\n        e.preventDefault();\n\n        await updateArticle(id, editedText);\n        handleEditModeShow();\n\n        let artToBe = await getArticle(articleTitle);\n\n        editedText.title !== article.title ? history.push(`/article/${editMode.title.toLowerCase().split(\" \").join(\"-\")}`)\n        :\n        setArticle(artToBe);\n\n    }\n\n    //Delete Comment\n    const handleDelete = async (id) => {\n        await deleteArticle(id);\n        handleDelModalHide();\n        history.push(`/user/${article.username}`);\n    }\n\n    const attributionStyle = {\n        color: \"lightgrey\",\n        fontSize: \"14px\"\n    }\n\n    const commentStyle = {\n        backgroundColor: \"black\",\n        paddingTop: \"1em\",\n        marginBottom: \"1em\",\n        borderRadius: \".25rem\"\n       \n    }\n\n    const articleTagStyle = {\n        alignItems: \"center\",\n        height: \"32px\",\n        backgroundColor: \"#6c757d\",\n        color: \"white\",\n        padding: \"5px 10px\",\n        marginRight: \".5em\",\n        borderRadius: \".25rem\"\n    }\n\n    const tagDisplay = {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n\n    useEffect(() => {\n\n        //retrieve article data from firestore\n        const fetchArticle = async () => {\n\n            let artToBe = await getArticle(articleTitle);\n\n            setArticle(artToBe);\n            artToBe ?\n            setEditMode({title: artToBe.title, text: artToBe.text, tags: artToBe.tags, show: false})\n            :\n            history.push(`/nomatch`)\n        }\n\n        fetchArticle();\n\n    }, [articleTitle])\n\n    const noWhitespace = { ignore_whitespace:true };\n\n\n    const articleTags = tags => {\n        return (\n            tags.map(tag => (\n                 <p style={articleTagStyle} key={tags.indexOf(tag)}>{tag}</p>\n            ))\n        )\n    }\n\n    //check if article has been edited since initially posted\n    const isEdited = lastEdited => {return lastEdited ? `, last edited ${new Date(article.lastEdited.seconds * 1000).toLocaleDateString(\"en-US\")}` : \"\" }\n\n\n    if(article) {\n        return (\n            <UserContext.Consumer>\n                {\n                    user => (\n                        <Container>\n                            <Row>\n                                <Col>\n                                    <Row>\n                                        <Col xs={10}>\n                                            <h1>{article.title}</h1>\n                                        </Col>\n                                        \n                                        <Col xs={2}>\n                                        {\n                                            user ?\n                                            user.uid === article.authorId ?\n                                            <div style={{marginTop: \"10px\"}}>\n                                                <FontAwesomeIcon \n                                                    className={`edit-icon`}\n                                                    icon={faEdit} \n                                                    size=\"2x\" \n                                                    color=\"white\"\n                                                    onClick={ user ? handleEditModeShow : null}    \n                                                />\n                                                <FontAwesomeIcon \n                                                    className={`delete-icon`}\n                                                    icon={faTimes} \n                                                    size=\"2x\" \n                                                    color=\"white\"\n                                                    onClick={handleDelModalShow}    \n                                                />\n                                            </div>\n                                            :\n                                            <div></div>      \n                                            :\n                                            <div></div>                                          \n\n                                        }\n                                        </Col>\n                                        \n                                    </Row>\n                                        {\n                                        editMode.show ? \n                                            <Form>\n                                                <Form.Group >\n                                                    <Form.Label>Article Title</Form.Label>\n                                                    <Form.Control \n                                                        type=\"text\" \n                                                        value={editMode.title} \n                                                        onChange={e => setEditMode({...editMode, title: e.target.value})} \n                                                        placeholder=\"What is the name of the article?\" \n                                                    />\n                                                </Form.Group>\n                                                <Form.Group>\n                                                    <Form.Label>Article Content</Form.Label>                                    \n                                                        <ReactQuill className=\"ql-style\" value={editMode.text || \"\"} onChange={text => setEditMode({...editMode, text})} />                                \n                                                </Form.Group>\n                                                <Form.Group >\n                                                    <Form.Label>Tags</Form.Label>\n                                                    {/* tags entered here */}\n                                                    <TagInput articleData={editMode} setArticleData={setEditMode} />\n                                                </Form.Group>\n                                                <div style={{textAlign: \"right\"}}>\n                                                    <Button \n                                                        disabled={validator.isEmpty(editMode.title, noWhitespace) || validator.isEmpty(editMode.text, noWhitespace)  ? true : false} \n                                                            variant=\"light\"\n                                                            style={{marginRight: \"1em\"}}\n                                                            type=\"submit\" \n                                                            onClick={e => handleUpdate(e, article.articleId, editMode)}\n                                                    >\n                                                        Save Changes\n                                                    </Button>\n                                                    <Button\n                                                        variant=\"danger\" \n                                                        onClick={() => handleEditModeShow()}\n                                                    >\n                                                        Cancel\n                                                    </Button>\n                                                </div>\n                                                \n                                            </Form>       \n                                            :\n                                            <div>\n                                                <p style={attributionStyle}><i>By <Link to={`/user/${article.username}`}>{article.username}</Link>, published {new Date(article.date.seconds * 1000).toLocaleDateString(\"en-US\")}{isEdited(article.lastEdited)}</i></p>\n                                                {/* reacthtmlparser sets article markup */}\n                                                <div>{ReactHtmlParser(article.text)}</div>\n                                                <div style={tagDisplay}>\n                                                    {articleTags(article.tags)}\n                                                </div>\n                                                <Link to={`/user/${article.username}`}><p className=\"return-link\">{`<< See more from ${article.username}`}</p></Link>  \n                                            </div>\n                                        }\n                                        <h2 className=\"movie-page-header\">Comments</h2> \n                                        <div style={commentStyle}>\n                                            <CommentTab type=\"article\" id={article.articleId} />\n                                        </div>                                                  \n                                    </Col>\n                                </Row>\n                            {\n                                <Modal\n                                    show={delModalShow}\n                                    onHide={() => setDelModal(false)}\n                                    size=\"sm\"\n                                    centered\n                                >\n                                <Modal.Header closeButton>\n                                    <Modal.Title>\n                                    Warning!\n                                    </Modal.Title>\n                                </Modal.Header>\n                                <Modal.Body>\n                                    Are you sure you want to delete this article?\n                                </Modal.Body>\n                                <Modal.Footer >\n                                <Button variant=\"danger\" className=\"comment-delete-button\" \n                                    onClick={() => handleDelete(article.articleId)}  \n                                >\n                                    Yes\n                                </Button> \n                                <Button variant=\"light\" className=\"btn-light\" onClick={handleDelModalHide}>\n                                    No\n                                </Button>\n                                </Modal.Footer>\n                            </Modal>\n                            }        \n                        </Container>                         \n                    ) \n                }\n                \n            </UserContext.Consumer>\n        )\n    } else {\n\n        return (\n            <div>\n                <LoadingSpinner />\n            </div>\n        )    \n    } \n\n}\n\nexport default ArticlePage;","const apiKey = '3f1b30e6df7ae6dcf64dc94b36c9487d';\n\nexport default apiKey;","import React from 'react';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';  \n\nconst createCrewList = pageMovie => {\n      \n    const movieCrew = pageMovie.movieCredits.crew;\n  \n    //object containing departments on film crew\n    let deptObj = {};\n   \n    //fill object with departments\n    for (let i = 0; i < movieCrew.length; i++) {\n        if (deptObj.hasOwnProperty(movieCrew[i].department)) {\n        }\n        else {\n            deptObj[movieCrew[i].department] = [];\n        }\n    }\n    \n    //fill departments with crew\n    for (let i = 0; i < movieCrew.length; i++) {\n        deptObj[movieCrew[i].department].push(movieCrew[i]);\n    }\n\n    //render full crew in JSX\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>\n                        <h2 className=\"movie-page-header center\">Production Crew</h2>\n                    </Col>\n                </Row>\n            {\n            Object.keys(deptObj).map(department => (\n                <Row key={department}>\n                    <Col>\n                        <h4 className=\"department-header\">{department}</h4>\n                        {\n                        deptObj[department].map(crewMember => (\n                            <Row key={crewMember.id}>\n                                <Col >{crewMember.name}</Col>\n                                <Col >{crewMember.job}</Col>\n                            </Row>\n                        ))\n                        }\n                    </Col>\n                </Row>\n            ))\n            }  \n            </Container>\n        </div>\n    )\n}\n\nexport default createCrewList;","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nimport Container from 'react-bootstrap/Container';\nimport Image from 'react-bootstrap/Image'\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';  \nimport Table from 'react-bootstrap/Table';\n\nimport profilePlaceholder from './profile-placeholder.jpeg';\n\nconst createCastList = pageMovie => {\n    \n    //array containing film cast\n    const movieCast = pageMovie.movieCredits.cast;\n\n    //check for dead profile images\n    // const imgError = event => {\n    //     const image = event.target;\n    //     image.onerror = null;\n    //     image.src = profilePlaceholder;\n    // }\n\n    const checkProfilePath = path => {\n        return path ?  `https://image.tmdb.org/t/p/w45${path}` : profilePlaceholder;\n    }\n\n    //render full crew in JSX\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>    \n                        <h2 className=\"movie-page-header center\">Cast</h2>\n                        <Table striped  variant=\"dark\">\n                            <tbody>\n                            {\n                                movieCast.map(castMember => (\n                                    <tr key={castMember.cast_id}>\n                                        <td>\n                                            <Image \n                                                src={checkProfilePath(castMember.profile_path)}\n                                                width={45}\n                                                height={67}\n                                                rounded\n                                            />\n                                        </td>\n                                        <td>\n                                            <Link to={`/search/?type=discover&wca=${castMember.id}`}>{castMember.name}</Link>\n                                        </td>\n                                        <td>\n                                            \"{castMember.character}\"\n                                        </td>\n                                    </tr>\n                                ))\n                            }\n                            </tbody>\n                        </Table>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\n\nexport default createCastList;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport apiKey from \"../apiKey\";\nimport createCrewList from './createCrewList';\nimport createCastList from './createCastList';\n//import createTechnicalInfo from './createTechnicalInfo';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\n\nconst CreditsPage = ({ match }) => { \n\n    const [pageMovie, setPageMovie] = useState(null);\n\n    const movieId = match.params.id;\n\n    useEffect(() => {\n        //retrieve movie data from API\n        const fetchData = async () => {\n            const { data: movieInfoRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`\n            );\n            const { data: movieCreditsRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${apiKey}&language=en-US`\n            );\n            \n            setPageMovie({ movieInfo: movieInfoRes, movieCredits: movieCreditsRes });\n        }\n        fetchData();\n    }, [movieId])\n\n    if (pageMovie) {\n\n        const releaseDate = pageMovie.movieInfo.release_date\n\n        return (   \n        <div>   \n            <Container>\n                <Row>\n                    <Col>\n                        <Link exact to={`/movie/${movieId}`} >\n                            <h1 className=\"movie-page-header\">\n                            {`${pageMovie.movieInfo.original_title} (${releaseDate.length > 0 ? releaseDate.slice(0,4) : \"N/A\"})`}                       \n                            </h1>\n                        </Link>  \n                    </Col>\n                </Row>\n                {createCastList(pageMovie)}\n                {createCrewList(pageMovie)}\n                <Row>\n                    <Col>\n                        <Link exact to={`/movie/${movieId}`} ><p className=\"return-link\">{`<< Return to Overview Page`}</p></Link>  \n                    </Col>\n                </Row>\n            </Container>        \n        </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <Container>\n                    <Row>\n                        <Col>\n                            <p>Getting Credits</p>\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )    \n    }\n}\n\nexport default CreditsPage;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport validator from 'validator';\nimport {updateUserProfile, checkPassword} from \"../../firebase.js\";\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nimport Button from 'react-bootstrap/Button';\n\nimport Form from 'react-bootstrap/Form';\n\n\nconst ChangePW = () => {\n\n    let [password, setPassword] = useState('');\n    let [newPassword, setNewPassword] = useState('');\n    let [changeConfirm, setChangeConfirm] = useState(false);\n    let [errorMessage, setErrorMessage] = useState('')\n\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    const validatePWChange = async (e) => {\n\n        e.preventDefault();\n        \n        if (validator.isEmpty(password, noWhitespace)) {\n            setErrorMessage('There is no password')\n            return;\n        }\n\n        if (validator.isEmpty(newPassword, noWhitespace)) {\n            setErrorMessage('There is no new password')\n            return;\n        }\n\n        if (password === newPassword) {\n            setErrorMessage('Passwords are the same');\n            return;\n        }\n\n        if (password === newPassword) {\n            setErrorMessage('Passwords are the same');\n            return;\n        }\n\n        const passwordCheck = await checkPassword(password);\n\n        if (passwordCheck) {\n            await updateUserProfile(\"password\", newPassword);\n            setChangeConfirm(true);\n        }\n        else {\n            setErrorMessage('Current Password is wrong');\n            return\n        }\n\n    }\n\n    return (\n\n        <Container>\n            <h3>Change Your Password</h3>\n            <Row>\n                <Col >\n                    {\n                    !changeConfirm ?\n                    \n                        <Form className=\"changepw-form\">     \n                            <Form.Group >\n                                <Form.Label>Current Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"Current password here\" value={password} onChange={ e => setPassword(e.target.value)} />\n                            </Form.Group>\n\n                            <Form.Group >\n                                <Form.Label>New Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"New password here\" value={newPassword} onChange={ e => setNewPassword(e.target.value)} />\n                            </Form.Group>\n\n                            <Button \n                                variant=\"light\" \n                                size=\"lg\" \n                                disabled={validator.isEmpty(password, noWhitespace) ? true : false} \n                                block \n                                onClick={validatePWChange}\n                            >\n                                Submit\n                            </Button>\n                            <b className=\"error-msg\">{errorMessage}</b>\n\n                        </Form>\n                    \n                    :\n\n                        <div className=\"changepw-form\">\n                            <h3>Success</h3>\n                            <p style={{textAlign: \"center\"}}>Your password has been successfully changed.</p>\n                        </div>\n\n                    }\n                </Col > \n            </Row>\n        </Container>\n    )\n\n}\n\nexport default ChangePW;","import { firestore } from '../../firebase.js';\n\nconst getArticles = async username => {\n\n    let artArr = [];\n\n    return firestore.collection(\"articles\").where(\"username\", \"==\", username).get().then(snapshot => {\n        \n        snapshot.docs.forEach(doc => {\n            \n            artArr.push( doc.data() )} \n        \n            );\n\n        return artArr;\n        \n    }).catch(function(error) {\n    \n        return console.log(\"Error getting articles: \", error);\n    \n    });\n\n}\n\nexport default getArticles","import React, { useState, useContext, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nimport getArticles from \"../UserPage/ArticleList-FB.js\";\n\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js';\n\nimport \"./DashboardArticles.css\";\n\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Row from 'react-bootstrap/Row';\n\nconst DashboardArticles = props => {\n\n    const [articles, setArticles] = useState([]);\n\n    let history = useHistory();\n\n    useEffect(() => {\n\n        //retrieve article data from firestore\n        const fetchArticles = async () => {\n\n            let artsToBe = await getArticles(props.username);\n\n            //sort articles in array from newest to oldest\n            let sortedArticles = artsToBe.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x < y)\n                return 1;\n\n                if (x > y)\n                    return -1;\n                return 0;\n            })\n\n            setArticles(sortedArticles);\n\n        }\n\n        fetchArticles();\n\n    }, [])\n\n    if (articles) {\n        return (\n            <Container>\n                \n                <Row>\n                    <Col>\n                        <Button variant=\"light\" size=\"lg\" block onClick ={() => history.push(`/articleform`)}>Create New Article</Button>\n                        <div style={{marginTop: \"1em\"}}></div>\n                        {\n                        \n                        articles.length > 0 ?     \n                            <ListGroup variant=\"flush\">\n                                {            \n                                articles.map(article => \n                                    <ListGroup.Item><Link to={`/article/${article.urlString}`}>{article.title}</Link ></ListGroup.Item>\n                                    )\n                                }\n                            </ListGroup> \n                            \n                            :\n                            <p>You haven't published any articles.</p>\n                        }\n                        \n                    </Col>\n                </Row>\n            </Container>\n        )\n    }\n    else {\n\n        return (\n            <div>\n                <LoadingSpinner />\n            </div>\n        )    \n    } \n\n}\n\nexport default DashboardArticles;","import React, { useState, useEffect, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\nimport ChangePW from \"./ChangePW.js\";\nimport \"./DashboardPage.css\";\n\nimport DashboardArticles from \"./DashboardArticles.js\"\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { getUserData } from \"../../firebase.js\";\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Nav from 'react-bootstrap/Nav'\nimport Tab from 'react-bootstrap/Tab';\n\n\nconst DashboardPage = () => {\n\n    const user = useContext(UserContext);\n\n    const [userData, setUserData] = useState({data: null, gettingData: true});\n\n    const retrieveUserData = async (user) => {\n        const userObj = await getUserData(user);\n        setUserData({data: userObj, gettingData: false});\n    }\n\n    useEffect(()=> {\n\n        retrieveUserData(user);\n        \n    }, []);\n\n    //is the user logged in?\n    return (\n        <UserContext.Consumer>\n        {\n            user =>\n                user ?\n                    !userData.gettingData ?\n\n                <Row>\n                    \n                    <Col xs={0} sm={1}></Col>\n                        <Col xs={12} sm={10}>\n                            <Card className=\"comment-card dashboard-card\">\n                                <Card.Header className=\"comment-header\">             \n                                    <h4>Welcome {userData.data.username}</h4>\n                                </Card.Header>\n                                <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                                <Card.Body>\n\n                                    <Tab.Container  defaultActiveKey=\"first\">\n                                        <Row>\n                                            <Col sm={2}>\n                                                <Nav id=\"dashboard-nav\" variant=\"pills\" className=\"flex-column\">\n                                                    <Nav.Item>\n                                                        <Nav.Link  eventKey=\"first\">Stats</Nav.Link>\n                                                    </Nav.Item>\n                                                    <Nav.Item>\n                                                        <Nav.Link  eventKey=\"second\">Settings</Nav.Link>\n                                                    </Nav.Item>\n                                                    <Nav.Item>\n                                                        <Nav.Link  eventKey=\"third\">My Articles</Nav.Link>\n                                                    </Nav.Item>\n                                                </Nav>\n                                            </Col>\n                                            <Col sm={9}>\n                                                <Tab.Content>\n                                                    \n                                                    <Tab.Pane eventKey=\"first\">\n                                                        <p>You have {userData.data.userPoints} points.</p>\n                                                    </Tab.Pane>\n                                                    <Tab.Pane eventKey=\"second\">\n                                                        <Tab.Container defaultActiveKey=\"third\">\n                                                            <Row>\n                                                                <Col sm={4}>\n                                                                    <Nav id=\"dashboard-nav\" variant=\"pills\" className=\"flex-column\">\n                                                                        <Nav.Item>\n                                                                            <Nav.Link  eventKey=\"third\">Change Password</Nav.Link>\n                                                                        </Nav.Item>\n                                                                    \n                                                                    </Nav>\n                                                                </Col>\n                                                                <Col sm={8}>\n                                                                <Tab.Pane eventKey=\"third\">\n                                                                    <ChangePW />\n                                                                </Tab.Pane>\n                                                                </Col>\n                                                            </Row>                                                        \n                                                        </Tab.Container>\n                                                    </Tab.Pane>\n                                                    <Tab.Pane eventKey=\"third\">\n                                                        <DashboardArticles username={userData.data.username} />\n                                                    </Tab.Pane>\n                                                </Tab.Content>\n                                            </Col>\n                                        </Row>\n                                    </Tab.Container>\n                                </Card.Body>\n                                {/* <footer className=\"comment-footer\"> </footer> */}\n                            </Card>\n                        </Col><Col xs={0} sm={1}>\n\n                    </Col>\n                </Row>\n            :\n                <LoadingSpinner />\n            :\n\n\n                <Redirect to=\"/\" />\n        }\n        </UserContext.Consumer>\n        \n        \n    )       \n    \n}\n\nexport default DashboardPage;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport apiKey from \"../apiKey\";\n\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\nlet TrendingChart = () => {\n\n    const [nowTrending, setNowTrending] = useState([])\n\n    useEffect(() => {\n        //this is having issues\n        axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`)\n            .then(res => {            \n                setNowTrending(res.data.results)\n        })\n\n    }, [])\n\n    return (\n        <div>\n\n            <h3>Trending</h3>\n                <ol>\n                {\n                nowTrending.map((movie) => \n                    <li key={movie.id}>\n                        <Link to={`/movie/${movie.id}`} key={movie.id}>{movie.title}</Link>\n                    </li> \n                )\n                } \n                </ol>\n\n        </div>\n    )\n}\n\nexport default TrendingChart;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport apiKey from \"../apiKey\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\nlet ComingSoonChart = () => {\n\n    const [comingSoon, setcomingSoon] = useState([])\n\n    useEffect(() => {\n        //this is having issues\n        axios.get(`https://api.themoviedb.org/3/movie/upcoming?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {            \n                setcomingSoon(res.data.results)\n        })\n\n    }, [])\n\n    return (\n        <div>\n            <h3>Coming Soon</h3>\n                <ul>\n                {\n                comingSoon.map((movie) => \n                    <li key={movie.id}>\n                        <Link to={`/movie/${movie.id}`} key={movie.id}>{movie.original_title}</Link>\n                    </li> \n                )\n                } \n                </ul>\n        </div>\n    )\n}\n\nexport default ComingSoonChart;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport apiKey from \"../apiKey\";\nimport { BrowserRouter as Router, Route, Link, useHistory } from \"react-router-dom\";\n\nimport Jumbotron from 'react-bootstrap/Jumbotron'\n\nlet FeaturedMovie = () => {\n\n\n\n    const [popularMovie, setPopularMovie] = useState([])\n\n    let history = useHistory();\n\n    useEffect(() => {\n\n        axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {            \n                setPopularMovie(res.data.results[0])\n        })\n\n    }, [])\n\n    return (\n        <div>\n            <Jumbotron\n                style={{backgroundImage: `linear-gradient(to bottom, rgba(0,0,0,0.3) 0%,rgba(0,0,0,0.3) 100%), url(https://image.tmdb.org/t/p/w780${popularMovie.backdrop_path})`}}\n                onClick={() => history.push(`/movie/${popularMovie.id}`)}\n           >\n                <div  className = \"imageDuller\"></div>\n                <h2>Featured Film</h2>\n                <h1>{popularMovie.title}</h1>\n                \n                \n                \n            </Jumbotron>\n\n        </div>\n    )\n}\n\nexport default FeaturedMovie;","import React, { useState, useEffect } from 'react';\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport axios from 'axios';\nimport apiKey from \"../apiKey\";\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport Image from 'react-bootstrap/Image'\n\nconst PopularMovies = similarMovies => {\n\n    const displayCount = 13;\n    const [popularMovies, setPopularMovies] = useState([])\n\n\n\n    useEffect(() => {\n        \n        axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {   \n                let list = []         \n                for (let i = 1; i < displayCount; i++) {\n                    list.push(res.data.results[i]);\n                }\n                setPopularMovies(list);\n\n        })\n\n    }, [])\n\n        return (\n            <Row>\n                <Col>\n                    <Row>\n                            {\n                        popularMovies.map(movie => {\n                            return(\n                                <Col key={movie.id} xs={4} md={3} lg={2} className=\"similar-movie\">\n                                    <Link to={`/movie/${movie.id}`}>\n                                        <Image\n                                            className=\"similar-poster\"\n                                            src={`https://image.tmdb.org/t/p/w92${movie.poster_path}`}\n                                            alt={`poster for ${movie.title}`}\n                                        />\n                                    </Link>                                                                \n                                    <Link to={`/movie/${movie.id}`}>\n                                        <p>{movie.title}</p>\n                                    </Link>\n                                </Col>\n                            ) \n                        })\n                        }\n                    </Row>\n                </Col>\n            </Row>\n        )\n\n}\n\nexport default PopularMovies;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport apiKey from \"../apiKey\";\nimport TrendingChart from './TrendingChart';\nimport ComingSoonChart from './ComingSoonChart';\nimport FeaturedMovie from './FeaturedMovie';\nimport PopularMovies from './PopularMovies';\nimport TrendingGrid from './TrendingGrid';\nimport backdropPlaceholder from \"../backdrop-placeholder.jpg\"\n\nimport \"./Home.css\";\n\nimport Carousel from 'react-bootstrap/Carousel'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\n\n\nlet Home = () =>  {\n\n    const [nowPlaying, setNowPlaying] = useState([]);\n\n    //Carousel Logic\n    const [index, setIndex] = useState(0);\n    const [direction, setDirection] = useState(null);\n    const handleSelect = (selectedIndex, e) => {\n      setIndex(selectedIndex);\n      setDirection(e.direction);\n    };\n\n    useEffect(() => {\n        axios.get(`https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=1&region=US`)\n            .then(res => {\n                setNowPlaying(res.data.results)\n        })\n    }, [])\n\n    const checkBackdropPath = path => {\n        return path ?  `https://image.tmdb.org/t/p/w780${path}` : backdropPlaceholder;\n    }\n        \n    return (\n        <div>\n            <Row md={2} lg={3}>\n                <Col xs={0}  sm={{number: 0}} md={{number: 6}} lg={{number:3, order: 'first'}}>\n                    <TrendingChart />\n                    {/* <TrendingGrid /> */}\n            \n                </Col>   \n                <Col xs={{ number:12, order: 'first' }} sm={12} md={12} lg={6}>\n                    <Carousel activeIndex={index} direction={direction} onSelect={handleSelect} >\n                        {\n                            nowPlaying.slice(0, 20).map((movie) =>\n                                <Carousel.Item key={movie.id}  >\n                                    <Link to={`/movie/${movie.id}`}>\n                                    <div className=\"carousel-image\">\n                                        <img\n                                            className=\"d-block w-100\"\n                                            src={checkBackdropPath(movie.backdrop_path)}\n                                            alt=\"First slide\"\n                                        />\n                                    </div>\n                                    <div >\n                                        <Carousel.Caption >\n                                            <h3 className=\"carousel-title literata\">{movie.title}</h3>\n                                        </Carousel.Caption>\n                                    </div>\n                                    </Link>\n                                </Carousel.Item>\n                            )\n                        }   \n                    </Carousel>\n                    \n                    <FeaturedMovie />\n                </Col>\n                <Col xs={0} sm={0} md={6} lg={3}>\n                    \n                    <ComingSoonChart />\n                </Col> \n            </Row>\n            <Row>\n                <Col>\n                    <h3>Popular Movies</h3>\n                    <PopularMovies />\n                    <footer style={{textAlign:\"center\", margin:\"1em\", fontSize: \"11px\"}}>\n                        <i> 2020 Jacob Guss. Built with <a href=\"https://react-bootstrap.github.io/\">React Bootstrap</a> and <a href=\"https://developers.themoviedb.org/3/getting-started/introduction\">The Movie Database API</a>.</i>\n                    </footer>\n                </Col>\n            </Row>\n        </div>\n    )\n    \n}\n\nexport default Home","//add commas to movie's budget\nconst budgetCommas = (budget) => {\n    return budget.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport default budgetCommas","import React from  'react';\nimport budgetCommas from \"./budgetCommas.js\";\n\nconst createTechnicalInfo = pageMovie => {\n    let movieInfo = pageMovie.movieInfo;\n\n    const createProductionCompanyString = () => {\n        let companyNames = [];\n        for (let i = 0; i < pageMovie.movieInfo.production_companies.length; i++) {\n            companyNames.push(pageMovie.movieInfo.production_companies[i].name);\n        }\n        return companyNames;\n    }\n\n    const createCountriesofOriginString = () => {\n        let countryNames = [];\n        for (let i = 0; i < pageMovie.movieInfo.production_countries.length; i++) {\n            countryNames.push(pageMovie.movieInfo.production_countries[i].name);\n        }\n        return countryNames;\n    }\n\n    return (\n        <div>\n            <p><b>Original Title</b> {movieInfo.original_title}</p>\n            <p><b>Budget</b> {movieInfo.budget > 0 ? `$${budgetCommas(movieInfo.budget)}` : \"N/A\"}</p>\n            <p><b>Runtime</b> {movieInfo.runtime} minutes</p>\n            <p><b>Production Companies</b> {createProductionCompanyString().join(\", \")} </p>\n            <p><b>Countries of Origin</b>  {createCountriesofOriginString().join(\", \")}</p>\n        </div>\n    )\n}\n\nexport default createTechnicalInfo","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";    \n    \n//create list of genres of movie\nconst createGenreList = (movie) => {\n\n    let genreList = [];\n\n    for (let i = 0; i < movie.movieInfo.genres.length; i++) {\n        genreList.push(movie.movieInfo.genres[i]);\n    }\n\n    return (           \n        genreList.map(genre => \n            <span key={genre.id}>\n                <Link to={`/search/?type=discover&wg=${genre.id}`}>{genre.name}</Link>{genreList.indexOf(genre) == genreList.length - 1 ? ``:`, `}\n            </span>\n        )            \n    );\n}\n\nexport default createGenreList","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nconst createStarringList = (movie) => {\n\n    const cast = movie.movieCredits.cast\n\n    //maximum number of starring cast listed\n    const starringMax = 6;\n\n    //if starring cast is less than starringMax\n    const castLength = (cast.length < starringMax ? cast.length : starringMax);  \n\n    let starringList = [];\n\n    for (let i = 0; i < castLength; i++) {\n        starringList.push(movie.movieCredits.cast[i]);\n    }\n\n    //create list of headlining stars\n    return (           \n        starringList.map(star => \n            <span key={star.id}>\n                <Link to={`/search/?type=discover&wca=${star.id}`}>{star.name}</Link>{starringList.indexOf(star) == starringList.length - 1 ? ``:`, `}\n            </span>\n        )            \n    );        \n}\n\nexport default createStarringList;","import React from 'react';\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Image from 'react-bootstrap/Image'\nimport Tabs from 'react-bootstrap/Tabs'\n\nconst similarMoviesDisplay = similarMovies => {\n\n    //number of similar movies shown\n    const displayCount = 12;\n\n    //create short list of similar movies\n    let simList = [];\n    for (let i = 0; i < displayCount; i++) {\n        simList.push(similarMovies[i]);\n    }\n\n    //render similar movies in JSX if there are any.\n    if (simList[0] !== undefined) {\n        return (\n            <Row>\n                <Col>\n                    <Row>\n                        <Col>\n                            <h2 className=\"movie-page-header\">Similar Movies</h2>\n                        </Col> \n                    </Row>\n                    <Row>\n                            {\n                        simList.map(movie => {\n                            return(\n                                <Col key={movie.id} xs={4} sm={3} md={2} className=\"similar-movie\">\n                                    <Link to={`/movie/${movie.id}`}>\n                                        <Image\n                                            className=\"similar-poster\"\n                                            src={`https://image.tmdb.org/t/p/w92${movie.poster_path}`}\n                                            alt={`poster for ${movie.title}`}\n                                        />\n                                    </Link>                                                                \n                                    <Link to={`/movie/${movie.id}`}>\n                                        <p>{movie.title}</p>\n                                    </Link>\n                            </Col>\n                            ) \n                        })\n                        }\n                    </Row>\n                </Col>\n            </Row>\n        )\n    }\n    // else {\n    //     return (\n    //         <Row>\n    //             <Col>\n    //                 <h2>There Are No Similar Movies at This Time</h2>\n    //             </Col>\n    //         </Row>\n    //     )\n    // }\n    \n}\n\nexport default similarMoviesDisplay;","import { firestore, fieldValue } from '../../../firebase.js';\n\nexport const postMovieReview = async (movieId, reviewData, user) => {\n    \n    let email = user.email\n    let authorId = user.uid\n    let username;\n\n    await firestore.collection(\"users\").where(\"email\", \"==\", email).get().then(snapshot => {\n        username = snapshot.docs[0].data().username;\n\n    }).catch(function(error) {\n        console.log(\"Error getting document: \", error);\n    });\n    await firestore.collection(\"movieReviews\").add({\n        date: fieldValue.serverTimestamp(),\n        movieId: movieId,\n        authorId: authorId,\n        points: 0,\n        rating: reviewData.rating,\n        text: reviewData.reviewText,\n        title: reviewData.title,\n        username: username\n    }).then(function(docRef) {\n        let freshReview = firestore.collection(\"movieReviews\").doc(docRef.id);\n        return freshReview.set({ reviewId: docRef.id }, {merge: true})\n    })\n    .catch(function(error) {\n        console.error(\"Error adding comment: \", error);\n    });\n\n}\n\nexport const getMovieReviews = async movieId => {\n\n    let reviewsArr = []\n\n    await firestore.collection(\"movieReviews\").where(\"movieId\", \"==\", movieId).get().then(snapshot => {\n        snapshot.forEach(doc => {\n\n            reviewsArr.push(doc.data());\n        })\n  \n    })\n\n    return reviewsArr;\n\n}\n","import { firestore, fieldValue } from '../../../firebase.js';\n\nexport const updateReview = (id, editedReview) => {\n\n    const reviewRef = firestore.collection(\"movieReviews\").doc(id);\n\n    reviewRef.update({\n        rating: editedReview.rating,\n        text: editedReview.text,\n        title: editedReview.title,\n        lastEdited: fieldValue.serverTimestamp()\n\n    }).then(function() {\n        // console.log(\"Review successfully updated!\");\n\n    }).catch(function(error) {\n        console.error(\"Error updating document: \", error);\n    });\n\n}","import React, {useState, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { updateReview } from './Review-fb.js';\nimport validator from 'validator';\n\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\n\nimport Modal from 'react-bootstrap/Modal';\n\nimport \"./Comment.css\"\nimport \"./Review.css\"\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\n\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { deleteReview } from '../../../firebase';\n\n\nconst Review = props => {\n\n    //get user information if logged in\n    const user = useContext(UserContext);\n\n    //hook for deletion modal\n    const [delModalShow, setDelModal] = useState(false)\n\n    let editModeDefault = {rating: props.review.rating, title: props.review.title, text: props.review.text, show: false}\n\n    //hook for edit mode\n    const [editMode, setEditMode] = useState(editModeDefault);\n\n    // show delete confirmation modal\n    const handleDelModalShow = () => {\n        setDelModal(true);\n    }\n\n    // hide confirmation modal\n    const handleDelModalHide = () => {\n        setDelModal(false);\n    }\n\n    //show/hide edit mode\n    const handleEditModeShow = () => {\n        editMode.show ? setEditMode(editModeDefault) : setEditMode({...editMode, show: true}) ;\n    }\n\n    //Update edited comment\n    const handleUpdate = async (id, editedText) => {\n        await updateReview(id, editedText);\n        handleEditModeShow();\n\n        props.setReviews({...props.reviews, gettingReviews: true});\n\n    }\n\n    // Delete Review\n    const handleDelete = async (id) => {\n        await deleteReview(id)\n        handleDelModalHide();\n        props.setReviews({...props.reviews, gettingReviews: true});\n        \n    }\n\n    //check if review has been edited since initially posted\n    const isEdited = lastEdited => {return lastEdited ? `, last edited ${new Date(props.review.lastEdited.seconds * 1000).toLocaleDateString(\"en-US\")}` : \"\" }\n\n\n    return (\n        <UserContext.Consumer>\n            {\n                user => (            \n                    <Card className=\"comment-card review-card\" >\n                        <Card.Header className=\"comment-header\">                     \n                            \n                            <div className=\"stars\">\n                                {\n                                Array.from({ length: props.review.rating}, (_, i) => \n                                    <div key={i}>\n                                        <FontAwesomeIcon                                            \n                                            icon={faStar} \n                                            size=\"2x\" \n                                            color=\"gold\"\n                                        />\n                                        \n                                    </div>                                   \n                                    )\n                                }\n                            </div>\n                            {   \n                                user ?\n                                user.uid === props.review.authorId ?\n                                <div>\n                                    <FontAwesomeIcon \n                                        className={`edit-icon`}\n                                        icon={faEdit} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={ user ? handleEditModeShow : null}    \n                                    />\n                                    <FontAwesomeIcon \n                                        className={`delete-icon`}\n                                        icon={faTimes} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={handleDelModalShow}    \n                                    />\n                                </div>\n                                    \n                              \n                                :\n                                <div></div>\n                                :\n                                <div></div>\n                            }\n                            \n                        </Card.Header>\n                        <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                        {\n                            editMode.show ?\n                            <Card.Body>\n                                <Form className=\"review-form\">\n                                    <Form.Group>\n                                        <Form.Label>Review Headline</Form.Label>\n                                        <Form.Control value={editMode.title} onChange={ e => setEditMode({ ...editMode, title: e.target.value})} />\n                                    </Form.Group>\n                                    <Form.Group>\n                                    <Form.Label>Review Text</Form.Label>\n                                        <FormControl as=\"textarea\" aria-label=\"With textarea\" rows={5} value={editMode.text} onChange={ e => setEditMode({ ...editMode, text: e.target.value})} />\n                                    </Form.Group>\n                                    <Form.Group>\n                                        <Form.Label>Rating</Form.Label>\n                                        <Form.Control className=\"rating-control\" value={editMode.rating} onChange={ e => setEditMode({ ...editMode, rating: e.target.value })} as=\"select\" size=\"sm\" >\n                                            <option value={1}>\n                                                   |  Awful\n                                            </option>\n                                            <option value={2}>    |  Mediocore</option>\n                                            <option value={3}>    |  Good</option>\n                                            <option value={4}>    |  Great</option>\n                                            <option value={5}>    |  Amazing</option>\n                                        </Form.Control>\n                                    </Form.Group>\n                                    <div className=\"comment-submit\">\n                                        <Button  \n                                            variant=\"light\" \n                                            type=\"submit\" \n                                            style={{marginRight: \"1em\"}}\n                                            disabled = {\n                                                ((!validator.isEmpty( editMode.title, { ignore_whitespace:true }) === true) &&\n                                                (!validator.isEmpty( editMode.text, { ignore_whitespace:true }) === true ))\n                                                ? false : true}\n                                            onClick={() => handleUpdate(props.review.reviewId, editMode)}\n                                        >\n                                            Save Changes\n                                        </Button>\n                                        <Button\n                                            variant=\"danger\" \n                                            onClick={() => handleEditModeShow()}\n                                        >\n                                            Cancel\n                                        </Button>\n                                    </div>\n                                    \n                                </Form>\n                            </Card.Body>\n                            :\n                            <Card.Body className=\"review-body\">\n                                <div className=\"review-title\">\n                                    <h2>{props.review.title}</h2>\n                                </div>\n                                \n                                <p className=\"review-text\">{props.review.text} <i>-by <Link to={`/user/${props.review.username}`}>{props.review.username}</Link></i> </p>\n                            </Card.Body>\n                        }\n                        \n                        <footer className=\"comment-footer review-footer\">\n                            {/* <div className=\"comment-vote\">\n                                <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Patrician</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`patrIcon ${vote === \"upvoted\" ? vote : \"\"}`} \n                                        icon={faPrayingHands} \n                                        size=\"2x\" \n                                        color=\"white\" \n                                        onClick={ user ? e =>  handleUpvote(props.comment.commentId, user) : handleModalShow}\n                                    />\n                                </OverlayTrigger>\n                                <h5 className={vote === \"upvoted\" ? \"green\" : vote === \"downvoted\" ? \"red\" : \"\"}>{pointCount}</h5>\n                                <OverlayTrigger placement=\"top\" overlay={ <Tooltip> <strong>Plebian</strong> </Tooltip>}>\n                                    <FontAwesomeIcon \n                                        className={`plebIcon ${vote === \"downvoted\" ? vote : \"\"}`}\n                                        icon={faThumbsDown} \n                                        size=\"2x\" \n                                        color=\"white\"\n                                        onClick={ user ? e => handleDownvote(props.comment.commentId, user) : handleModalShow}    \n                                    />\n                                </OverlayTrigger>\n                            </div> */}\n                            \n                            <i>{`Posted ${new Date(props.review.date.seconds * 1000).toLocaleDateString(\"en-US\")}${isEdited(props.review.lastEdited)}`}</i>\n                        </footer>\n                        {<Modal\n                            show={delModalShow}\n                            onHide={() => setDelModal(false)}\n                            size=\"sm\"\n                            centered\n                        >\n                            <Modal.Header closeButton>\n                                <Modal.Title>\n                                Warning!\n                                </Modal.Title>\n                            </Modal.Header>\n                            <Modal.Body>\n                                Are you sure you want to delete this review?\n                                \n                            </Modal.Body>\n                            <Modal.Footer >\n                           <Button variant=\"danger\" className=\"comment-delete-button\" onClick={e => handleDelete(props.review.reviewId)}  >\n                                Yes\n                            </Button> \n                            <Button variant=\"light\" className=\"btn-light\" onClick={handleDelModalHide}>\n                                No\n                            </Button>\n                            </Modal.Footer>\n                        </Modal>\n                        }\n                    </Card>\n                )\n            }\n        </UserContext.Consumer>\n    )\n}\n\nexport default Review","import React, {useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport validator from 'validator';\n\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Row from 'react-bootstrap/Row';\nimport Tab from 'react-bootstrap/Tab';\n\nimport { UserContext } from '../../../providers/UserProvider';\nimport { postMovieReview, getMovieReviews } from './ReviewTab-fb.js';\nimport LoadingSpinner from '../../LoadingSpinner/LoadingSpinner.js'\nimport Review from \"./Review.js\";\n\nconst ReviewTab = props => {\n\n    const [reviewData, setReviewData] = useState({title: \"\", rating: 1, reviewText: \"\"});\n    const [reviews, setReviews] = useState({reviewsArr: [], reviewOrder:\"newest\", gettingReviews: true})\n    const [reviewForm, setReviewForm] = useState({userReviewExists: false, gettingForm: true});\n\n    async function waitForMovieReviews() {\n        let newReviews = await getMovieReviews(props.movieId);\n\n        let sortedReviews;\n\n        //sort reviews by newest\n        if (reviews.reviewOrder === \"newest\") {\n            sortedReviews = newReviews.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x < y)\n                return 1;\n\n                if (x > y)\n                    return -1;\n                return 0;\n            })\n        }\n\n        //sort reviews by oldest\n        if (reviews.reviewOrder === \"oldest\") {\n            sortedReviews = newReviews.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x > y)\n                return 1;\n\n                if (x < y)\n                    return -1;\n                return 0;\n            })\n        }\n\n        //sort reviews by rating, descending\n        if (reviews.reviewOrder === \"ratingDsc\") {\n           \n            sortedReviews = newReviews.sort((a, b) => {\n              \n                return b.rating - a.rating;\n            })\n        }\n\n        //sort reviews by rating, ascending\n        if (reviews.reviewOrder === \"ratingAsc\") {\n            sortedReviews = newReviews.sort((a, b) => {\n                return a.rating - b.rating;\n            })\n        }\n       \n        setReviews({...reviews, reviewsArr: sortedReviews, gettingReviews: false});\n    }\n\n    useEffect(() => {\n        \n        waitForMovieReviews();\n   \n    }, [reviews.gettingReviews, props.movieId])\n\n\n    const userReviewExists = (userId, reviewsArr) => {\n        return (reviewsArr.filter(review => review.authorId === userId).length > 0) ? true : false;\n\n    }\n\n    const submitReview = async (event, movieId, reviewData, user) => {\n        event.preventDefault();\n        await postMovieReview(movieId, reviewData, user);\n        setReviewData({title:\"\", rating: 1, reviewText: \"\"});\n        setReviews({...reviews, gettingReviews: true});\n\n    }\n\n    //change order of comments and trigger comments rerender\n    const changeReviewOrder = newOrder => {\n        if (newOrder === reviews.reviewOrder) { \n            return; \n        }\n        setReviews({...reviews, reviewOrder: newOrder, gettingReviews: true});\n    }\n\n    const reviewCards = reviews => {\n        return (\n            reviews.reviewsArr.map(review => (\n                <div key={review.reviewId}>\n                    <Review review={review} setReviews={setReviews} reviews={reviews}  />\n                </div>\n                \n            ))\n        )\n    }\n\n    return (\n        <Tab.Content>           \n            <Row>\n                <Col xs={1}>\n                </Col>\n                <Col xs={10}>\n\n                <UserContext.Consumer>\n                {\n                    user => (\n                        reviews.gettingReviews ? \n                    <LoadingSpinner />\n                    :\n\n                        user ?\n                            userReviewExists(user.uid, reviews.reviewsArr) ?\n                                <p>You have already posted a review for this movie.</p>\n                            :\n                            <Form className=\"black review-form\">\n                                <Form.Group>\n                                    <Form.Label>Review Headline</Form.Label>\n                                    <Form.Control value={reviewData.title} onChange={ e => setReviewData({ ...reviewData, title: e.target.value})} />\n                                </Form.Group>\n                                <Form.Group>\n                                <Form.Label>Review Text</Form.Label>\n                                    <FormControl as=\"textarea\" aria-label=\"With textarea\" rows={5} value={reviewData.reviewText} onChange={ e => setReviewData({ ...reviewData, reviewText: e.target.value})} />\n                                </Form.Group>\n                                <Form.Group>\n                                    <Form.Label>Rating</Form.Label>\n                                    <Form.Control className=\"rating-control\" value={reviewData.rating} onChange={ e => setReviewData({ ...reviewData, rating: e.target.value })} as=\"select\" size=\"sm\" >\n                                        <option value={1}>\n                                               |  Awful\n                                        </option>\n                                        <option value={2}>    |  Mediocore</option>\n                                        <option value={3}>    |  Good</option>\n                                        <option value={4}>    |  Great</option>\n                                        <option value={5}>    |  Amazing</option>\n                                    </Form.Control>\n                                </Form.Group>\n                                <div className=\"comment-submit\">\n                                    <Button  \n                                    variant=\"light\" \n                                    type=\"submit\" \n                                    disabled = {\n                                        ((!validator.isEmpty( reviewData.title, { ignore_whitespace:true }) == true) &&\n                                        (!validator.isEmpty( reviewData.reviewText, { ignore_whitespace:true }) == true ))\n                                        ? false : true}\n                                    onClick={e => submitReview(e, props.movieId, reviewData, user)}\n                                    >\n                                        Submit\n                                    </Button>\n                                </div>\n                            </Form>                           \n                        :\n                        <Card className=\"comment-card  please-signin\">\n                            <Card.Text>\n                                <i>Log in or <Link to={`/signup`}> sign up</Link> to leave a review</i>\n                            </Card.Text>\n                        </Card>\n                    )\n                }\n                </UserContext.Consumer>\n            \n                <div className=\"comment-stack\">\n                    <Dropdown  >\n                        <Dropdown.Toggle variant=\"light\" size=\"sm\" id=\"dropdown-basic\">\n                            Sort By\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"newest\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"newest\")}>Newest</Dropdown.Item>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"oldest\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"oldest\")}>Oldest</Dropdown.Item>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"ratingDsc\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"ratingDsc\")}>Rating Descending</Dropdown.Item>\n                            <Dropdown.Item className={`black-text ${reviews.reviewOrder===\"ratingAsc\" ? \"bold\" : \"\"}`} onClick={() => changeReviewOrder(\"ratingAsc\")}>Rating Ascending</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    {\n                        reviews.gettingReviews ? \n                            <LoadingSpinner />\n                        :\n                            reviews.reviewsArr.length > 0 ?\n                            reviewCards(reviews)                                                                                              \n                        :\n                            <p style={{textAlign: \"center\", paddingBottom: \"1em\"}}>Nobody has reviewed this movie yet. You could be the first!</p>\n                    }\n                </div>\n                </Col>\n                <Col xs={1}></Col>\n            </Row>\n        </Tab.Content>\n    )\n\n}\n\nexport default ReviewTab;","import React from 'react';\n\nimport \"./DiscussionTabs.css\"\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n\nimport CommentTab from \"./CommentTab\";\nimport ReviewTab from \"./ReviewTab\";\n\n\nconst DiscussionTabs = props => {\n\n    return (\n        <Row>\n            <Col>\n                <Row>\n                    <Col>\n                        <h2 className=\"movie-page-header\">Discussion</h2>\n                    </Col>\n                </Row>\n                    <Col>\n                        <div id=\"discussion\" className=\"black\">\n                            <Tabs defaultActiveKey=\"review\"  >\n                                <Tab eventKey=\"review\" title=\"Reviews\" className=\"disTab black\">\n                                    <ReviewTab movieId={props.movieId} />\n                                </Tab>\n                                <Tab eventKey=\"comments\" title=\"Comments\" className=\"disTab black\">\n                                    <CommentTab id={props.movieId} type=\"movie\" />\n                                </Tab> \n                            </Tabs>\n                        </div>\n                    </Col>\n            </Col>\n        </Row>\n    )  \n}\n\nexport default DiscussionTabs;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport apiKey from \"../apiKey\";\n\nimport createTechnicalInfo from './createTechnicalInfo';\nimport createGenreList from './createGenreList';\nimport createStarringList from './createStarringList';\nimport similarMovieDisplay from './similarMoviesDisplay';\nimport DiscussionTabs from './DiscussionTabs/DiscussionTabs.js';\nimport \"./MoviePage.css\"\n\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Image from 'react-bootstrap/Image';\n\n\nconst MoviePage = ({ match }) => {\n\n    const [pageMovie, setPageMovie] = useState(null);\n    const [similarMovies, setSimilarMovies] = useState([]);\n\n    const movieId = match.params.id;\n\n    useEffect(() => {\n        //retrieve movie data from API\n        const fetchData = async () => {\n            const { data: movieInfoRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`\n            );\n            const { data: movieCreditsRes } = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${apiKey}&language=en-US`\n            );\n            setPageMovie({ movieInfo: movieInfoRes, movieCredits: movieCreditsRes });\n        }\n        fetchData();\n    }, [movieId])\n\n    useEffect(() => {\n        //retrieve similar movies\n        const fetchSimilar = async () => {\n            const {data: simMoviesRes} = await axios.get(\n            `https://api.themoviedb.org/3/movie/${movieId}/similar?api_key=${apiKey}&language=en-US&page=1`\n            );\n            setSimilarMovies(simMoviesRes.results);\n        }\n        fetchSimilar();\n    }, [movieId])\n\n    const checkPosterPath = path => {\n        return path ?  `https://image.tmdb.org/t/p/w300${path}` : posterPlaceholder;\n    }\n\n    //return movie page, or loading screen if api calls aren't done \n    if (pageMovie) {\n\n        const posterRow = {\n            marginBottom: \"1em\"\n        };\n\n        const backdropURL= `https://image.tmdb.org/t/p/w1280${pageMovie.movieInfo.backdrop_path}`;\n\n        const backdrop = {\n            background: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7) ), url(${backdropURL})`,\n            backgroundPosition: \"center center\",\n            backgroundAttachment: \"fixed\",\n            backgroundSize: \"cover\",\n            paddingBottom: \"1em\"\n        };\n\n        const backdropDefault = {\n            background: \"#343a40\",\n            paddingBottom: \"1em\"\n        }\n\n        //release date\n        const releaseDate = pageMovie.movieInfo.release_date\n\n        return (   \n        <div >\n            <Container style={pageMovie.movieInfo.backdrop_path ? backdrop : backdropDefault} >\n                <div >\n                    <Row>\n                        <Col>\n                            <h1 className=\"movie-page-header\">\n                                {`${pageMovie.movieInfo.title} (${releaseDate.length > 0 ? releaseDate.slice(0,4) : \"N/A\"})`}\n                            </h1>\n                        </Col>\n                    </Row>\n                    <Row style={posterRow}>\n                        <Col xs={12} md={6} className=\"poster-column\">                    \n                            <Image\n                                rounded\n                                className=\"movie-page-poster\"\n                                src={checkPosterPath(pageMovie.movieInfo.poster_path)}\n                                alt={`poster for ${pageMovie.movieInfo.original_title}`}\n                            />\n                        </Col>\n                        <Col xs={12} md={6}>\n                            <p><i id=\"movie-overview\">{pageMovie.movieInfo.overview}</i></p>\n                            <p><b>Release Date</b> {releaseDate.length > 0 ? releaseDate : \"N/A\" }</p>\n                            <p><b>Genres</b> {createGenreList(pageMovie)}</p>  \n                            <p><b>Starring</b> {pageMovie.movieCredits.cast ? createStarringList(pageMovie) : \"N/A\"}</p> \n                            {createTechnicalInfo(pageMovie)}\n                            <b><Link to={`/movie/${movieId}/credits`}>See Full Cast and Crew</Link></b>\n                        </Col>\n                    </Row>\n                    </div>\n            </Container>\n            <Container>\n                <Row>\n                    <Col xs={12}>\n                        {similarMovieDisplay(similarMovies)}\n                        <DiscussionTabs movieId={movieId} />\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <LoadingSpinner />\n            </div>\n        )    \n    }\n}\n\nexport default MoviePage","import React from 'react';\n\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';  \n\n\nconst NoMatch = () => {\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>\n                        <h1 className=\"literata\" flud=\"true\">404</h1>\n                        <h1 className=\"literata\" flud=\"true\">PAGE NOT FOUND</h1>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n    \n}\n\nexport default NoMatch;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport validator from 'validator';\nimport {passwordReset} from \"../../firebase.js\";\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nimport Button from 'react-bootstrap/Button';\n\nimport Form from 'react-bootstrap/Form';\n\nimport \"./PWReset.css\"\n\nconst PWReset = () => {\n\n    let [email, setEmail] = useState('');\n    let [sendingConfirm, setSendingConfirm] = useState(false);\n    let [errorMessage, setErrorMessage] = useState('')\n\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    const validatePWReset = async (e) => {\n\n        e.preventDefault();\n        \n        if (validator.isEmpty(email, noWhitespace)) {\n            setErrorMessage('There is no email')\n            return;\n        }\n\n        if (validator.isEmail(email) === false)  {\n            setErrorMessage('Invalid email');\n            return;\n        }\n\n        await passwordReset(email);\n\n        setSendingConfirm(true);\n\n    }\n\n    return (\n\n        <Container>\n            <h1>Reset Your password</h1>\n            <Row>\n\n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n                <Col xs={10} sm={8} lg={6} xl={4}>\n                    {\n                    !sendingConfirm ?\n                    \n                        <Form className=\"reset-form\">     \n                            <Form.Group >\n                                <Form.Label>To reset your password, enter the email associated with your account.</Form.Label>\n                                <Form.Control type=\"username\" placeholder=\"What's your email?\" value={email} onChange={ e => setEmail(e.target.value)} />\n                            </Form.Group>\n\n                            <Button \n                               \n                                variant=\"light\" \n                                size=\"lg\" \n                                disabled={validator.isEmpty(email, noWhitespace) ? true : false} \n                                block \n                                onClick={validatePWReset}\n                            >\n                                Submit\n                            </Button>\n                            <b className=\"error-msg\">{errorMessage}</b>\n\n                        </Form>\n                    \n                    :\n\n                        <div className=\"reset-form\">\n                            <h3>Success</h3>\n                            <p style={{textAlign: \"center\"}}>An email has been sent with further instructions to reset your password.</p>\n                        \n                            <div className=\"go-home\">\n                                <Link to={`/`} >{`<< Return Home`}</Link>\n                            </div>\n                        </div>\n\n                    }\n                </Col > \n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n            </Row>\n        </Container>\n    )\n\n}\n\nexport default PWReset;","import apiKey from \"../apiKey.js\";\n\nconst querybuilder = (queryObj, type = \"movies\", pageCount) => {\n\n    //name of each query category\n    let queryNames = Object.keys(queryObj);\n    \n    let urlQuery = \"\";\n\n    for (let i = 0; i < queryNames.length; i++) {\n\n        switch(queryNames[i]) {\n            //text query\n            case \"q\":\n               urlQuery += `&query=${queryObj.q}`;\n                break;\n            //primary release year\n            case \"pry\":\n                urlQuery += `&primary_release_year=${queryObj.pry}`;\n                break;\n            //with companies\n            case \"wc\":\n                urlQuery += `&with_companies=${queryObj.wc}`;\n                break;\n            case \"wca\":\n                urlQuery += `&with_cast=${queryObj.wca}`;\n                break;\n            //with genres\n            case \"wg\":\n                urlQuery += `&with_genres=${queryObj.wg}`;\n                break;\n            default:\n              // code block\n        }\n        //add mandatory page count\n        urlQuery += `&page=${pageCount}`;\n\n    }\n\n    //complete api route\n    let finalURL;\n\n    switch(queryObj.type) {\n\n        case \"movies\":\n            finalURL = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}` + urlQuery;          \n            break;\n\n        case \"discover\":\n            finalURL = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc` + urlQuery;\n            break;\n\n        default:\n            //search movies if Type is not included\n            finalURL = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}` + urlQuery;          \n        \n    }\n\n    return finalURL;\n\n}\n\nexport default querybuilder;","import axios from 'axios';\nimport apiKey from \"../apiKey\";\n\nconst paramDisplayGenerator = async (params) => {\n\n    let sentence = \"Returning results where: \";\n\n    if ('q' in params) {\n        sentence += `query is ${params.q}.`;\n        \n    }\n\n    if ('wg' in params) {\n\n        let response = await axios.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=en-US`)\n        \n        let genreName = \"\";\n\n        response.data.genres.forEach(obj => {\n\n            if (params.wg === obj.id.toString()) {\n                genreName = obj.name.toString();\n\n            }\n\n        })\n\n        sentence += `genre is ${genreName}.`;\n\n    }\n\n    if ('wca' in params) {\n        \n        let response = await axios.get(`https://api.themoviedb.org/3/person/${params.wca}?api_key=${apiKey}&language=en-US`);\n            \n        sentence += `actor is ${response.data.name}.`;\n        \n    }  \n\n    return sentence;\n\n}\n\nexport default paramDisplayGenerator;","import React, { useState, useEffect } from 'react';\n\nimport { BrowserRouter as Router, Route, Link, useLocation } from \"react-router-dom\";\n\n//import apiKey from \"../apiKey\";\nimport queryBuilder from \"./queryBuilder\";\nimport paramDisplayGenerator from \"./paramDisplayGenerator\";\nimport axios from 'axios';\n\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Image from 'react-bootstrap/Image';\n\nimport \"./SearchResultsPage.css\"\n\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\n// const queryString = require('query-string');\nimport queryString from \"query-string\";\n\nconst SearchResultsPage = () => {\n\n    //useLocation() listens for a change to the URL\n    const location = useLocation();\n\n    //The user's url search query parameters\n    const searchParams = queryString.parse(window.location.search);\n\n    const [currentParams, setCurrentParams] = useState(searchParams);\n    const [paramDisplay, setParamDisplay] = useState(\"\");\n    const [searchResults, setSearchResults] = useState([]);\n    const [pageCount, setPageCount] = useState(1);\n    const [totalPages, setTotalPages] = useState(null);\n\n    //get placeholder poster if official poster is not available.\n    const checkPosterPath = path => {\n        return path ?  `https://image.tmdb.org/t/p/w92${path}` : posterPlaceholder;\n    }\n\n    const showMoreResults = async () => {\n\n        const replacementPageCount = pageCount + 1;\n        \n        const apiResults = await axios.get(queryBuilder(currentParams, currentParams.type, replacementPageCount));\n        setPageCount(replacementPageCount);\n        setSearchResults([...searchResults, ...apiResults.data.results]);\n        \n        setTotalPages(apiResults.data.total_pages);\n          \n    }\n\n    useEffect(() => {\n\n        const fetchResults = async () => {\n\n            //results from api based on url built by queryBuilder function\n            const apiResults = await axios.get(queryBuilder(searchParams, searchParams.type, 1));\n            \n            //show what the parameters are for the search results\n            const paramSentence = await paramDisplayGenerator(searchParams);\n\n            //update component state\n            setParamDisplay(paramSentence);\n            setCurrentParams(searchParams);\n            setPageCount(1);\n            setSearchResults([...apiResults.data.results]);\n            setTotalPages(apiResults.data.total_pages);\n\n        }\n\n        fetchResults();\n        \n    }, [location])\n\n    const MoreResultsButton = () => (\n        <Button onClick={showMoreResults} id=\"more-results-button\" variant=\"light\" size=\"lg\" block>\n            Show More Results\n        </Button>\n    )\n\n   \n        \n    if (searchResults) {\n        return (          \n            <div>\n                <Container>\n                    <Row>\n                        <Col xs={12}>\n                            <h1>Search Results</h1>\n                            <b>{paramDisplay}</b>\n                            <ListGroup >\n                                {searchResults.map(result => (\n                                    <ListGroup.Item key={result.id} className=\"results-item\">\n                                        <Row>\n                                            <Col xs={12} md={2} className=\"d-none d-md-block\">\n                                                <Image \n                                                    className=\"search-result-poster\"\n                                                    src={checkPosterPath(result.poster_path)} \n                                                    rounded \n                                                />\n                                            </Col>\n                                            <Col xs={12} md={10}>\n                                                <Row>\n                                                    <Link to={`/movie/${result.id}`}><b>{result.title} ({result.release_date ? result.release_date.slice(0, 4) : \"N/A\"})</b></Link>\n                                                </Row>\n                                                <Row>\n                                                    <i className=\"result-overview\">{result.overview}</i>\n                                                </Row>\n                                            </Col>\n                                        </Row>\n                                    </ListGroup.Item>\n                                ))}\n                            </ListGroup>\n                            {\n                                pageCount < totalPages ? <MoreResultsButton /> : <div></div>\n                            }\n                        </Col>                       \n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <Container>\n                    <Row>\n                        <Col>\n                        Loading Results\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default SearchResultsPage;","import React, { useEffect, useState } from 'react';\n\nimport apiKey from \"../apiKey\";\nimport posterPlaceholder from \"../poster-placeholder.jpg\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\n\nimport axios from 'axios';\n\nimport Button from 'react-bootstrap/Button'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Image from 'react-bootstrap/Image';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nimport \"./SearchBar.css\";\n\n\n// import Button from 'react-bootstrap/Button'\n\nconst SearchBar = (props) => {\n\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [suggestions, setSuggestions] = useState([]);\n    const [isFocused, setIsFocused] = useState(false);\n\n    // let history = useHistory();\n\n    useEffect(() => {\n        \n        const fetchSuggestions = async () => {\n            const apiResults = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${searchQuery}&page=1&include_adult=false`);\n            setSuggestions(apiResults.data.results)\n        }\n        \n        if (searchQuery.length >= 4) { \n            fetchSuggestions();\n        } \n\n    }, [searchQuery]);\n\n    const clearSearchBar = () => { setSearchQuery(\"\"); }\n\n    const submitSearch = event => {\n        if (event.key === \"Enter\") {\n            event.preventDefault();\n\n            //This causes shenanigans when using the search navbar on the search result page\n            props.history.push(`/search?q=${searchQuery}`);\n           \n            clearSearchBar();\n        }\n\n    }\n\n    const clickSearch = event => {\n        event.preventDefault()\n        \n        //This causes shenanigans when using the search navbar on the search result page\n        props.history.push(`/search?q=${searchQuery}`);\n           \n        clearSearchBar();\n    }\n\n    //limit the length of titles in the suggestion box that would cause text wrapping\n    const titleLimiter = (title, titleCutoff) => {     \n        return (title.length > titleCutoff) ?  `${title.slice(0, titleCutoff + 1)}...` : title;    \n    }\n\n    const releaseDateChecker = (date) => {\n        return date ? date.slice(0, 4) : \"N/A\"\n    }\n\n    const handleOnBlur = () => {\n        setTimeout(() => {  setIsFocused(false) }, 300)\n    }\n\n\n    //JSX\n    const showMore = () => {\n        if (suggestions.length > 6) {\n            return (\n                <ListGroup.Item  variant=\"warning\" className=\"suggestion-item\" onClick={clickSearch} >\n                    <Link to={`/search?type=movies&q=${searchQuery}`} onClick={clearSearchBar}>{`see more results for \"${titleLimiter(searchQuery, 26)}\"`}</Link> \n                </ListGroup.Item>\n            )\n        }\n    }\n\n    const suggestionBars = () => {\n        if (suggestions && isFocused && searchQuery.length >= 3) {\n            const suggestionCount = suggestions.slice(0, 6);\n            return(\n                <div id=\"search-suggestions\" >\n                    <div className=\"suggestion-group\">\n                    {\n                        suggestionCount.map(movie => {\n                            return (\n                                <div\n                                    variant=\"warning\" \n                                    key={movie.id}\n                                    onClick={() => { props.history.push(`/movie/${movie.id}`); clearSearchBar(); }}\n                                    className=\"suggestion-item\"\n                                >\n                                    <Image\n                                        rounded\n                                        className=\"suggestion-poster\"\n                                        src={movie.poster_path ? `https://image.tmdb.org/t/p/w300${movie.poster_path}` : posterPlaceholder}\n                                        alt={`poster for ${movie.title}`}\n                                    />\n                                    <Link to={`/movie/${movie.id}`} onClick={clickSearch} className=\"suggestion-font\">\n                                        {titleLimiter(movie.title, 40)}\n                                         {/* ({releaseDateChecker(movie.release_date)}) */}\n                                    </Link> \n                                </div>\n                            )\n                        })                    \n                    }\n                    {   \n                        showMore() \n                    }\n                    </div>\n                </div>              \n            )\n        }\n    }\n\n    return (\n        <div>\n            <div id=\"searchbar\" >\n                <input \n                    type=\"text\" \n                    value={searchQuery} \n                    className=\"searchbar-input\"\n                    onChange={e => setSearchQuery(e.target.value)}\n                    onFocus={() => setIsFocused(true)}\n                    onBlur={handleOnBlur}\n                    onKeyPress={submitSearch}\n                    placeholder=\"Search for films\" \n                />\n                <InputGroup.Append>\n                    <Button  variant=\"outline-secondary\" onClick={clickSearch} >\n                        <FontAwesomeIcon icon={faSearch} color=\"white\" />\n                    </Button>\n                </InputGroup.Append>\n            </div>    \n            {suggestionBars()}\n        </div>\n    )\n}\n\nexport default withRouter(SearchBar)","import React, { useState, useEffect, useContext } from 'react';\n\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\n\nimport { facebookSignin, googleSignin, signinUser, checkUser } from \"../../firebase.js\";\nimport facebookLogo from'./facebook-logo-png-38347.png';\nimport { LoginModalContext } from \"../../providers/LoginModalProvider\";\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\n\nimport '../../App.css'\n\nconst SignIn = () => {\n\n    const {loginShow, setLoginShow} = useContext(LoginModalContext);\n\n    let [email, setEmail] = useState(\"\");\n    let [password, setPassword] = useState(\"\");\n    let [errorMessage, setErrorMessage] = useState(\"\");\n\n    const handleSignin = async event => {\n        event.preventDefault();\n\n        await signinUser(email, password);\n\n        const signedIn = await checkUser();\n        \n        if (signedIn) {\n            setEmail(\"\")\n            setPassword(\"\")\n            setErrorMessage(\"\")\n            setLoginShow(false);\n        }\n        else {\n            setErrorMessage(\"Incorrect username and/or password\")\n            return;\n        }\n\n    }\n\n    const handleClose = () => {\n        setLoginShow(false);\n\n    }\n\n    return (\n        <Modal show={loginShow} onHide={handleClose} className=\"login-modal\">\n            <Modal.Header closeButton>\n                <Modal.Title>Sign In</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email address</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Email\" value={email} onChange={ e => setEmail(e.target.value)} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={ e => setPassword(e.target.value)} />\n                    </Form.Group>\n\n                    {/* Submit Button */}\n                    <Button variant=\"success\" className=\"emailSignin\" onClick={handleSignin} block>Submit</Button>\n                    <div style={{height: \"3em\" }}>\n                        <b style={{textAlign: \"center\"}} className=\"error-msg\">{errorMessage}</b>\n                    </div>\n                    \n                    <Link  to={`/pwreset`} onClick={handleClose} className=\"pwResetLink\"><p>Forgot your password?</p></Link>\n\n                </Form>\n            </Modal.Body>\n            <Modal.Footer className=\"login-modal-footer\">\n                <Container>\n                    <Row>\n                        {/* Google signin button */}\n                        <Col className=\"justify-content-center\">\n                            <button className=\"googleBtn\" type=\"button\" onClick={googleSignin}>\n                                <img\n                                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n                                alt=\"google logo\"\n                                />\n                                Sign In With Google\n                            </button>    \n                        </Col>\n                        {/* Facebook signin button */}\n                        <Col className=\"justify-content-center\">\n                            <button className=\"facebookBtn\" onClick={facebookSignin}>\n                                <img\n                                    src={facebookLogo}\n                                    alt=\"facebook logo\"\n                                />\n                                Sign in with Facebook\n                            </button>\n                        </Col>\n                    </Row>\n                    <Row className=\"justify-content-center\">\n                        \n                        <Link  to={`/signup`} onClick={handleClose}><p>Don't have an account? Sign up here!</p></Link>\n                     \n                    </Row>\n                </Container> \n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default SignIn;","import React, { useState } from 'react';\nimport validator from 'validator';\n\nimport { useHistory } from \"react-router-dom\";\n\nimport {signupNewUser} from \"../../firebase.js\";\n\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\n\nimport \"./Signup.css\";\n\nconst Signup = () => {\n\n    let [username, setUsername] = useState('')\n    let [email, setEmail] = useState('');\n    let [password, setPassword] = useState('');\n    let [errorMessage, setErrorMessage] = useState('')\n\n    let history = useHistory();\n\n    const noWhitespace = { ignore_whitespace:true };\n\n    //validate the signup\n    const validateSignup = async (e) => {\n        e.preventDefault();\n        \n        if (validator.isEmpty(username, noWhitespace)) {\n            setErrorMessage('There is no username')\n            return;\n        }\n\n        if (validator.isLength(username, {max: 16 }) === false) {\n            setErrorMessage(\"Your username can't be longer than 16 characters\")\n            return;;\n        }\n\n        if (validator.isEmail(email) === false)  {\n            setErrorMessage('Invalid email');\n            return;\n        }\n\n        if (validator.isLength(password, {min: 6, max: 100 }) === false) {\n            setErrorMessage('Your Password must be at least 6 characters')\n            return;\n        }\n        await signupNewUser(username, password, email);\n\n        history.push(\"/\")\n\n    }\n\n    return (\n        <Container>\n            <h1>Sign up</h1>\n            <Row className=\"signup\">\n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n                <Col xs={10} sm={8} lg={6} xl={4}>\n                    <Form className=\"signup-form\">                       \n                        <Form.Group controlId=\"formBasicUsername\">\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control type=\"username\" placeholder=\"What's your name?\" value={username} onChange={ e => setUsername(e.target.value)} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email Address</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={ e => setEmail(e.target.value)} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={ e => setPassword(e.target.value)} />\n                        </Form.Group>\n\n                        <Button \n                        variant=\"light\" \n                        size=\"lg\" \n                        disabled={validator.isEmpty(username, noWhitespace) || validator.isEmpty(email, noWhitespace) || validator.isEmpty(password, noWhitespace) ? true : false} \n                        block \n                        onClick={validateSignup}\n                        >\n                            Submit\n                        </Button>\n                        <b className=\"error-msg\">{errorMessage}</b>\n\n                    </Form>\n                </Col > \n                <Col xs={1} sm={2} lg={3} xl={4}>\n                </Col>\n            </Row>\n        </Container>\n    )\n    \n}\n\nexport default Signup;","import { firestore } from '../../firebase.js';\n\nconst getUser = async username => {\n    \n    let userObj;\n\n    await firestore.collection(\"users\").where(\"username\", \"==\", username).get().then(snapshot => {\n\n        userObj = snapshot.docs[0].data();\n      \n    }).catch(function(error) {\n    \n        console.log(\"Error getting user: \", error);\n    \n    });\n\n    return userObj;\n}\n\nexport default getUser;","import React, { useState, useContext, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nimport ReactHtmlParser from 'react-html-parser';\n// import Cheerio from \"cheerio\";\n\nimport getArticles from \"./ArticleList-FB.js\"\n\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\n\nimport \"./ArticleList.css\";\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\n\nconst ArticleList = props => {\n\n    const [articles, setArticles] = useState([]);\n\n    let history = useHistory();\n\n    useEffect(() => {\n\n        //retrieve article data from firestore\n        const fetchArticles = async () => {\n\n            let artsToBe = await getArticles(props.username);\n\n            //sort articles in array from newest to oldest\n            let sortedArticles = artsToBe.sort((a, b) => {\n                let x = a.date.seconds, y = b.date.seconds\n                \n                if (x < y)\n                return 1;\n\n                if (x > y)\n                    return -1;\n                return 0;\n            })\n\n            setArticles(sortedArticles);\n\n        }\n\n        fetchArticles();\n\n    }, [])\n\n    const createPreviewElement = str => {\n        let arr = str.split(\"><\").slice(0,1);\n        arr.push(\">\")\n        \n        return arr.join(\"\")\n    }\n\n    if (articles) {\n        return (\n            <Container>\n                <Row>\n                    <Col>\n\n                    {   \n                        articles.length > 0 ?\n                            \n                        articles.map(article => (\n                            <div className=\"article-preview\" key={articles.indexOf(article)}>\n                                <p><i>{new Date(article.date.seconds * 1000).toLocaleDateString(\"en-US\")}</i></p>\n                                <h2 onClick={() => history.push(`/article/${article.urlString}`)} >{article.title}</h2>\n                                {/* preview only the first X words of the article of the article */}\n                                <div>{ReactHtmlParser(createPreviewElement(article.text))}</div>\n                                <div className=\"read-more\"><Link to={`/article/${article.urlString}`}>Read more</Link></div>\n                            </div>\n                        ))\n                        \n                        :\n                        <div><p>This user hasn't published any articles.</p></div>\n                    }\n                    </Col>\n                </Row>\n            </Container>\n        )\n    }\n    else {\n\n        return (\n            <div>\n                <LoadingSpinner />\n            </div>\n        )    \n    } \n\n}\n\nexport default ArticleList;","import React, { useState, useContext, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport getUser from \"./UserPage-FB.js\";\nimport ArticleList from \"./ArticleList.js\"\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js'\n\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Card from 'react-bootstrap/Card';\n\n\nconst UserPage = ({ match }) => {\n\n    const [userPageData, setUserPageData] = useState({});\n\n    const usernameUrl = match.params.username;\n\n    useEffect(() => {\n\n        //retrieve user data from firestore\n        const fetchUser = async () => {\n\n            let userToBe = await getUser(usernameUrl);\n\n            setUserPageData(userToBe);\n\n        }\n\n        fetchUser();\n\n    }, [])\n\n    if(userPageData) {\n\n        return (\n            <Container>\n                <Row>\n                    <Col xs={12}   lg={4} >\n                    <Card className=\"comment-card\">\n                        <Card.Header >\n                            <h1 >{userPageData.username}</h1>\n                        </Card.Header>\n                        <Card.Subtitle className=\"mb-2 text-muted\"></Card.Subtitle>\n                        <Card.Body> <b>{userPageData.userPoints} points </b> </Card.Body>\n                    </Card>\n                    \n                    </Col>\n                    <Col xs={12}  lg={8}>\n                        <h1 style={{textAlign: \"center\", marginTop: \".8em\"}}>Articles</h1>\n                        <ArticleList username={usernameUrl} />\n                        \n                    </Col>\n                </Row>\n            </Container>\n        )\n    } else {\n\n        return (\n            <div>\n                <LoadingSpinner />\n            </div>\n        )    \n    } \n\n}\n\nexport default UserPage","import React, { useState, useContext, useEffect } from 'react';\n\n//NPM packages\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { useMediaQuery } from 'react-responsive';\n\nimport ScrollToTop from \"./ScrollToTop\";\nimport {logoutUser} from \"./firebase.js\";\nimport { UserContext } from \"./providers/UserProvider\";\nimport { LoginModalContext } from \"./providers/LoginModalProvider\";\n\n//components\nimport ArticleForm from './components/ArticleForm/ArticleForm.js';\nimport ArticlePage from './components/ArticlePage/ArticlePage.js';\nimport CreditsPage from './components/CreditsPage/CreditsPage.js';\nimport DashboardPage from './components/DashboardPage/DashboardPage.js';\nimport Home from './components/Home/Home';\nimport MoviePage from './components/MoviePage/MoviePage.js';\nimport NoMatch from './components/NoMatch/NoMatch.js';\nimport PWReset from './components/PWReset/PWReset.js';\nimport SearchResultsPage from './components/SearchResultsPage/SearchResultsPage.js';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport SignIn from './components/SignIn/SignIn.js';\nimport Signup from './components/Signup/Signup.js';\nimport UserPage from './components/UserPage/UserPage.js';\n\n//CSS\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container'\nimport Col from 'react-bootstrap/Col'\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport './App.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nconst App = () => {\n\n  let history = useHistory();\n\n  const {loginShow, setLoginShow} = useContext(LoginModalContext)\n\n  //hide certain elements based on screen width\n  const isMobileDevice = useMediaQuery({ query: '(max-width: 767px)' });\n\n  const handleModalShow = () => {\n    setLoginShow(true);\n  }\n\n  //show mobile search.\n  const [mobileSearch, setMobileSearch] = useState(false);\n\n  //styling for all pages with router\n  const containerStyle = {\n    backgroundColor: \"#343a40\",\n    minHeight:\"100vh\"\n  };\n\n  return (\n    <div>\n      <ScrollToTop />\n      <div id=\"app-overwrites\" className=\"App\">\n        \n          <Container >\n          <div style={containerStyle}>\n            {/* Navigation bar */}\n            \n            <div id=\"kino-nav\">\n              {\n                !mobileSearch && \n                <div className=\"bar-item\"  >\n                  <Link className=\"app-logo\" to={`/`}>KINO</Link>\n                </div>\n                \n              }\n\n              { \n                (isMobileDevice && !mobileSearch) ?\n                    null\n                  :\n                    (isMobileDevice && mobileSearch) ?\n                \n                      <div className=\"searchbar-div\" >\n                        <SearchBar mobileSearch={mobileSearch} />\n\n                        \n                      </div>\n      \n                    :\n                      <div className=\"searchbar-div\" >\n                        <SearchBar mobileSearch={mobileSearch} />\n                      </div>\n              }\n\n                {/* show or hide searchbars on mobile display */}\n\n              {\n                (isMobileDevice || mobileSearch) &&\n                  <UserContext.Consumer>\n                        {\n                          user => (\n                            <Button \n                              variant=\"outline-secondary\" \n                              style={!mobileSearch ? {marginLeft: \"50%\"} : null} \n                              onClick={!mobileSearch ?  () => setMobileSearch(true) : () => setMobileSearch(false)} \n                            >\n                                <FontAwesomeIcon icon={!mobileSearch ? faSearch : faTimes} color=\"white\" />\n                            </Button>\n                          )\n                        }                     \n                    </UserContext.Consumer>\n              }\n\n              {\n                !mobileSearch &&\n                  <UserContext.Consumer>\n                    {\n\n                user => (\n                  //is the user logged in?\n                    user ?                                          \n                        <div className=\"bar-item\">\n                          <Dropdown >\n                            <Dropdown.Toggle variant=\"light\">\n                              User\n                            </Dropdown.Toggle>\n                            <Dropdown.Menu>\n                              <Dropdown.Item className=\"black-text\" onClick={() => {history.push(\"/dashboard\")}}>Dashboard</Dropdown.Item>\n                              <Dropdown.Item className=\"black-text\" onClick={logoutUser}>Log Out</Dropdown.Item>                       \n                            </Dropdown.Menu>\n                          </Dropdown>\n                        </div>\n                    :\n                      <div className=\"bar-item\" \n                      // style={ mobileSearch ? {display: \"none\"} : {display: \"show\"}}\n                      style={{textAlign: \"right\"}}\n                      >\n                        <Button variant=\"light\" onClick={handleModalShow} >Log In</Button>\n                      </div>\n                  )      \n              \n                  }\n                </UserContext.Consumer>\n                \n              }  \n            </div>\n\n            <div className=\"wrapper\">\n              \n              {/* React Router */}\n              <Switch >\n                <Route path=\"/\"                   exact component={Home} />\n                <Route path=\"/movie/:id/credits\"  component={CreditsPage} />\n                <Route path=\"/movie/:id\"          component={MoviePage} />\n                <Route path=\"/dashboard\"          component={DashboardPage} />\n                <Route path=\"/search\"             component={SearchResultsPage} />\n                <Route path=\"/signup\"             component={Signup} />\n                <Route path=\"/pwreset\"            component={PWReset} />\n                <Route path=\"/articleform\"        component={ArticleForm} />\n                <Route path=\"/article/:urlString\" component={ArticlePage} />\n                <Route path=\"/user/:username\"     component={UserPage} />\n                {/* 404 page */}\n                <Route component={NoMatch} />\n              </Switch>\n              \n            </div>\n            {/* Signin Modal */}\n            <SignIn />\n            </div>\n          </Container>\n          \n      </div>\n  \n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { BrowserRouter as Router} from \"react-router-dom\";\n\n// import ScrollToTop from './ScrollToTop.js';\nimport UserProvider from \"./providers/UserProvider.js\"\nimport {LoginModalProvider} from \"./providers/LoginModalProvider.js\"\n\n\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Router>\n        <UserProvider>\n            <LoginModalProvider>\n                <App />\n            </LoginModalProvider>\n        </UserProvider>\n    </Router>\n        \n  \n, \ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/poster-placeholder.e0e2ac0d.jpg\";"],"sourceRoot":""}